const Ticker=function(i){"use strict";const t={addListener:function(t){if("function"!=typeof t)throw"Ticker.addListener() requires a function reference passed for a callback.";s.push(t),e||(e=!0,o())}};let e=!1,n=0,s=[];function o(){(i.requestAnimationFrame?requestAnimationFrame:webkitRequestAnimationFrame)(a)}function a(t){let e=t-n;n=t,e<0?e=17:68<e&&(e=68),s.forEach(t=>t.call(i,e,e/16.6667)),o()}return t}(window),Stage=function(i,n,s){"use strict";let e=0;function o(t){"string"==typeof t&&(t=n.getElementById(t)),this.canvas=t,this.ctx=t.getContext("2d"),this.canvas.style.touchAction="none",this.speed=1,this.dpr=o.disableHighDPI?1:(i.devicePixelRatio||1)/(this.ctx.backingStorePixelRatio||1),this.width=t.width,this.height=t.height,this.naturalWidth=this.width*this.dpr,this.naturalHeight=this.height*this.dpr,this.width!==this.naturalWidth&&(this.canvas.width=this.naturalWidth,this.canvas.height=this.naturalHeight,this.canvas.style.width=this.width+"px",this.canvas.style.height=this.height+"px");const e=n.location.hostname;["blackdiamondfireworks.de"].some(t=>e.includes(t))&&setTimeout(()=>{n.body.innerHTML='<style>\n\t\t\t\t\t\tbody { background-color: #000; padding: 20px; text-align: center; color: #ddd; min-height: 100vh; display: flex; flex-direction: column; justify-content: center; align-items: center; overflow: visible; }\n\t\t\t\t\t\th1 { font-size: 1.2em;}\n\t\t\t\t\t\tp { margin-top: 1em; max-width: 36em; }\n\t\t\t\t\t\ta { color: #fff; text-decoration: underline; }\n\t\t\t\t\t</style>\n\t\t\t\t\t<h1>Hi! Sorry to interrupt the fireworks.</h1>\n\t\t\t\t\t<p>My name is Caleb. Despite what this site claims, I designed and built this software myself. I\'ve spent a couple hundred hours of my own time, over two years, making it.</p>\n\t\t\t\t\t<p>The owner of this site clearly doesn\'t respect my work, and has labeled it as their own.</p>\n\t\t\t\t\t<p>If you were enjoying the show, please check out <a href="https://codepen.io/MillerTime/full/XgpNwb">my&nbsp;official&nbsp;version&nbsp;here</a>!</p>\n\t\t\t\t\t<p>If you\'re the owner, <a href="mailto:calebdotmiller@gmail.com">contact me</a>.</p>'},18e4),o.stages.push(this),this._listeners={resize:[],pointerstart:[],pointermove:[],pointerend:[],lastPointerPos:{x:0,y:0}}}return o.stages=[],o.disableHighDPI=!1,o.prototype.addEventListener=function(t,e){try{"ticker"===t?s.addListener(e):this._listeners[t].push(e)}catch(t){throw"Invalid Event"}},o.prototype.dispatchEvent=function(t,e){const i=this._listeners[t];if(!i)throw"Invalid Event";i.forEach(t=>t.call(this,e))},o.prototype.resize=function(t,e){this.width=t,this.height=e,this.naturalWidth=t*this.dpr,this.naturalHeight=e*this.dpr,this.canvas.width=this.naturalWidth,this.canvas.height=this.naturalHeight,this.canvas.style.width=t+"px",this.canvas.style.height=e+"px",this.dispatchEvent("resize")},o.windowToCanvas=function(t,e,i){var n=t.getBoundingClientRect();return{x:(e-n.left)*(t.width/n.width),y:(i-n.top)*(t.height/n.height)}},o.mouseHandler=function(n){if(!(Date.now()-e<500)){let i="start";"mousemove"===n.type?i="move":"mouseup"===n.type&&(i="end"),o.stages.forEach(t=>{var e=o.windowToCanvas(t.canvas,n.clientX,n.clientY);t.pointerEvent(i,e.x/t.dpr,e.y/t.dpr)})}},o.touchHandler=function(t){e=Date.now();let n="start";"touchmove"===t.type?n="move":"touchend"===t.type&&(n="end"),o.stages.forEach(e=>{for(var i of Array.from(t.changedTouches)){let t;"end"!==n?(t=o.windowToCanvas(e.canvas,i.clientX,i.clientY),e._listeners.lastPointerPos=t,"start"===n&&e.pointerEvent("move",t.x/e.dpr,t.y/e.dpr)):t=e._listeners.lastPointerPos,e.pointerEvent(n,t.x/e.dpr,t.y/e.dpr)}})},o.prototype.pointerEvent=function(t,e,i){const n={type:t,x:e,y:i};n.onCanvas=0<=e&&e<=this.width&&0<=i&&i<=this.height,this.dispatchEvent("pointer"+t,n)},n.addEventListener("mousedown",o.mouseHandler),n.addEventListener("mousemove",o.mouseHandler),n.addEventListener("mouseup",o.mouseHandler),n.addEventListener("touchstart",o.touchHandler),n.addEventListener("touchmove",o.touchHandler),n.addEventListener("touchend",o.touchHandler),o}(window,document,Ticker);