"use strict";const screen=document.getElementById("screen"),xmlns="http://www.w3.org/2000/svg",xlinkns="http://www.w3.org/1999/xlink";window.addEventListener("pointermove",e=>{pointer.x=e.clientX,pointer.y=e.clientY,rad=0},!1);const resize=()=>{width=window.innerWidth,height=window.innerHeight};let width,height;window.addEventListener("resize",()=>resize(),!1),resize();const prepend=(e,t)=>{const n=document.createElementNS(xmlns,"use");elems[t].use=n,n.setAttributeNS(xlinkns,"xlink:href","#"+e),screen.prepend(n)},N=40,elems=[];for(let e=0;e<N;e++)elems[e]={use:null,x:width/2,y:0};const pointer={x:width/2,y:height/2},radm=Math.min(pointer.x,pointer.y)-20;let frm=Math.random(),rad=0;const dragon_scale=.5,dragon_speed=.6,dragon_stretch=.6;for(let e=1;e<N;e++)1===e?prepend("Cabeza",e):8===e||14===e?prepend("Aletas",e):prepend("Espina",e);const run=()=>{requestAnimationFrame(run);let e=elems[0];var t=Math.cos(3*frm)*rad*width/height,n=Math.sin(4*frm)*rad*height/width;e.x+=(t+pointer.x-e.x)/10,e.y+=(n+pointer.y-e.y)/10;for(let t=1;t<N;t++){let e=elems[t];var r=elems[t-1],s=Math.atan2(e.y-r.y,e.x-r.x);e.x+=((r.x-e.x)/dragon_scale+Math.cos(s)*(100-t)/5)/4*dragon_stretch,e.y+=((r.y-e.y)/dragon_scale+Math.sin(s)*(100-t)/5)/4*dragon_stretch;var i=(162+4*(1-t))/50*dragon_scale;e.use.setAttributeNS(null,"transform",`translate(${(r.x+e.x)/2},${(r.y+e.y)/2}) rotate(${180/Math.PI*s}) translate(0,0) scale(${i},${i})`)}rad<radm&&rad++,frm+=.003*dragon_speed,60<rad&&(pointer.x+=.05*(width/2-pointer.x),pointer.y+=.05*(height/2-pointer.y))};run();