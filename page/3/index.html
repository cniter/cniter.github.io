<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="description" content="Shaunä¹‹æ‰€è§æ‰€å­¦æ‰€æƒ³æ‰€å¾—"><meta name="keywords" content="algorithm,android,bigdata,c/cpp,clustering,container,css,cv,devtool,ffmpeg,geomesa,geometry,gfw,github,gl,golang,hexo,http,integration,java,k8s,language,latex,mapbox,markdown,matlab,network,note,numerical,opencv,opendrive,opengl,python,qt,record,search,segmentation,tensorflow,thought,unix-like,vscode"><meta property="og:type" content="article"><meta property="og:site_name" content="Shaun&#39;s Space"><title>Shaun&#39;s Space</title><link rel="icon" href="/img/favicon.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha256-eSi1q2PG6J7g7ib17yAaWMcrr5GrtohYChqibrV7PBE=" crossorigin="anonymous"><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/fork-awesome/1.1.5/css/fork-awesome.min.css" integrity="sha256-P64qV9gULPHiZTdrS1nM59toStkgjM0dsf5mK/UwBV4=" crossorigin="anonymous"><script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><script src="//cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha256-ZvOgfh+ptkpoa2Y4HkRY28ir89u/+VRyDE7sB7hEEcI=" crossorigin="anonymous"></script><script src="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha256-VsEqElsCHSGmnmHXGQzvoWjWwoznFSZc6hs7ARLRacQ=" crossorigin="anonymous"></script><script src="//cdnjs.cloudflare.com/ajax/libs/pace/1.0.2/pace.min.js" integrity="sha256-EPrkNjGEmCWyazb3A/Epj+W7Qm2pB9vnfXw+X6LImPM=" crossorigin="anonymous"></script><script src="//cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><link rel="stylesheet" href="/css/style.css"><style>body{cursor:url(/img/cursor/normal.cur),auto}#navbar-toggler--btn,.code-copy,.copy-path,a,button{cursor:url(/img/cursor/link.cur),auto}#site-bg{position:fixed;left:0;top:0;width:100%;height:100%;z-index:-1;background-image:url(/img/site-bg/bg-0.jpg);background-repeat:no-repeat;background-size:100% 100%;opacity:.2;transition:background-image 3s}</style><script>const bdshareURL="/plugins/baidushare/"</script><script async type="text/javascript" src="/js/live2d/autoload.js"></script><meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="Shaun's Space" type="application/atom+xml">
</head><body><!--[if lt IE 9]>
        <link rel="stylesheet" href="/css/ie9.css">
        <div class="alert alert-danger topframe" role="alert">
            å˜¿ï¼Œæœ‹å‹ï¼æ‚¨çš„æµè§ˆå™¨å·²<strong>è¿‡æœŸ</strong>ï¼Œä¸å»ºè®®ç»§ç»­é£Ÿç”¨ã€‚
            <a target="_blank" class="alert-link" href="http://browsehappy.com">è¿™é‡Œ</a> æœ‰äº›æ–°ç©æ„å„¿ï¼Œä½•ä¸è¯•è¯•ï¼Ÿ
        </div>
    <![endif]--><header id="header"><nav id="navbar" class="navbar navbar-expand-md"><div class="container"><h1 id="site-title"><a href="/" class="navbar-brand"><img src="/img/favicon.png"> <span>Shaun&#39;s Space</span></a></h1><button id="navbar-toggler--btn" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsibleNavbar"><span><i class="fa fa-list-ul" aria-hidden="true"></i></span></button><div class="collapse navbar-collapse" id="collapsibleNavbar"><ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="/" title="é¦–é¡µ" data-toggle="tooltip" data-placement="bottom"><i class="nav-icon fa fa-home"></i> é¦–é¡µ</a></li><li class="nav-item"><a class="nav-link" href="/archives" title="æ‰€æœ‰æ–‡ç« " data-toggle="tooltip" data-placement="bottom"><i class="nav-icon fa fa-archive"></i> å½’æ¡£</a></li><li class="nav-item"><a class="nav-link" href="/categories" title="å…¨éƒ¨åˆ†ç±»" data-toggle="tooltip" data-placement="bottom"><i class="nav-icon fa fa-folder"></i> åˆ†ç±»</a></li><li class="nav-item"><a class="nav-link" href="/tags" title="å…¨éƒ¨æ ‡ç­¾" data-toggle="tooltip" data-placement="bottom"><i class="nav-icon fa fa-tags"></i> æ ‡ç­¾</a></li><li class="nav-item"><a class="nav-link" href="/about" title="å…³äºæœ¬ç«™" data-toggle="tooltip" data-placement="bottom"><i class="nav-icon fa fa-user"></i> å…³äº</a></li><li class="nav-item"><a class="nav-link" href="/guide" title="Treasure Guide" data-toggle="tooltip" data-placement="bottom"><i class="nav-icon fa fa-university"></i> å¯¼èˆª</a></li></ul></div></div></nav></header><div class="container"><div class="row"><aside id="left-col" class="col-md-1"></aside><main class="col-lg-8 col-sm-12"><div id="site-bg"></div><article id="post-Geometryå¢é‡æ›´æ–°" class="article div-border"><header class="article-header"><span class="article-date article-title--index"><i class="fa fa-calendar" aria-hidden="true"></i> <a href="/posts/a5661762.html"><time datetime="2020-11-22T10:26:10.000Z">2020-11-22</time></a></span><section class="article-title article-title--index"><a href="/posts/a5661762.html">Geometryå¢é‡æ›´æ–°</a></section><div class="article-label"><div class="article-category label"><i class="fa fa-book" aria-hidden="true"></i> <a class="color2 article-category-link" href="/categories/Image-Graphic/">Image&Graphic</a></div><div class="article-tag label"><i class="fa fa-bookmark" aria-hidden="true"></i> <a class="color2 article-tag-none-link" href="/tags/algorithm/" rel="tag">algorithm</a></div></div></header><section class="article-content"><div class="article-content--excerpt"><h2 id="å‰è¨€">å‰è¨€</h2><p>ã€€ã€€ä¼˜åŒ– DrawCall æ˜¯å›¾å½¢å­¦æ€§èƒ½ä¼˜åŒ–ä¸­è€ç”Ÿå¸¸è°ˆçš„é—®é¢˜ï¼Œè€Œé’ˆå¯¹ DrawCall ä¼˜åŒ–æœ‰å¾ˆå¤šæ–¹æ¡ˆï¼Œå¤§è‡´å¯åˆ†ä¸ºä¸¤ç§ï¼šç®€åŒ–ï¼ˆSimplificationï¼‰å’Œåˆå¹¶ï¼ˆConsolidationï¼‰ï¼Œç®€åŒ–æ˜¯æŒ‡å‡å°‘ä¸‰è§’å½¢ä¸ªæ•°ï¼Œå³å°†ç²¾ç»†çš„æ¨¡å‹å˜ä¸ºç²—ç³™çš„æ¨¡å‹ä»¥åŠå„ç§ä¸‰è§’å½¢å‰”é™¤æ–¹æ¡ˆï¼ˆè§†é”¥ä½“å‰”é™¤ï¼ˆFrustum Cullingï¼‰ï¼Œé®æŒ¡å‰”é™¤ï¼ˆOcclusion Cullingï¼‰ç­‰ï¼‰ï¼Œè€Œåˆå¹¶è‡ªç„¶åˆ™æ˜¯å°†åŒä¸€ä¸­æè´¨ä¸‹çš„å¤šä¸ª geometry åˆå¹¶æˆä¸€ä¸ª geometryã€‚</p></div><div class="article-content--all"><h2 id="å‰è¨€">å‰è¨€</h2><p>ã€€ã€€ä¼˜åŒ– DrawCall æ˜¯å›¾å½¢å­¦æ€§èƒ½ä¼˜åŒ–ä¸­è€ç”Ÿå¸¸è°ˆçš„é—®é¢˜ï¼Œè€Œé’ˆå¯¹ DrawCall ä¼˜åŒ–æœ‰å¾ˆå¤šæ–¹æ¡ˆï¼Œå¤§è‡´å¯åˆ†ä¸ºä¸¤ç§ï¼šç®€åŒ–ï¼ˆSimplificationï¼‰å’Œåˆå¹¶ï¼ˆConsolidationï¼‰ï¼Œç®€åŒ–æ˜¯æŒ‡å‡å°‘ä¸‰è§’å½¢ä¸ªæ•°ï¼Œå³å°†ç²¾ç»†çš„æ¨¡å‹å˜ä¸ºç²—ç³™çš„æ¨¡å‹ä»¥åŠå„ç§ä¸‰è§’å½¢å‰”é™¤æ–¹æ¡ˆï¼ˆè§†é”¥ä½“å‰”é™¤ï¼ˆFrustum Cullingï¼‰ï¼Œé®æŒ¡å‰”é™¤ï¼ˆOcclusion Cullingï¼‰ç­‰ï¼‰ï¼Œè€Œåˆå¹¶è‡ªç„¶åˆ™æ˜¯å°†åŒä¸€ä¸­æè´¨ä¸‹çš„å¤šä¸ª geometry åˆå¹¶æˆä¸€ä¸ª geometryã€‚</p><span id="more"></span><h2 id="éœ€æ±‚ç¯‡">éœ€æ±‚ç¯‡</h2><p>ã€€ã€€æœ€è¿‘ä¸€æ®µæ—¶é—´ä¸€ç›´åœ¨åšé«˜ç²¾åœ°å›¾é“è·¯çš„ç¼–è¾‘ï¼Œé“è·¯çš„ç¼–è¾‘æ¶‰åŠåˆ°å¾ˆå¤šä¸œè¥¿ï¼Œè¿™ç¯‡ä»…ç®€å•è°ˆè°ˆç¼–è¾‘æ€§èƒ½çš„é—®é¢˜ã€‚ä¸ºäº†èƒ½æ›´ç›´ç™½çš„æ˜¾ç¤ºé«˜ç²¾åœ°å›¾ï¼Œä¸èƒ½ç®€å•çš„åªä½¿ç”¨ç‚¹å’Œçº¿ï¼Œè¿˜éœ€è¦ä½¿ç”¨é¢å°†è·¯é¢å’Œè·¯é¢ä¸Šçš„ä¸€äº›è·¯é¢æ ‡è¯†ç²¾ç¡®çš„è¿˜åŸå‡ºæ¥ã€‚åœ¨å¯è§†åŒ–é“è·¯æ—¶ï¼Œä¸»è¦æœ‰ä¸¤ç§æ–¹æ¡ˆï¼š1ã€å°†æ¯æ¡é“è·¯ä½œä¸ºä¸€ä¸ªå•ç‹¬çš„ Meshï¼Œå³å•ç‹¬æ§åˆ¶æ¯æ¡é“è·¯çš„æ¸²æŸ“ï¼Œä¸€æ¡é“è·¯è‡³å°‘äº§ç”Ÿä¸€æ¬¡ DrawCallï¼Œè¿™æ ·å¯ä»¥æ›´æ–¹ä¾¿çš„å¯¹æ¯æ¡é“è·¯è¿›è¡Œç¼–è¾‘ï¼Œä½†åœ¨æ¸²æŸ“æ—¶è¦æ±‚æ›´é«˜çš„æ€§èƒ½ï¼Œè€Œä¸”é“è·¯ä¸€å¤šï¼Œå°†ä¸å¯é¿å…çš„å¼•èµ·å¡é¡¿ï¼›2ã€å°†æ‰€æœ‰é“è·¯ä½œä¸ºä¸€ä¸ª Meshï¼Œå³ç›´æ¥æ¸²æŸ“å‡ºä¸€æ•´ä¸ªè·¯ç½‘ï¼Œè¿™æ ·æ˜¾è‘—é™ä½äº† DrawCall æ¬¡æ•°ï¼Œä½¿æ¸²æŸ“æ›´æµç•…ï¼Œä½†é—®é¢˜åœ¨äºæ¯ç¼–è¾‘ä¸€æ¬¡é“è·¯æ—¶ï¼Œéƒ½éœ€è¦é‡æ–°ä¸‰è§’åŒ–ï¼ˆTessellationï¼‰æ•´ä¸ªè·¯ç½‘ï¼Œè€Œä¸”åœ¨é€‰ä¸­ä¸€æ¡é“è·¯æ—¶ï¼Œä¸ºå¯è§†åŒ–é€‰ä¸­æ•ˆæœï¼ŒåŒæ ·éœ€è¦é‡æ–°ä¸‰è§’åŒ–è¯¥é“è·¯ï¼Œå¹¶ç”Ÿæˆç›¸åº”çš„ Meshï¼Œå¯¼è‡´ç¼–è¾‘å¡é¡¿ï¼Œæ¯ç¼–è¾‘å®Œä¸€æ¬¡éƒ½å¯èƒ½éœ€è¦ç­‰å¾…ä¸€ä¼šå„¿ã€‚æ‰€ä»¥ä¸ºäº†å¹³è¡¡æ¸²æŸ“æ€§èƒ½å’Œç¼–è¾‘æ•ˆç‡ï¼Œéœ€è¦æœ‰ä¸€ç§æŠ˜ä¸­çš„æ–¹æ¡ˆï¼Œå³å¯¹æ•´ä¸ªè·¯ç½‘çš„ Geometry èƒ½åšåˆ°å¿«é€Ÿçš„åˆ†ç¦»ä¸åˆå¹¶ï¼Œåœ¨ç¼–è¾‘æ—¶å°†å—å½±å“çš„é“è·¯åˆ†ç¦»å‡ºæ¥ï¼Œè€Œåœ¨ç¼–è¾‘ä¹‹åï¼Œåˆå°†å…¨éƒ¨é“è·¯åˆå¹¶ä¸€ä¸‹ï¼Œæé«˜æ˜¾ç¤ºæ€§èƒ½ã€‚ä¸‹é¢å°±è°ˆè°ˆ Shaun å¯¹è¿™ç§æ–¹æ¡ˆçš„ä¸€äº›æ€è€ƒã€‚</p><h2 id="ç¼–è¾‘ç¯‡">ç¼–è¾‘ç¯‡</h2><p>ã€€ã€€Shaun ä¸ºå¹³è¡¡æ¸²æŸ“æ€§èƒ½å’Œç¼–è¾‘æ•ˆç‡ï¼Œæƒ³å‡ºçš„ä¸€ç§æ–¹æ¡ˆæ˜¯å¢é‡æ›´æ–° Geometryï¼Œå³åªåˆ é™¤æˆ–å¢åŠ å±€éƒ¨çš„ Geometryï¼Œè€Œå…¶å®ƒä¸å—å½±å“çš„ Geometry ä¿æŒåŸæ ·ï¼Œå¦‚æ­¤å³å¯è¾¾åˆ°å¿«é€Ÿçš„åˆ†ç¦»å’Œåˆå¹¶ Geometryã€‚å…·ä½“åšæ³•å¦‚ä¸‹ï¼š</p><ol type="1"><li><p>é¦–å…ˆå°†æ‰€æœ‰é“è·¯çš„ä¸‰è§’åŒ–ç»“æœåˆå¹¶æˆä¸€ä¸ª Geometryï¼Œåœ¨åˆå¹¶çš„åŒæ—¶å»ºç«‹å¥½æ¯æ¡é“è·¯çš„é¡¶ç‚¹ç´¢å¼•ä»¥åŠé¢çš„ç´¢å¼•ï¼ˆjs ä¸­å¯ç›´æ¥ä½¿ç”¨ object è¿›è¡Œå­˜å‚¨ï¼‰ï¼›</p></li><li><p>åœ¨é€‰æ‹©æ—¶ï¼Œæ ¹æ®é¡¶ç‚¹ç´¢å¼•å’Œé¢ç´¢å¼•é‡å»ºä¸€ä¸ª Geometryï¼Œå†åŸºäºè¯¥ Geometry æ„å»ºä¸€ä¸ªæ–°çš„ Mesh ä»¥æŒ‡ç¤ºé€‰æ‹©æ•ˆæœï¼›</p></li><li><p>å½“åˆ é™¤é“è·¯æ—¶ï¼Œéœ€è¦åˆ é™¤é¢ç´¢å¼•å¯¹åº”çš„æ‰€æœ‰é¢ï¼Œè€Œé¡¶ç‚¹ç´¢å¼•å¯¹åº”çš„é¡¶ç‚¹ä¸éœ€è¦åˆ é™¤ï¼Œå°†é¡¶ç‚¹ç´¢å¼•ç§»åˆ°ä¸€ä¸ªç”¨æ¥æ ‡è¯†è¯¥éƒ¨åˆ†é¡¶ç‚¹å·²åºŸå¼ƒçš„å®¹å™¨ F ä¸­ï¼›</p></li><li><p>å½“æ–°å¢é“è·¯æ—¶ï¼Œéœ€è¦å…ˆä»å®¹å™¨ F ä¸­æŸ¥æ‰¾æ˜¯å¦æœ‰åˆé€‚çš„åœ°æ–¹æ”¾ç½®è¯¥é“è·¯çš„é¡¶ç‚¹ï¼Œè‹¥æœ‰ï¼Œåˆ™æ”¾ç½®åœ¨å¯¹åº”åœ°æ–¹ï¼Œå¹¶æ›´æ–°å®¹å™¨ F ä¸­å¯¹åº”å…ƒç´ ï¼Œè‹¥æ²¡æœ‰ï¼Œåˆ™å°†è¯¥é“è·¯çš„é¡¶ç‚¹æ”¾ç½®åœ¨ Geometry é¡¶ç‚¹æ•°ç»„çš„æœ€æœ«å°¾ï¼Œæ”¾ç½®å®Œé¡¶ç‚¹ä¹‹åï¼ŒåŒæ ·éœ€è¦å»ºç«‹è¯¥é“è·¯çš„é¡¶ç‚¹ç´¢å¼•å’Œé¢ç´¢å¼•ã€‚</p></li></ol><p><strong><em>â€»æ³¨ï¼š</em></strong>è‡³äºå®¹å™¨ F ä½¿ç”¨æ€æ ·çš„æ•°æ®ç»“æ„ä»¥åŠå…¶ä¸­çš„å…ƒç´ è¯¥æ€æ ·æ’åˆ—ï¼Œé’ˆå¯¹ä¸åŒçš„é¡¶ç‚¹ç´¢å¼•å¯ä»¥æœ‰ä¸åŒçš„é€‰æ‹©ï¼›åœ¨æ–°å¢é“è·¯æ—¶ï¼ŒåŒæ ·å¯ä»¥ä¸åŒçš„ç­–ç•¥æ¥å†³å®šæ”¾ç½®é¡¶ç‚¹çš„ä½ç½®ï¼ˆå¯å‚è€ƒæ“ä½œç³»ç»Ÿå†…å­˜åˆ†é…çš„æ¨¡å¼ï¼‰ã€‚</p><p>ã€€ã€€ç”±äºæ–°å¢é“è·¯æ—¶ï¼Œå¯èƒ½ä¼šåœ¨å®¹å™¨ F ä¸­äº§ç”Ÿä¸€äº›æ°¸è¿œæ— æ³•åˆ é™¤çš„å…ƒç´ ï¼Œå¯¼è‡´é¡¶ç‚¹æ•°ç»„ç©ºé—²ç¢ç‰‡ã€‚ ä¸ºæŠµæŠ—é¡¶ç‚¹ç¢ç‰‡ä»¥åŠå‡å°‘é¡¶ç‚¹æ•°ç›®ï¼Œéœ€è¦å¯¹é¡¶ç‚¹æ•°æ®è¿›è¡Œå‹ç¼©ï¼ˆCompactionï¼‰ï¼Œå³ç§»é™¤æ²¡æœ‰ä½¿ç”¨çš„é¡¶ç‚¹ï¼Œå°†åé¢çš„é¡¶ç‚¹å‰ç§»ï¼Œåœ¨å‰ç§»é¡¶ç‚¹çš„åŒæ—¶ï¼Œåˆ«å¿˜äº†éœ€è¦åŒæ—¶ä¿®æ”¹é¢ä¸­ç›¸åº”é¡¶ç‚¹çš„ç´¢å¼•ä»¥åŠæ›´æ–°æ„å»ºå¥½çš„æ¯æ¡é“è·¯çš„é¡¶ç‚¹ç´¢å¼•ã€‚</p><h2 id="åè®°">åè®°</h2><p>ã€€ã€€Shaun è¿™é‡Œåªæ˜¯æå‡ºäº†ä¸€ç§æƒ³æ³•ï¼Œæœ€ç»ˆå®ç°èµ·æ¥å‘ç°æ•ˆæœä¹Ÿç¡®å®èƒ½è¾¾åˆ°åŸºæœ¬éœ€æ±‚ï¼ˆé’ˆå¯¹æœ‰å¾ˆå¤šæ¡é“è·¯çš„å¤§åœ°å›¾ï¼Œæ˜¾ç¤ºæ€§èƒ½ä»åŸæ¥çš„åå‡ äºŒåå¸§åˆ°ç°åœ¨çš„ 60 å¸§ï¼ŒåŒæ—¶é€‰æ‹©å’Œç¼–è¾‘ä¹Ÿæ²¡å—åˆ°å½±å“ï¼‰ï¼Œè™½ç„¶åœ¨å†…å­˜ä¸Šæ¯”åŸæ¥å¤šå¢åŠ äº†è¿‘ 20%ï¼ˆè¿˜æœ‰ä¼˜åŒ–çš„ä½™åœ°ï¼‰ï¼Œä½†æ˜¯ä¸ºäº†æ¸²æŸ“æµç•…ä»¥åŠç¼–è¾‘èˆ’æœï¼Œåœ¨å¦‚ä»Šè¿™ä¸ªå†…å­˜è¶Šæ¥è¶Šä¸å€¼é’±çš„å¹´ä»£ï¼Œè¿™ç§ç‰ºç‰² Shaun è§‰å¾—æ˜¯èƒ½æ¥å—çš„ã€‚å½“ç„¶æˆ–è®¸æœ‰æ›´å¥½çš„æ–¹æ¡ˆï¼Œä½†é™äº Shaun ç›®å‰çš„è®¤çŸ¥ï¼Œåªèƒ½æš‚æ—¶æƒ³åˆ°è¿™ä¸€æ–¹æ¡ˆäº†ï¼Œè‹¥æœ‰å¤§ä½¬æœ‰æ›´å¥½çš„æ–¹æ¡ˆï¼Œè¿˜æœ›ä¸åèµæ•™ ğŸ™ã€‚</p></div><div class="article-content-more"><button type="button" class="article-more--link"><i class="fa fa-angle-double-down fa-3x" aria-hidden="true"></i></button></div></section></article><article id="post-Mapboxæ˜¾ç¤ºGeoServeråœ°å›¾" class="article div-border"><header class="article-header"><span class="article-date article-title--index"><i class="fa fa-calendar" aria-hidden="true"></i> <a href="/posts/e225d8fd.html"><time datetime="2020-11-08T14:58:07.000Z">2020-11-08</time></a></span><section class="article-title article-title--index"><a href="/posts/e225d8fd.html">Mapboxæ˜¾ç¤ºGeoServeråœ°å›¾</a></section><div class="article-label"><div class="article-category label"><i class="fa fa-book" aria-hidden="true"></i> <a class="color5 article-category-link" href="/categories/Study/">Study</a></div><div class="article-tag label"><i class="fa fa-bookmark" aria-hidden="true"></i> <a class="color5 article-tag-none-link" href="/tags/mapbox/" rel="tag">mapbox</a></div></div></header><section class="article-content"><div class="article-content--excerpt"><h2 id="å‰è¨€">å‰è¨€</h2><p>ã€€ã€€æœ€è¿‘åšé¡¹ç›®éœ€è¦ç”¨åˆ° Mapbox è¿™ä¸ªåœ°å›¾å¯è§†åŒ–æ¡†æ¶ï¼Œä»¥å‰ä¹Ÿæ²¡ç”¨è¿‡ï¼Œç”²æ–¹æœ‰è‡ªå·±çš„åœ°å›¾æ•°æ®ï¼Œæ‰€ä»¥å¾—ç»“åˆ GeoServer å‘å¸ƒä¸€ä¸‹ï¼Œç®€å•è®°å½•ä¸€ä¸‹æµç¨‹ã€‚</p></div><div class="article-content--all"><h2 id="å‰è¨€">å‰è¨€</h2><p>ã€€ã€€æœ€è¿‘åšé¡¹ç›®éœ€è¦ç”¨åˆ° Mapbox è¿™ä¸ªåœ°å›¾å¯è§†åŒ–æ¡†æ¶ï¼Œä»¥å‰ä¹Ÿæ²¡ç”¨è¿‡ï¼Œç”²æ–¹æœ‰è‡ªå·±çš„åœ°å›¾æ•°æ®ï¼Œæ‰€ä»¥å¾—ç»“åˆ GeoServer å‘å¸ƒä¸€ä¸‹ï¼Œç®€å•è®°å½•ä¸€ä¸‹æµç¨‹ã€‚</p><span id="more"></span><h2 id="å‘å¸ƒç¯‡">å‘å¸ƒç¯‡</h2><h3 id="ç¯å¢ƒå‡†å¤‡">ç¯å¢ƒå‡†å¤‡</h3><p>ã€€ã€€ä¸‹è½½ <a target="_blank" rel="noopener" href="http://geoserver.org/release/maintain/">GeoServer</a> ä»¥åŠåŒé¡µé¢ä¸‹çš„ <a target="_blank" rel="noopener" href="http://sourceforge.net/projects/geoserver/files/GeoServer/2.16.5/extensions/geoserver-2.16.5-vectortiles-plugin.zip">Vector Tiles</a> æ’ä»¶ï¼Œå°†æ’ä»¶ä¸­æ‰€æœ‰ jar åŒ…éƒ½å¤åˆ¶åˆ° GeoServer ä¸­<code>webapps\geoserver\WEB-INF\lib</code>ç›®å½•ä¸‹ã€‚åœ¨ bin ä¸‹æ‰§è¡Œ startup.bat å¯åŠ¨ geoserverï¼Œè‹¥éœ€è¦ä¿®æ”¹ç«¯å£ï¼Œå¯ä¿®æ”¹ <code>start.ini</code> æ–‡ä»¶ä¸­çš„<code>jetty.port=8080</code>ï¼Œåœ¨æµè§ˆå™¨ä¸­è¾“å…¥ <code>http://localhost:8080/geoserver/web/</code>ï¼Œgeoserver ä¸­é»˜è®¤è´¦å·ä¸º<code>admin</code>ï¼Œå¯†ç ä¸º<code>geoserver</code>ï¼Œgeoserver ä¸­å¸¸ç”¨çš„ä¸¤ä¸ªåæ ‡ç³»ä¸º <code>EPSG:4326</code>ï¼šwgs84åæ ‡ï¼ŒMercator æŠ•å½±ï¼Œ<code>EPSG:900913</code>ï¼šwgs84 åæ ‡ï¼ŒWeb Mercator æŠ•å½±ï¼Œå³ä¿è¯æŠ•å½±ä¸ºæ­£æ–¹å½¢ï¼ŒMapBox ä¸­å¿…é¡»ä½¿ç”¨<code>EPSG:900913</code>åæ ‡ç³»ç»Ÿï¼Œ900913 å’Œ 3857 æ˜¯ä¸€æ ·çš„åæ ‡ç³»ç»Ÿï¼Œåœ¨ PostGIS ä¸­å¯¹åº”çš„ SRID æ˜¯ 3857ã€‚</p><h3 id="è®¾ç½®-tile-caching">è®¾ç½® Tile Caching</h3><p>ã€€ã€€Tile Layers ä¸­å¯è¿›è¡Œå›¾å±‚å’Œå›¾å±‚ç»„çš„é¢„è§ˆï¼Œä»¥åŠåˆ‡ç‰‡ï¼Œåœ¨ seed/truncate ä¸­å¯ä»¥è®¾ç½®åˆ‡ç‰‡ç±»å‹ä»¥åŠè‡ªåŠ¨å°†åˆ‡ç‰‡ä¿å­˜åˆ° <code>\data_dir\gwc</code> ç›®å½•ä¸­ã€‚</p><p>ã€€ã€€Caching Defaults éœ€è¦å‹¾é€‰ Enable TMS Serviceï¼Œä»¥åŠåœ¨ Default Tile Image Formats for:ä¸­å‹¾é€‰ <code>application/vnd.mapbox-vector-tile</code>ï¼Œå…¶å®ƒé»˜è®¤å³å¯ã€‚</p><p>Gridsets è®¾ç½®æ–°çš„åæ ‡ç³»ç»Ÿã€‚</p><h3 id="åœ°å›¾å‘å¸ƒ">åœ°å›¾å‘å¸ƒ</h3><p>åœ¨ æ•°æ® æ ä¸‹ï¼š</p><ol type="1"><li>ç‚¹å‡»å·¥ä½œåŒºï¼Œæ·»åŠ æ–°çš„å·¥ä½œåŒºï¼Œå‘½åä»¥åŠå¡«å†™ URIï¼Œå‹¾é€‰é»˜è®¤å·¥ä½œåŒºã€‚</li><li>ç‚¹å‡»æ•°æ®å­˜å‚¨ï¼Œæ·»åŠ æ–°çš„æ•°æ®å­˜å‚¨ï¼Œé€‰æ‹©æ•°æ®æºï¼Œä»¥ Directory of spatial files (shapefiles) ä¸ºä¾‹ï¼Œåœ¨è¿æ¥å‚æ•°ä¸‹ç‚¹å‡» æµè§ˆï¼Œé€‰æ‹©shapeæ–‡ä»¶å­˜æ”¾ç›®å½•ï¼ŒDBF æ–‡ä»¶å­—ç¬¦é›†é€‰æ‹© UTF-8 æˆ– GBKã€‚æ³¨ï¼š shape æ–‡ä»¶åä¸­ä¸èƒ½æœ‰ä¸­æ–‡ã€‚</li><li>ç‚¹å‡»å›¾å±‚ï¼Œæ·»åŠ æ–°çš„èµ„æºï¼Œæ·»åŠ å›¾å±‚ï¼Œé€‰æ‹©ä¸Šä¸€æ­¥çš„æ·»åŠ çš„æ•°æ®å­˜å‚¨åç§°ï¼Œç‚¹å‡»å‘å¸ƒæˆ–å†æ¬¡å‘å¸ƒï¼Œè¿›å…¥å‘å¸ƒé…ç½®ç•Œé¢ï¼Œå‹¾é€‰ å¹¿å‘Šåˆ™ä¼šåœ¨ Layer Preview ä¸­æ˜¾ç¤ºï¼Œä¸€èˆ¬ä¸éœ€è¦å‹¾é€‰ï¼Œç‚¹å‡»<code>Compute from native bounds</code>ï¼ŒGeoServer ä¼šè‡ªåŠ¨è®¡ç®—è¾¹æ¡†å’Œç»çº¬åº¦ä¿¡æ¯ï¼Œç„¶åå‹¾é€‰<code>Linear geometries can contain cicular arcs</code>ï¼Œä½¿çº¿æ€§å‡ ä½•å›¾å½¢åŒ…å«ç¯å½¢å¼§ï¼Œç„¶åä¿å­˜ã€‚é‡å¤å½“å‰æ­¥éª¤ï¼Œç›´åˆ°æ•°æ®å­˜å‚¨ä¸­æ‰€æœ‰å›¾å±‚éƒ½å‘å¸ƒå®Œæ¯•ã€‚</li><li>ç‚¹å‡»å›¾å±‚ç»„ï¼Œæ·»åŠ æ–°çš„å›¾å±‚ç»„ï¼Œæ·»åŠ å›¾å±‚ï¼Œç„¶åç‚¹å‡» ç”Ÿæˆè¾¹ç•Œï¼Œä¿å­˜ï¼Œå³å®Œæˆæ•´ä¸ªåœ°å›¾çš„å‘å¸ƒã€‚</li></ol><p>åœ¨ Layer Preview ä¸­ç‚¹å‡» openLayers è¿›è¡Œåœ°å›¾é¢„è§ˆï¼Œéšæ„ç‚¹å‡»åœ°å›¾ï¼Œè‹¥å‡ºç°ä¹±ç ï¼Œåˆ™éœ€è¦åœ¨æ•°æ®å­˜å‚¨ä¸­ä¿®æ”¹ DBF æ–‡ä»¶å­—ç¬¦é›†ã€‚</p><h3 id="mapbox-è®¿é—®-geoserver-åœ°å›¾">Mapbox è®¿é—® GeoServer åœ°å›¾</h3><p>ã€€ã€€ç‚¹å‡» Geoserver çš„<code>logo</code>ï¼Œç„¶åç‚¹å‡» <code>TMS</code> 1.0.0åè®®ï¼Œé¡µé¢è·³è½¬åï¼ŒæŸ¥æ‰¾éœ€è¦è®¿é—®çš„å¤–éƒ¨åœ°å€ï¼Œå³å¯¹åº” TileMap çš„ href å±æ€§ã€‚MapBox ä¸­è®¿é—®å‘å¸ƒå¥½çš„åˆ‡ç‰‡æœåŠ¡éœ€è¦åœ¨ <code>http://localhost:8080/geoserver/gwc/service/tms/1.0.0/MapBoxTest:Test@EPSG:900913@pbf/&#123;z&#125;/&#123;x&#125;/&#123;y&#125;.pbf</code>ï¼Œå³ href å±æ€§å€¼åé¢åŠ ä¸Š <code>/&#123;z&#125;/&#123;x&#125;/&#123;y&#125;.pbf</code> ï¼ŒåŒæ—¶æ³¨æ„ åœ¨ MapBox style ä¸‹ layers ä¸­ <code>source-layer</code> çš„å€¼å¿…é¡»ä¸ºå›¾å±‚åï¼Œè¿™é‡Œä¸º <code>"Test"</code> ï¼ˆè‹¥ä½¿ç”¨å›¾å±‚ç»„ï¼Œåˆ™éœ€è¦æ‰¾åˆ° Test å›¾å±‚ç»„ä¸‹é¢çš„å›¾å±‚ï¼Œä½¿ç”¨å¯¹åº”å›¾å±‚åï¼‰ã€‚ç®€å•ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p><div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="false" data-lang="TYPESCRIPT"><div class="code-copy"></div><figure class="highlight hljs typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> mapStyle: mapboxgl.Style = &#123;</span><br><span class="line">  <span class="attr">version</span>: <span class="number">8</span>,</span><br><span class="line">  <span class="attr">sources</span>: &#123;</span><br><span class="line">    <span class="attr">geoserverData</span>: &#123;</span><br><span class="line">      <span class="attr">type</span>: <span class="string">&#x27;vector&#x27;</span>,</span><br><span class="line">      <span class="attr">scheme</span>: <span class="string">&#x27;tms&#x27;</span>,</span><br><span class="line">      <span class="attr">tiles</span>: [<span class="string">&quot;http://localhost:8080/geoserver/gwc/service/tms/1.0.0/MapBoxTest:Test@EPSG:900913@pbf/&#123;z&#125;/&#123;x&#125;/&#123;y&#125;.pbf&quot;</span>],</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä½¿ç”¨ OSM æ•°æ®æºä½œä¸ºåº•å›¾</span></span><br><span class="line">    <span class="comment">// OsmTiles: &#123;</span></span><br><span class="line">    <span class="comment">//     type: &quot;raster&quot;,</span></span><br><span class="line">    <span class="comment">//     tiles: [&quot;http://a.tile.openstreetmap.org/&#123;z&#125;/&#123;x&#125;/&#123;y&#125;.png&quot;],</span></span><br><span class="line">    <span class="comment">//     tileSize: 256,</span></span><br><span class="line">    <span class="comment">// &#125;,</span></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="attr">layers</span>: [</span><br><span class="line">    <span class="comment">// èƒŒæ™¯å›¾å±‚</span></span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">id</span>: <span class="string">&#x27;background&#x27;</span>,</span><br><span class="line">      <span class="attr">type</span>: <span class="string">&#x27;background&#x27;</span>,</span><br><span class="line">      <span class="attr">paint</span>: &#123;</span><br><span class="line">        <span class="string">&#x27;background-color&#x27;</span>: <span class="string">&quot;rgb(0, 0, 0)&quot;</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="comment">// interactive: true,</span></span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    <span class="comment">// &#123;</span></span><br><span class="line">    <span class="comment">//     id: &quot;OsmTiles&quot;,</span></span><br><span class="line">    <span class="comment">//     type: &quot;raster&quot;,</span></span><br><span class="line">    <span class="comment">//     source: &quot;OsmTiles&quot;,</span></span><br><span class="line">    <span class="comment">//     &quot;source-layer&quot;: &quot;osmtiles&quot;,</span></span><br><span class="line">    <span class="comment">// &#125;,</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// é“è·¯</span></span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">id</span>: <span class="string">&#x27;road&#x27;</span>,</span><br><span class="line">      <span class="attr">source</span>: <span class="string">&#x27;geoserverData&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;source-layer&#x27;</span>: <span class="string">&#x27;Test&#x27;</span>,</span><br><span class="line"></span><br><span class="line">      <span class="attr">type</span>: <span class="string">&#x27;line&#x27;</span>,</span><br><span class="line">      <span class="attr">layout</span>: &#123;</span><br><span class="line">        <span class="string">&#x27;line-cap&#x27;</span>: <span class="string">&#x27;round&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;line-join&#x27;</span>: <span class="string">&#x27;round&#x27;</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">paint</span>: &#123;</span><br><span class="line">        <span class="string">&#x27;line-width&#x27;</span>: &#123;</span><br><span class="line">          <span class="attr">base</span>: <span class="number">1.5</span>,</span><br><span class="line">          <span class="attr">stops</span>: [</span><br><span class="line">            [<span class="number">5</span>, <span class="number">0.75</span>],</span><br><span class="line">            [<span class="number">18</span>, <span class="number">32</span>],</span><br><span class="line">          ],</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="string">&#x27;line-color&#x27;</span>: <span class="string">&#x27;rgb(255, 255, 255)&#x27;</span>,</span><br><span class="line">      &#125;,</span><br><span class="line"></span><br><span class="line">      <span class="attr">interactive</span>: <span class="literal">true</span>,</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åœ°å›¾æ ‡æ³¨</span></span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">id</span>: <span class="string">&#x27;label&#x27;</span>,</span><br><span class="line">      <span class="attr">source</span>: <span class="string">&#x27;geoserverData&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;source-layer&#x27;</span>: <span class="string">&#x27;Test&#x27;</span>,</span><br><span class="line"></span><br><span class="line">      <span class="attr">type</span>: <span class="string">&#x27;symbol&#x27;</span>,</span><br><span class="line">      <span class="attr">layout</span>: &#123;</span><br><span class="line">        <span class="string">&#x27;text-size&#x27;</span>: &#123;</span><br><span class="line">          <span class="attr">base</span>: <span class="number">1</span>,</span><br><span class="line">          <span class="attr">stops</span>: [</span><br><span class="line">            [<span class="number">9</span>, <span class="number">10</span>],</span><br><span class="line">            [<span class="number">20</span>, <span class="number">16</span>],</span><br><span class="line">          ],</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="string">&#x27;text-max-angle&#x27;</span>: <span class="number">30</span>,</span><br><span class="line">        <span class="string">&#x27;symbol-spacing&#x27;</span>: <span class="number">250</span>,</span><br><span class="line">        <span class="string">&#x27;text-font&#x27;</span>: [<span class="string">&#x27;Microsoft YaHei&#x27;</span>], <span class="comment">// æ ‡æ³¨ä½¿ç”¨å­—ä½“</span></span><br><span class="line">        <span class="string">&#x27;symbol-placement&#x27;</span>: <span class="string">&#x27;line&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;text-padding&#x27;</span>: <span class="number">1</span>,</span><br><span class="line">        <span class="string">&#x27;text-rotation-alignment&#x27;</span>: <span class="string">&#x27;map&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;text-pitch-alignment&#x27;</span>: <span class="string">&#x27;viewport&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;text-field&#x27;</span>: <span class="string">&#x27;&#123;name&#125;&#x27;</span>, <span class="comment">// æ ‡æ³¨æ˜¾ç¤ºå±æ€§å</span></span><br><span class="line">        <span class="string">&#x27;text-letter-spacing&#x27;</span>: <span class="number">0.01</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">paint</span>: &#123;</span><br><span class="line">        <span class="string">&#x27;text-color&#x27;</span>: <span class="string">&#x27;hsl(0, 0%, 0%)&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;text-halo-color&#x27;</span>: <span class="string">&#x27;hsla(0, 0%, 100%, 0.75)&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;text-halo-width&#x27;</span>: <span class="number">1</span>,</span><br><span class="line">        <span class="string">&#x27;text-halo-blur&#x27;</span>: <span class="number">1</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">interactive</span>: <span class="literal">true</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">  ]</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>(&#123;</span><br><span class="line">  <span class="attr">container</span>: <span class="string">&quot;map-container&quot;</span>, <span class="comment">// html container id</span></span><br><span class="line">  <span class="comment">// style: &quot;mapbox://styles/mapbox/outdoors-v11&quot;, //hosted style id</span></span><br><span class="line">  <span class="attr">style</span>: mapStyle,</span><br><span class="line">  <span class="attr">center</span>: [<span class="number">0</span>, <span class="number">0</span>], <span class="comment">// starting position [ç»åº¦, çº¬åº¦]</span></span><br><span class="line">  <span class="attr">zoom</span>: <span class="number">1</span>, <span class="comment">// starting zoom</span></span><br><span class="line">  <span class="attr">antialias</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="comment">// maxZoom: 24,</span></span><br><span class="line">  <span class="comment">// minZoom: 1,</span></span><br><span class="line">  <span class="comment">// pitch: 0,</span></span><br><span class="line">  <span class="comment">// maxPitch: 60,</span></span><br><span class="line">  <span class="comment">// // minPitch: 0,</span></span><br><span class="line">  <span class="attr">crossSourceCollisions</span>: <span class="literal">false</span>,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></div><h3 id="geoserver-è·¨åŸŸé—®é¢˜">GeoServer è·¨åŸŸé—®é¢˜</h3><p>ã€€ã€€å°† lib ç›®å½•ä¸­çš„ jetty-servlets å’Œ jetty-util ä¸¤ä¸ª jar åŒ…å¤åˆ¶åˆ°<code>\webapps\geoserver\WEB-INF\lib</code>ç›®å½•ä¸‹ï¼Œå°†<code>\webapps\geoserver\WEB-INF\web.xml</code>æ–‡ä»¶ä¸­ä¸¤ä¸ª <code>&lt;!-- Uncomment following filter to enable CORS</code> æ³¨é‡Šå–æ¶ˆï¼Œé‡å¯ GeoSeverã€‚</p><h2 id="åè®°">åè®°</h2><p>ã€€ã€€Mapbox æ˜¾ç¤ºçš„åœ°å›¾å¯ä»¥è‡ªå®šä¹‰æ ·å¼ï¼Œè€Œä¸”åŠ è½½é€Ÿåº¦æ¸²æŸ“æ€§èƒ½æ–¹é¢ä¹Ÿéƒ½è¿˜å¯ä»¥ï¼Œæœ€é‡è¦çš„æ˜¯ç”±äºé‡‡ç”¨å‰ç«¯æ¸²æŸ“çŸ¢é‡ï¼Œæ‰€ä»¥æ²¡æœ‰ä¼ ç»Ÿç“¦ç‰‡é‚£ç§ç¼©æ”¾æ¨¡ç³Šçš„æ„Ÿè§‰ï¼Œè¿™ç‚¹éå¸¸å¥½ï¼Œæœ¬æ¥æƒ³æ€»ç»“ä¸€ç¯‡ç®€å•çš„ Mapbox ä½¿ç”¨æ‰‹å†Œï¼Œä½†æ²¡æ—¶é—´æ•´ç†äº†ï¼Œè¿˜æ˜¯ç®—äº† ğŸ˜…ã€‚</p><h2 id="å‚è€ƒèµ„æ–™">å‚è€ƒèµ„æ–™</h2><p><a target="_blank" rel="noopener" href="https://www.dazhuanlan.com/2019/10/01/5d92e1fa6d695/">åŸºäºgeoserver+mapboxçš„å®šåˆ¶åŒ–ç¦»çº¿åœ°å›¾æŠ€æœ¯æ–¹æ¡ˆ</a></p></div><div class="article-content-more"><button type="button" class="article-more--link"><i class="fa fa-angle-double-down fa-3x" aria-hidden="true"></i></button></div></section></article><article id="post-Dockerä½¿ç”¨å°ç»“" class="article div-border"><header class="article-header"><span class="article-date article-title--index"><i class="fa fa-calendar" aria-hidden="true"></i> <a href="/posts/3d8ab974.html"><time datetime="2020-11-01T12:58:09.000Z">2020-11-01</time></a></span><section class="article-title article-title--index"><a href="/posts/3d8ab974.html">Dockerä½¿ç”¨å°ç»“</a></section><div class="article-label"><div class="article-category label"><i class="fa fa-book" aria-hidden="true"></i> <a class="color1 article-category-link" href="/categories/Study/">Study</a></div><div class="article-tag label"><i class="fa fa-bookmark" aria-hidden="true"></i> <a class="color4 article-tag-none-link" href="/tags/container/" rel="tag">container</a><a class="color4 article-tag-none-link" href="/tags/note/" rel="tag">note</a><a class="color4 article-tag-none-link" href="/tags/unix-like/" rel="tag">unix-like</a></div></div></header><section class="article-content"><div class="article-content--excerpt"><h2 id="å‰è¨€">å‰è¨€</h2><p>ã€€ã€€æœ€è¿‘ç”±äºé¡¹ç›®éƒ¨ç½²éœ€è¦ï¼Œç®€å•å­¦ä¹ äº† docker çš„ä½¿ç”¨å’Œå›é¡¾ä¸‹ CentOS ä¸­çš„å¸¸ç”¨æ“ä½œã€‚</p></div><div class="article-content--all"><h2 id="å‰è¨€">å‰è¨€</h2><p>ã€€ã€€æœ€è¿‘ç”±äºé¡¹ç›®éƒ¨ç½²éœ€è¦ï¼Œç®€å•å­¦ä¹ äº† docker çš„ä½¿ç”¨å’Œå›é¡¾ä¸‹ CentOS ä¸­çš„å¸¸ç”¨æ“ä½œã€‚</p><span id="more"></span><h2 id="docker-ç¯‡">Docker ç¯‡</h2><p>ã€€ã€€ç”±äº Shaun æ­¤æ¬¡éœ€è¦å®‰è£…çš„ç¯å¢ƒæœ‰ç‚¹åé—¨ï¼Œæ²¡æ‰¾åˆ°æœ‰å®Œå…¨ç¬¦åˆè¦æ±‚çš„é•œåƒï¼ŒåŒæ—¶ä¹Ÿè¶ç€è¿™æ¬¡æœºä¼šå­¦ä¸€ä¸‹ dockerï¼Œæ‰€ä»¥å°±è¿˜æ˜¯ç›´æ¥ä»æœ€å¼€å§‹çš„è£…èµ·äº†ã€‚</p><p>ã€€ã€€é¦–å…ˆä½¿ç”¨ <code>docker pull centos:7</code> æ‹‰å– CentOS7 çš„ç³»ç»Ÿé•œåƒï¼Œä½¿ç”¨ <code>docker images</code> æŸ¥çœ‹å·²æœ‰çš„æœ¬åœ°é•œåƒä¿¡æ¯ï¼Œä½¿ç”¨ <code>docker ps -a</code> æŸ¥çœ‹å½“å‰å·²æœ‰çš„å®¹å™¨ä¿¡æ¯ï¼Œå»æ‰å‚æ•° a ï¼Œå³æ˜¾ç¤ºæ­£è¿è¡Œçš„å®¹å™¨ï¼Œ<code>docker stop [container id | name]</code> å¯å…³é—­æŒ‡å®šå®¹å™¨ï¼Œ<code>docker start [container id | name]</code> å¯æ‰“å¼€æŒ‡å®šå®¹å™¨ï¼Œ<code>docker rm [container id | name]</code> å¯åˆ é™¤æŒ‡å®šå®¹å™¨ï¼Œ<code>docker rmi [image id | name]</code> å¯åˆ é™¤æŒ‡å®šé•œåƒï¼Œå†åˆ é™¤é•œåƒä¹‹å‰éœ€è¦å…ˆåˆ é™¤ä¾èµ–è¯¥é•œåƒçš„æ‰€æœ‰å®¹å™¨ã€‚</p><p>ã€€ã€€ä½¿ç”¨ <code>docker run -dit -p 80:80 -p 8080:8080 --name CentOS7 centos:7 bash</code> å¼€å¯ä¸€ä¸ªæ–°çš„å®¹å™¨ï¼Œå…¶ä¸­å‚æ•°çš„æ„ä¹‰ä¸ºï¼š <strong>-i</strong>: äº¤äº’å¼æ“ä½œï¼›<strong>-t</strong>: ç»ˆç«¯ï¼›<strong>-d</strong>: åå°å¯åŠ¨ï¼›<strong>-p</strong>: è®¾ç½®ä¸»æœºçš„ç«¯å£æ˜ å°„åˆ°å®¹å™¨å†…çš„ç«¯å£ï¼›<strong>-name</strong>: æŒ‡å®šå®¹å™¨åç§°ï¼›æœ€åçš„ bash ä»£è¡¨ä½¿ç”¨ bash ç»ˆç«¯ã€‚<em>åœ¨ windows ä¸­ç›´æ¥ä½¿ç”¨ docker run è¿è¡Œé•œåƒæ—¶ä¼šå‡ºç° the input device is not a TTY. If you are using mintty, try prefixing the command with 'winpty' çš„é”™è¯¯ï¼Œå‰é¢åŠ ä¸Š winpty å³å¯ï¼Œå³ <code>winpty docker run ...</code></em>ã€‚å½“æ²¡æœ‰å‚æ•° d æ—¶ï¼Œåˆ™ç›´æ¥è¿›å…¥å®¹å™¨ï¼Œè€Œå½“å­˜åœ¨å‚æ•° d æ—¶ï¼Œç”±äºå®¹å™¨å®åœ¨åå°å¯åŠ¨ï¼Œè¿›å…¥å®¹å™¨æ—¶éœ€è¦æ‰§è¡Œ <code>docker exec -it [container id | name] bash</code> æ‰èƒ½è¿›å…¥å®¹å™¨ï¼Œè€Œé€€å‡ºå®¹å™¨å¯ä»¥è¾“å…¥ <code>exit</code> å‘½ä»¤ã€‚</p><p>ã€€ã€€è€Œä¸ºäº†åœ¨å®¹å™¨ä¸­å¯ä»¥å¼€å¯åå°æœåŠ¡ï¼Œéœ€è¦åœ¨å¼€å¯å®¹å™¨æ—¶å°±è¿›è¡Œææƒï¼Œåœ¨ Windows ä¸­ææƒå‘½ä»¤ä¸º <code>docker run -dit --privileged=true --name CentOS7 centos:7 init</code>ï¼›è€Œåœ¨ Linux ä¸­ææƒå‘½ä»¤ä¸º <code>docker run -dit --privileged=true --name CentOS7 centos:7 /usr/sbin/init</code>ã€‚</p><p>ã€€ã€€åœ¨æ–°å¼€å¯çš„å®¹å™¨ä¸­æ·»åŠ æ•°æ®å’Œç›¸åº”çš„ç¯å¢ƒä¹‹åï¼Œå³å¯ä½¿ç”¨ <code>docker commit CentOS7 new_image:tag</code> ç”Ÿæˆä¸€ä¸ªæ–°çš„é•œåƒï¼ˆç”Ÿæˆé•œåƒä¹‹å‰æœ€å¥½å…³é—­å®¹å™¨ï¼‰ï¼Œè¯¥é•œåƒåŒ…å«å·²ç»å®‰è£…çš„ç¯å¢ƒå’Œæ•°æ®ï¼Œå†ä½¿ç”¨ <code>docker save -o centos7.tar new_image:tag</code>ï¼Œå¯å°†ç”Ÿæˆçš„é•œåƒå¯¼å‡ºæˆ tar åŒ…ï¼Œåœ¨å…¶ä»–æœºå™¨ä¸­ä½¿ç”¨ <code>docker load -i centos7.tar</code> å³å¯å¯¼å…¥è¯¥ tar åŒ…ï¼Œå¹¶ç”Ÿæˆç›¸åº”çš„é•œåƒï¼Œ ä»è€Œç®€å•ä¾¿æ·çš„å®Œæˆç¯å¢ƒå’Œæ•°æ®è¿ç§»éƒ¨ç½²ä»»åŠ¡ã€‚</p><p>ã€€ã€€å®¹å™¨æœ‰æ—¶éœ€è¦å’Œä¸»æœºä¹‹é—´ä¼ è¾“æ–‡ä»¶ï¼Œæœ‰ä¸¤ç§æ–¹æ¡ˆï¼Œä¸€ç§æ˜¯ç›´æ¥é‡‡ç”¨å…±äº«æ–‡ä»¶å¤¹çš„æ–¹å¼ï¼Œè®¾ç½®æŸä¸ªç›®å½•ä¸ºä¸¤ç³»ç»Ÿçš„å…±äº«ç›®å½•ï¼Œä»è€Œå®ç°æ–‡ä»¶ä¼ è¾“ï¼›å¦ä¸€ç§æ˜¯ä½¿ç”¨ docker cp å‘½ä»¤ï¼Œä½¿ç”¨ <code>docker cp src_path container:dst_path</code> å°†ä¸»æœºçš„æ–‡ä»¶æ‹·è´åˆ°å®¹å™¨ä¸­ï¼›ä½¿ç”¨ <code>docker cp container:src_path dst_path</code> å°†å®¹å™¨çš„æ–‡ä»¶æ‹·è´åˆ°ä¸»æœºä¸­ã€‚</p><h2 id="centos-ç¯‡">CentOS ç¯‡</h2><h3 id="å®‰è£…postgresql12">å®‰è£…PostgreSQL12</h3><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/zhi-leaf/p/11432054.html">CentOSå®‰è£…PostgreSQL</a></p><div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="false" data-lang="SHELL"><div class="code-copy"></div><figure class="highlight hljs shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> Install the repository RPM:</span></span><br><span class="line">yum install -y https://download.postgresql.org/pub/repos/yum/reporpms/EL-7-x86_64/pgdg-redhat-repo-latest.noarch.rpm</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Install PostgreSQL:</span></span><br><span class="line">yum install -y postgresql12-server</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Optionally initialize the database and <span class="built_in">enable</span> automatic start:</span></span><br><span class="line">/usr/pgsql-12/bin/postgresql-12-setup initdb</span><br><span class="line">systemctl enable postgresql-12</span><br><span class="line">systemctl start postgresql-12</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">å¼€å¯è¿œç¨‹è®¿é—®</span></span><br><span class="line">ä¿®æ”¹/var/lib/pgsql/10/data/postgresql.confæ–‡ä»¶ï¼Œ</span><br><span class="line">å–æ¶ˆ listen_addresses çš„æ³¨é‡Šï¼Œå°†å‚æ•°å€¼æ”¹ä¸ºâ€œ*â€</span><br><span class="line"></span><br><span class="line">ä¿®æ”¹/var/lib/pgsql/10/data/pg_hba.confæ–‡ä»¶ï¼Œå¢åŠ ä¸‹</span><br><span class="line"><span class="meta">#</span><span class="bash"> IPv4 <span class="built_in">local</span> connections:</span></span><br><span class="line">host all all 127.0.0.1/32 md5</span><br><span class="line">host all all 0.0.0.0/0 md5</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ç»™æ•°æ®åº“postgresç”¨æˆ·åˆ†é…å¯†ç  1</span></span><br><span class="line">psql -U postgres</span><br><span class="line">alter user postgres with encrypted password &#x27;1&#x27;;</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> é‡å¯æœåŠ¡</span></span><br><span class="line">systemctl restart postgresql-12</span><br></pre></td></tr></table></figure></div><p>ç”±äºéœ€è¦åˆ‡æ¢è´¦æˆ·ï¼Œæ‰€ä»¥æœ€å¥½åœ¨ç¬¬ä¸€æ­¥å®‰è£…å®Œä¹‹åå°±ä½¿ç”¨ <code>passwd [username] XXXXXX</code> è®¾ç½® root å’Œ postgres ä¸¤ä¸ªè´¦æˆ·çš„å¯†ç ã€‚</p><h3 id="å®‰è£…postgis">å®‰è£…postgis</h3><p>ï¼ˆhttps://yum.postgresql.org/12/redhat/rhel-7-x86_64/repoview/ï¼‰</p><div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="false" data-lang="SHELL"><div class="code-copy"></div><figure class="highlight hljs shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> è§£å†³ä¾èµ–</span></span><br><span class="line">yum install epel-release </span><br><span class="line"></span><br><span class="line">yum install -y https://yum.postgresql.org/12/redhat/rhel-7-x86_64/postgis30_12-3.0.2-2.rhel7.x86_64.rpm</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> å®‰è£…pgrouting</span> </span><br><span class="line">yum install -y https://yum.postgresql.org/12/redhat/rhel-7-x86_64/pgrouting_12-3.0.2-1.rhel7.x86_64.rpm</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> å®‰è£…ogr_fdw</span> </span><br><span class="line">yum search ogr_fdw # æŸ¥è¯¢</span><br><span class="line">yum install ogr_fdw # å®‰è£…</span><br><span class="line"></span><br></pre></td></tr></table></figure></div><p>postgres ç§»é™¤æ‰©å±• <code>drop extension postgis cascade;</code>ã€‚</p><h3 id="å®‰è£…java">å®‰è£…Java</h3><p>ï¼ˆhttps://www.cnblogs.com/bcomll/p/12142747.htmlï¼‰</p><div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="false" data-lang="SHELL"><div class="code-copy"></div><figure class="highlight hljs shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> æœç´ java</span></span><br><span class="line">yum search java | grep -i --color JDK</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">å®‰è£…</span></span><br><span class="line">yum install java-11-openjdk</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> é…ç½®ç¯å¢ƒå˜é‡</span></span><br><span class="line">vi /etc/profile</span><br><span class="line"><span class="meta">#</span><span class="bash"> åŠ å…¥å†…å®¹</span></span><br><span class="line">export JAVA_HOME=/usr/lib/jvm/java-11-openjdk-11.0.8.10-0.el7_8.x86_64</span><br><span class="line">export CLASSPATH=.:$JAVA_HOME/jre/lib/rt.jar:$JAVA_HOME/jre/lib/dt.jar:$JAVA_HOME/lib/tool.jar</span><br><span class="line">export PATH=$PATH:$JAVA_HOME/bin</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> é‡å¯ç¯å¢ƒ</span></span><br><span class="line">source /etc/profile</span><br></pre></td></tr></table></figure></div><h3 id="å®‰è£…geoserver">å®‰è£…GeoServer</h3><p>ï¼ˆhttps://blog.csdn.net/weixin_34205076/article/details/88734828ï¼‰</p><div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="false" data-lang="SHELL"><div class="code-copy"></div><figure class="highlight hljs shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">mv /tmp/geoserver-2.13.2 /usr/share/geoserver</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment">## æ·»åŠ ç¯å¢ƒå˜é‡</span></span></span><br><span class="line">vi /etc/profile</span><br><span class="line"><span class="meta">#</span><span class="bash"> è¿½åŠ </span></span><br><span class="line">export GEOSERVER_HOME=/usr/share/geoserver</span><br><span class="line"><span class="meta">#</span><span class="bash"> é‡æ–°åŠ è½½/etc/profileæ–‡ä»¶</span></span><br><span class="line">source /etc/profile</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> æˆæƒ</span></span><br><span class="line">chown -R root:root /usr/share/geoserver</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment">### æ”¹é€ å¯åŠ¨è„šæœ¬</span></span></span><br><span class="line">vim /usr/share/geoserver/bin/startup.sh</span><br><span class="line">     </span><br><span class="line"><span class="meta">#</span><span class="bash"> åœ¨æœ€ä¸Šé¢å¼•å…¥ç¯å¢ƒå˜é‡</span></span><br><span class="line">source /etc/profile</span><br><span class="line">     </span><br><span class="line"><span class="meta">#</span><span class="bash"> æœ€åæ‰§è¡Œæ”¹ä¸ºnohupï¼Œå¹¶å°†æ—¥å¿—è¾“å…¥åˆ° var/<span class="built_in">log</span>/geoserver.log</span></span><br><span class="line">nohup &quot;$_RUNJAVA&quot; $JAVA_OPTS $MARLIN_ENABLER -DGEOSERVER_DATA_DIR=&quot;$GEOSERVER_DATA_DIR&quot; -Djava.awt.headless=true -DSTOP.PORT=8079 -DSTOP.KEY=geoserver -jar start.jar 1&gt;/dev/null 2&gt;/var/log/geoserver.log &amp;</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment">### ä¿®æ”¹åœæ­¢è„šæœ¬</span></span></span><br><span class="line">vim /usr/share/geoserver/bin/shutdown.sh</span><br><span class="line"><span class="meta">#</span><span class="bash"> åœ¨æœ€ä¸Šé¢å¼•å…¥ç¯å¢ƒå˜é‡</span></span><br><span class="line">source /etc/profile</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment">### åˆ›å»ºæœåŠ¡</span></span></span><br><span class="line">vim /lib/systemd/system/geoserver.service  </span><br><span class="line">     </span><br><span class="line">[Unit]</span><br><span class="line">Description=geoserver service</span><br><span class="line">After=network.target</span><br><span class="line">     </span><br><span class="line">[Service]</span><br><span class="line">Type=forking</span><br><span class="line">LimitNOFILE=65536</span><br><span class="line">ExecStart=/usr/share/geoserver/bin/startup.sh</span><br><span class="line">ExecReload=</span><br><span class="line">ExecStop=/usr/share/geoserver/bin/shutdown.sh</span><br><span class="line">Restart=on-abort</span><br><span class="line">     </span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># å¼€æœºè‡ªå¯</span></span></span><br><span class="line">systemctl enable geoserver</span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># å¼€å¯æœåŠ¡</span></span></span><br><span class="line">systemctl start geoserver</span><br></pre></td></tr></table></figure></div><h3 id="å®‰è£…-nginx">å®‰è£… nginx</h3><div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="false" data-lang="SHELL"><div class="code-copy"></div><figure class="highlight hljs shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">yum install nginx # ä¸‹è½½å¹¶å®‰è£…nginx</span><br><span class="line"></span><br><span class="line">systemctl start nginx # å¯åŠ¨nginxæœåŠ¡</span><br></pre></td></tr></table></figure></div><p>ã€€ã€€åœ¨ /etc/nginx ä¸‹å¯ä¿®æ”¹ nginx.config æ–‡ä»¶ï¼Œç›‘å¬ç«¯å£é»˜è®¤æ˜¯ 80ï¼Œç›´æ¥è¾“å…¥æœ¬åœ°åœ°å€å¯èƒ½å¹¶æ‰“ä¸å¼€ç½‘é¡µï¼Œå› ä¸ºç›´æ¥è¿™æ ·å®‰è£…çš„ nginx çš„å¯èƒ½â€œæœ‰æ¯’â€ï¼Œåœ¨ /usr/share/nginx/html ç›®å½•ä¸­ index.html å¯èƒ½å¹¶ä¸æ˜¯ä¸€ä¸ª html æ–‡ä»¶ï¼Œè€Œåªæ˜¯å¿«æ·æ–¹å¼ï¼Œéœ€è¦ä»åˆ«çš„åœ°æ–¹æ‹·è´ä¸€ä¸ªçœŸæ­£çš„ index.html æ–‡ä»¶æ›¿æ¢è¯¥æ–‡ä»¶æ‰å¯æ­£å¸¸æ‰“å¼€ç½‘é¡µã€‚</p><h3 id="å®‰è£…-nodejs">å®‰è£… nodejs</h3><p>ï¼ˆhttps://github.com/nodesource/distributionsï¼‰</p><div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="false" data-lang="SHELL"><div class="code-copy"></div><figure class="highlight hljs shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">curl -sL https://rpm.nodesource.com/setup_10.x | bash -</span><br><span class="line"></span><br><span class="line">yum install -y nodejs</span><br></pre></td></tr></table></figure></div><h2 id="vscode-è¿œç¨‹ç¯‡">VSCode è¿œç¨‹ç¯‡</h2><p>ã€€ã€€éœ€è¦å®‰è£… VSCode è¿œç¨‹å¼€å‘æ’ä»¶ https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.vscode-remote-extensionpackï¼ŒåŒ…æ‹¬ï¼ˆRemote - WSLï¼ŒRemote - Containersï¼ŒRemote - SSHï¼‰ã€‚</p><p>åœ¨è¿œç¨‹èµ„æºèµ„æºç®¡ç†å™¨ä¸­ åˆ‡æ¢åˆ° SSH Targes æ ‡ç­¾ï¼Œç‚¹å‡»è®¾ç½®è®¾ç½®ï¼Œåœ¨ C:/Users/ç”¨æˆ·å/.ssh/config ä¸­è¾“å…¥</p><div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="false" data-lang="PLAINTEXT"><div class="code-copy"></div><figure class="highlight hljs plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Host [éšä¾¿å†™]</span><br><span class="line">  HostName remote-ip æˆ– åŸŸå</span><br><span class="line">  User è¿œç¨‹æœåŠ¡å™¨ç”¨æˆ·å</span><br></pre></td></tr></table></figure></div><p>ã€€ã€€é…ç½®SSHï¼Œé€šè¿‡å‘½ä»¤ <code>ssh-keygen -t rsa -b 4096</code> ç”Ÿæˆå¯†é’¥å¯¹ï¼ˆåœ¨ C:/Users/ç”¨æˆ·å/.ssh/ ç›®å½•ä¸­ï¼‰ï¼Œå°†å…¬é’¥å†…å®¹æ‹·è´åˆ°è¿œç¨‹æœåŠ¡å™¨<code>/root/.ssh/authorized_keys</code> ä¸­ï¼Œä¿®æ”¹é…ç½®æ–‡ä»¶ <code>/etc/ssh/sshd_config</code>ï¼Œå–æ¶ˆ <code>#PubkeyAuthentication yes</code> æ³¨é‡Šï¼Œå…è®¸ä½¿ç”¨åŸºäºå¯†é’¥è®¤è¯çš„æ–¹å¼ç™»å½•ã€‚é‡å¯ sshd æœåŠ¡ <code>systemctl restart sshd</code>ã€‚<em>é€šè¿‡ VSCode ssh è¿œç¨‹è¿æ¥åœ¨ç»“æŸä¹‹åæœ€å¥½å°†ç»ˆç«¯å…¨éƒ¨åˆ é™¤ï¼Œå°¤å…¶æ˜¯æœ€å¼€å§‹çš„é‚£ä¸ª install server ç»ˆç«¯ã€‚</em></p><p>ã€€ã€€è®¾ç½®å¥½SSHä¹‹åï¼Œé€šè¿‡åœ¨ VSCode ä¸­è®¾ç½® <code>"docker.host":"ssh://your-remote-user@your-remote-machine-fqdn-or-ip-here"</code>ï¼Œå¯ä»¥ç›´æ¥è¿æ¥åœ¨è¿œç¨‹æœåŠ¡å™¨ä¸Šçš„ dockerã€‚<strong>è¯¥è®¾ç½®æœ€å¥½ç”¨äº å·¥ä½œåŒºè®¾ç½®ï¼Œè€Œä¸æ˜¯ ç”¨æˆ·è®¾ç½®ã€‚</strong></p><p>ã€€ã€€VSCode è¿œç¨‹è¿æ¥ SSH æœ‰æ—¶å¯èƒ½ä¼šå‡ºç°æ— æ³•è¿æ¥ï¼Œä¸€ç›´å°è¯•è¿æ¥çš„ç°è±¡ï¼Œè¿™æ—¶éœ€è¦ç²—æš´çš„åˆ é™¤ ~/.vscode-server ç›®å½•ï¼Œé‡æ–°è¿›è¡Œè¿æ¥ï¼Œä¸è¡Œçš„è¯å°±åªèƒ½å‚è€ƒ: https://stackoverflow.com/questions/56718453/using-remote-ssh-in-vscode-on-a-target-machine-that-only-allows-inbound-ssh-coï¼Œå…ˆå…³é—­è¿œç¨‹æœåŠ¡å™¨ä¸Šå·²å­˜åœ¨çš„æ‰€æœ‰ vscode-server è¿›ç¨‹ï¼Œé€šè¿‡ <code>https://update.code.visualstudio.com/commit:$COMMIT_ID/server-linux-x64/stable</code> ä¸‹è½½ tar åŒ…ï¼Œä½¿ç”¨ <code>tar -xvzf vscode-server-linux-x64.tar.gz --strip-components 1</code> åå†é‡æ–°è¿æ¥ã€‚</p><h2 id="åè®°">åè®°</h2><p>ã€€ã€€æ®æŸ¥ docker ä¾ç„¶å­˜åœ¨å¾ˆå¤šç¼ºç‚¹ï¼Œå°¤å…¶æ˜¯å®ˆæŠ¤è¿›ç¨‹ï¼ŒShaun è¿™ä¸¤å¤©åœ¨ Windows ä¸­ä½¿ç”¨ Docker ä¹Ÿæ—¶ä¸æ—¶çš„å‡ºç° docker å¡æ­»çš„é—®é¢˜ï¼Œéœ€è¦é‡å¯ docker æœåŠ¡ï¼Œ ä»¥åæœ‰æœºä¼šè¿˜æ˜¯ä½¿ç”¨ Podman å§ã€‚RedHat ç³»çš„ yum ä¹Ÿå¿«é€€ä¼‘äº†ï¼Œä»¥åå†éœ€è¦å®‰è£…è½¯ä»¶å¯èƒ½å°±ç›´æ¥ä¸Šæ¯’å¥¶ç²‰ï¼ˆbushiï¼‰dnf äº†ã€‚VSCode è¿œç¨‹å¼€å‘æ˜¯çœŸçš„èˆ’æœï¼Œæ–‡ä»¶æ— ç¼ä¼ è¾“ï¼Œä»»æ„ä¿®æ”¹ï¼Œå¯ä»¥å°½æƒ…äº«å—ç°ä»£ç¼–è¾‘å™¨çš„æ–¹ä¾¿ã€‚</p></div><div class="article-content-more"><button type="button" class="article-more--link"><i class="fa fa-angle-double-down fa-3x" aria-hidden="true"></i></button></div></section></article><article id="post-ç©ºé—´ä¸­ä¸‰è§’å½¢ä¸ä¸‰è§’å½¢ç›¸äº¤" class="article div-border"><header class="article-header"><span class="article-date article-title--index"><i class="fa fa-calendar" aria-hidden="true"></i> <a href="/posts/6694a214.html"><time datetime="2020-10-18T15:36:15.000Z">2020-10-18</time></a></span><section class="article-title article-title--index"><a href="/posts/6694a214.html">ç©ºé—´ä¸­ä¸‰è§’å½¢ä¸ä¸‰è§’å½¢ç›¸äº¤</a></section><div class="article-label"><div class="article-category label"><i class="fa fa-book" aria-hidden="true"></i> <a class="color4 article-category-link" href="/categories/Image-Graphic/">Image&Graphic</a></div><div class="article-tag label"><i class="fa fa-bookmark" aria-hidden="true"></i> <a class="color1 article-tag-none-link" href="/tags/algorithm/" rel="tag">algorithm</a><a class="color1 article-tag-none-link" href="/tags/geometry/" rel="tag">geometry</a></div></div></header><section class="article-content"><div class="article-content--excerpt"><h2 id="å‰è¨€">å‰è¨€</h2><p>ã€€ã€€ä¸€ç§å¿«é€Ÿåˆ¤æ–­ç©ºé—´ä¸­ä¸‰è§’å½¢ä¸ä¸‰è§’å½¢ç›¸äº¤çš„æ–¹æ³•ï¼Œå‡ºè‡ªè®ºæ–‡ï¼š<em>Tomas Moller. A Fast Triangle-Triangle Intersection Test. Journal of Graphics Tools, 1997, 2(2):25-30.</em> ï¼Œä¸ã€Œå¿«é€Ÿåˆ¤æ–­ä¸‰è§’å½¢ä¸é•¿æ–¹ä½“ç›¸äº¤ã€ä¸­é‚£ç¯‡è®ºæ–‡çš„ä½œè€…æ˜¯åŒä¸€ä¸ªäººã€‚</p></div><div class="article-content--all"><h2 id="å‰è¨€">å‰è¨€</h2><p>ã€€ã€€ä¸€ç§å¿«é€Ÿåˆ¤æ–­ç©ºé—´ä¸­ä¸‰è§’å½¢ä¸ä¸‰è§’å½¢ç›¸äº¤çš„æ–¹æ³•ï¼Œå‡ºè‡ªè®ºæ–‡ï¼š<em>Tomas Moller. A Fast Triangle-Triangle Intersection Test. Journal of Graphics Tools, 1997, 2(2):25-30.</em> ï¼Œä¸ã€Œå¿«é€Ÿåˆ¤æ–­ä¸‰è§’å½¢ä¸é•¿æ–¹ä½“ç›¸äº¤ã€ä¸­é‚£ç¯‡è®ºæ–‡çš„ä½œè€…æ˜¯åŒä¸€ä¸ªäººã€‚</p><span id="more"></span><h2 id="ç›¸äº¤ç¯‡">ç›¸äº¤ç¯‡</h2><p>ã€€ã€€è¯¥è®ºæ–‡çš„ç†è®ºåŸºç¡€éƒ¨åˆ†æ¥è‡ªåˆ†ç¦»è½´ç†è®ºï¼Œè®ºæ–‡ä¸­ä¸‰è§’å½¢ä¸ä¸‰è§’å½¢çš„ç›¸äº¤æµ‹è¯•ä¸»è¦å¯åˆ†ä¸º 3 ç±»ï¼š1ã€æ²¿ä¸‰è§’å½¢æ‰€åœ¨å¹³é¢æ³•çº¿æ–¹å‘çš„ç›¸äº¤æµ‹è¯•ï¼›2ã€æ²¿ä¸‰è§’å½¢æ‰€åœ¨ä¸¤å¹³é¢äº¤çº¿æ–¹å‘çš„ç›¸äº¤æµ‹è¯•ï¼›3ã€å…±é¢æ—¶çš„ç›¸äº¤æµ‹è¯•ã€‚ä¸‹é¢æ¥é€æ­¥åˆ†æè¿™äº›ç›¸äº¤æµ‹è¯•ã€‚</p><h3 id="æ²¿æ³•çº¿æ–¹å‘ç›¸äº¤">æ²¿æ³•çº¿æ–¹å‘ç›¸äº¤</h3><p>ã€€ã€€æ²¿æ³•çº¿ç›¸äº¤å¾ˆç®€å•ï¼Œç›´æ¥ä½¿ç”¨åˆ†ç¦»è½´ç†è®ºåˆ†åˆ«åˆ¤æ–­ä¸¤ä¸‰è§’å½¢åœ¨å¯¹åº”ä¸¤æ¡æ³•çº¿ä¸Šçš„æŠ•å½±æ˜¯å¦ç›¸äº¤ï¼Œè‹¥å­˜åœ¨ä¸€æ¡æ³•çº¿ä½¿æŠ•å½±ä¸ç›¸äº¤ï¼Œåˆ™å¯ç›´æ¥åˆ¤å®šä¸¤ä¸‰è§’å½¢ä¸ç›¸äº¤ï¼Œè‹¥æŠ•å½±éƒ½ç›¸äº¤ï¼Œåˆ™å­˜åœ¨ä¸¤ç§æƒ…å†µï¼Œä¸€ç§æ˜¯ä¸¤ä¸‰è§’å½¢å…±é¢ï¼Œä¸€ç§æ˜¯ä¸¤ä¸‰è§’å½¢ç›¸äº’è·¨ç«‹ï¼Œåˆ¤æ–­è¿™ä¸¤ç§æƒ…å†µçš„ä¾æ®ä¸ºè®¡ç®—ä¸¤æ®µæŠ•å½±ä¹‹é—´çš„è·ç¦»ï¼Œå…·ä½“è®¡ç®—æ–¹æ³•ä¸ºï¼šè®¡ç®—ä¸‰è§’å½¢ B ä¸Šä¸‰ä¸ªç‚¹åˆ°ä¸‰è§’å½¢ A æ‰€åœ¨å¹³é¢çš„è·ç¦»ï¼Œè·ç¦»è®¡ç®—çš„æ–¹æ³•å¯å‚è€ƒã€Œ<a href="https://cniter.github.io/posts/5315fcfd.html#%E7%82%B9%E5%88%B0%E5%B9%B3%E9%9D%A2%E7%9A%84%E8%B7%9D%E7%A6%BB">è®¡ç®—å‡ ä½•åŸºç¡€â€”ç‚¹åˆ°å¹³é¢çš„è·ç¦»</a>ã€ï¼Œæ­¤è·ç¦»åŒæ—¶éœ€è¦ä¿ç•™æ–¹å‘ï¼Œè‹¥ä¸‰ä¸ªç‚¹çš„è·ç¦»éƒ½ä¸º 0ï¼Œåˆ™ä¸¤ä¸‰è§’å½¢å…±é¢ï¼›è‹¥ä¸‰ä¸ªè·ç¦»éƒ½åŒå·ï¼Œåˆ™è¯´æ˜æŠ•å½±ä¸ç›¸äº¤ï¼Œå³ä¸¤ä¸‰è§’å½¢ä¸ç›¸äº¤ï¼›è‹¥ä¸‰ä¸ªè·ç¦»å­˜åœ¨å¼‚å·ç°è±¡ï¼Œåˆ™ B è·¨ç«‹ Aã€‚</p><h3 id="æ²¿äº¤çº¿æ–¹å‘ç›¸äº¤">æ²¿äº¤çº¿æ–¹å‘ç›¸äº¤</h3><p>ã€€ã€€è‹¥ä¸¤ä¸‰è§’å½¢ç›¸äº’è·¨ç«‹ï¼Œåˆ™éœ€è¦åˆ¤æ–­ä¸¤ä¸‰è§’å½¢æ˜¯å¦åœ¨ä¸¤ä¸‰è§’å½¢æ‰€åœ¨å¹³é¢äº¤çº¿ä¸Šå­˜åœ¨ç›¸äº¤ã€‚ç”±äºä¸¤ä¸‰è§’å½¢ç›¸äº’è·¨ç«‹ï¼Œåˆ™ä¸¤ä¸‰è§’å½¢å¿…ç„¶éƒ½ä¸äº¤çº¿ç›¸äº¤ï¼Œåˆ™éœ€è¦åˆ†åˆ«è®¡ç®—ä¸¤ä¸‰è§’å½¢ä¸äº¤çº¿çš„äº¤ç‚¹ï¼Œæ ¹æ®äº¤ç‚¹åˆ¤æ–­ä¸¤äº¤çº¿æ®µæ˜¯å¦ç›¸äº¤ï¼Œè‹¥ç›¸äº¤ï¼Œåˆ™å¯ç›´æ¥åˆ¤å®šä¸¤ä¸‰è§’å½¢ç›¸äº¤ï¼Œè‹¥ä¸ç›¸äº¤ï¼Œåˆ™åŒæ ·å¯ç›´æ¥åˆ¤å®šä¸¤ä¸‰è§’å½¢ä¸ç›¸äº¤ã€‚</p><p>ã€€ã€€é—®é¢˜çš„å…³é”®ç°åœ¨åœ¨äºæ±‚å–ä¸¤äº¤çº¿æ®µï¼Œæ¯”è¾ƒç²—æš´çš„æ–¹å¼ä¸ºï¼šå…ˆæ±‚å‡ºä¸¤å¹³é¢çš„äº¤çº¿ï¼Œäº¤çº¿çš„æ–¹å‘å‘é‡ä¸ºä¸¤ä¸‰è§’å½¢æ‰€åœ¨å¹³é¢æ³•å‘é‡çš„çš„å‰ç§¯ï¼Œäº¤çº¿ä¸Šçš„ä¸€ç‚¹é€šè¿‡è”ç«‹ä¸¤å¹³é¢æ–¹ç¨‹è¿›è¡Œæ±‚å–ï¼Œç”±äºæ˜¯ä¸¤ä¸ªæ–¹ç¨‹æ±‚ 3 ä¸ªæœªçŸ¥æ•°ï¼ˆxï¼Œyï¼Œzï¼‰ï¼Œæ‰€ä»¥ç†è®ºä¸Šæœ‰æ— æ•°ä¸ªè§£ï¼Œä»¤äº¤çº¿æ–¹å‘å‘é‡ç»å¯¹å€¼æœ€å¤§çš„åˆ†é‡å¯¹åº”çš„æœªçŸ¥æ•°ä¸º 0ï¼Œæ¶ˆé™¤ä¸€ä¸ªæœªçŸ¥æ•°ï¼Œè¿˜å‰©ä¸¤ä¸ªï¼Œå¯å¾—å”¯ä¸€è§£ï¼Œå³å¯æ±‚å‡ºäº¤çº¿ä¸Šä¸€ç‚¹ï¼Œäº¦å¯å¾—åˆ°ç›´çº¿å‚æ•°æ–¹ç¨‹ï¼Œæ±‚ä¸¤äº¤çº¿æ®µç›¸å½“äºæ±‚å››ä¸ªäº¤ç‚¹ï¼Œæ ¹æ®ç›´çº¿ä¸çº¿æ®µç›¸äº¤å¯å¾—åˆ°äº¤ç‚¹ï¼Œè¿›è€Œå¾—åˆ°äº¤çº¿æ®µã€‚</p><p>è®ºæ–‡ä¸­çš„æ–¹æ³•ä¸ºï¼šæ±‚å‡ºäº¤çº¿çš„æ–¹å‘å‘é‡ D åï¼Œè®¾ O ä¸ºäº¤çº¿ä¸Šä»»æ„ä¸€ç‚¹ï¼ˆ<em>ä¸éœ€è¦æ±‚</em>ï¼‰ï¼Œåˆ™äº¤çº¿æ–¹ç¨‹ä¸º <span class="math inline">\(L= O+tD\)</span>ï¼Œæ­¤æ—¶æ±‚äº¤çº¿æ®µåªéœ€è¦æ±‚å‡º 4 ä¸ª tã€‚å…ˆæ±‚äº¤çº¿ä¸ä¸‰è§’å½¢ A çš„äº¤çº¿æ®µï¼Œè®¾ä¸‰è§’å½¢ Aï¼ˆV0ï¼ŒV1ï¼ŒV2ï¼‰ä¸‰ä¸ªé¡¶ç‚¹åˆ°ä¸‰è§’å½¢ B æ‰€åœ¨å¹³é¢çš„è·ç¦»åˆ†åˆ«ä¸º <span class="math inline">\(d_0,d_1,d_2\)</span>ï¼Œè®¾ <span class="math inline">\(d_1\)</span> ä¸å…¶å®ƒä¸¤ä¸ªè·ç¦»å¼‚å·ï¼Œåˆ™äº¤çº¿åˆ†åˆ«ä¸ V0V1 å’Œ V2V1 ç›¸äº¤ï¼Œå…ˆæ±‚ä¸ V0V1 ç›¸äº¤æ—¶çš„ t1ï¼Œè®¾ä¸‰è§’å½¢ B æ‰€åœ¨çš„å¹³é¢ä¸ºå¹³é¢ Bï¼ŒV0 å’Œ V1 åœ¨å¹³é¢ B ä¸Šçš„æŠ•å½±åˆ†åˆ«ä¸ºä¸º K0 å’Œ K1ï¼ŒV0 å’Œ V1 åœ¨äº¤çº¿ä¸Šçš„æŠ•å½±åˆ†åˆ«ä¸ºä¸º P0 å’Œ P1ï¼Œäº¤çº¿ä¸ V0V1 çš„äº¤ç‚¹ä¸º C1ï¼Œè®¾ <span class="math inline">\(P0=O+p_0D,P1=O+p_1D,C1=O+t_1D\)</span>ï¼Œåˆ™ <span class="math inline">\(p_0=(V0-O)Â·D,p_1=(V1-O)Â·D\)</span>ï¼Œç”±è®ºæ–‡ä¸­å›¾äºŒå¯çŸ¥ï¼Œæœ‰ä¸¤ç»„ä¸‰è§’å½¢ç›¸ä¼¼ï¼Œåˆ†åˆ«ä¸º V0C1K0å’ŒV1C1K1 ç›¸ä¼¼ï¼Œä»¥åŠ V0C1P0å’ŒV1C1P1 ç›¸ä¼¼ï¼Œæ‰€ä»¥ <span class="math display">\[ \frac{V0K0}{V1K1} = \frac{V0C1}{V1C1} = \frac{C1P0}{C1P1} \Rightarrow \frac{d_0}{d_1} = \frac{p_0-t_1}{p1-t_1} \Rightarrow t_1 = \frac{d_0p_1-d_1p_0}{d_0-d_1} \]</span> è‹¥ç‚¹ O ä¸ºåŸç‚¹åœ¨äº¤çº¿ä¸Šçš„æŠ•å½±ï¼Œåˆ™ <span class="math inline">\((V0-O)Â·D=V0Â·D=p_0, ã€€p_1=V1Â·D\)</span>ï¼Œè‹¥å°†äº¤çº¿æŠ•å½±åˆ°äº¤çº¿æ–¹å‘å‘é‡ç»å¯¹å€¼æœ€å¤§çš„åˆ†é‡å¯¹åº”çš„åæ ‡è½´ä¸Šï¼Œåœ¨è¯¥æŠ•å½±äº¤çº¿ä¸Šè¿›è¡Œç›¸äº¤æµ‹è¯•ä¸åœ¨åŸäº¤çº¿ä¸Šè¿›è¡Œç›¸äº¤æµ‹è¯•æ˜¯ç­‰æ•ˆçš„ï¼Œæ‰€ä»¥æ­¤æ—¶ <span class="math inline">\(p_0,p_1\)</span> å³ä¸º V0 å’Œ V1 ä¸Šå¯¹åº”åæ ‡è½´çš„åˆ†é‡ã€‚åŒç†å¯æ±‚å‡º t2ï¼Œt3 ï¼Œt4ï¼Œä¸¤äº¤çº¿æ®µä¸º t1t2 å’Œ t3t4ã€‚</p><h3 id="å…±é¢ç›¸äº¤">å…±é¢ç›¸äº¤</h3><p>ã€€ã€€åˆ¤æ–­å…±é¢ç›¸äº¤ï¼Œç›¸å½“äºåˆ¤æ–­ 2 ç»´ä¸­ä¸¤ä¸‰è§’å½¢æ˜¯å¦ç›¸äº¤ï¼Œå…ˆå°†ä¸‰è§’å½¢æŠ•å½±åˆ° XOYï¼ŒXOZï¼ŒYOZ å¹³é¢ä¸­æŠ•å½±é¢ç§¯æœ€å¤§çš„å¹³é¢ï¼ˆä¸ºé¿å…è®¡ç®—é¢ç§¯ï¼Œå¯ç›´æ¥ä»¤ä¸‰è§’å½¢é¡¶ç‚¹åæ ‡ä¸­å¯¹åº”æ³•å‘å‘é‡ä¸­ç»å¯¹å€¼æœ€å¤§çš„åˆ†é‡ä¸º 0ï¼Œå³è‹¥æ³•å‘å‘é‡ä¸­ç»å¯¹å€¼æœ€å¤§çš„åˆ†é‡ä¸º yï¼Œåˆ™å°†ä¸‰è§’å½¢æŠ•å½±åˆ° XOZ å¹³é¢ï¼‰ï¼Œåˆ¤æ–­æŠ•å½±åçš„ä¸¤ä¸‰è§’å½¢æ˜¯å¦ç›¸äº¤å³å¯ï¼Œå› ä¸ºæ­¤æ—¶çš„ä¸¤ä¸‰è§’å½¢ç›¸äº¤ï¼Œå½“ä¸”ä»…å½“å…¶æŠ•å½±ä¸‰è§’å½¢ç›¸äº¤ã€‚2 ç»´ä¸­ä¸¤ä¸‰è§’å½¢æ˜¯å¦ç›¸äº¤ï¼Œè®ºæ–‡ä¸­æ–¹æ³•æ˜¯å…ˆåˆ¤æ–­ä¸¤ä¸‰è§’å½¢çš„è¾¹æ˜¯å¦ç›¸äº¤ï¼Œå³ç›¸å½“äºåˆ¤æ–­ 9 ç»„çº¿æ®µæ˜¯å¦ç›¸äº¤ï¼Œè‹¥å­˜åœ¨ä¸€ç»„ç›¸äº¤ï¼Œåˆ™ä¸¤ä¸‰è§’å½¢ç›¸äº¤ï¼Œè‹¥éƒ½ä¸ç›¸äº¤ï¼Œåˆ™éœ€è¦åˆ¤æ–­å…¶ä¸­ä¸€ä¸ªä¸‰è§’å½¢æ˜¯å¦è¢«å¦ä¸€ä¸ªä¸‰è§’å½¢åŒ…å«ï¼Œå…·ä½“åˆ¤æ–­æ–¹å¼å–ä¸‰è§’å½¢ A ä¸­ä¸€é¡¶ç‚¹ï¼Œè‹¥è¯¥é¡¶ç‚¹åœ¨ä¸‰è§’å½¢ B å†…ï¼ˆåˆ¤æ–­ 2 ç»´ä¸­ç‚¹åœ¨å¤šè¾¹å½¢å†…çš„æ–¹æ³•åŒæ ·å¯å‚è€ƒã€Œè®¡ç®—å‡ ä½•åŸºç¡€ã€ï¼‰ï¼Œåˆ™è¯´æ˜ä¸‰è§’å½¢ A åœ¨ B å†…ï¼ŒåŒæ ·ä¹Ÿéœ€è¦åˆ¤æ–­ B æ˜¯å¦åœ¨ A å†…ï¼Œè‹¥éƒ½ä¸åœ¨ï¼Œåˆ™ä¸¤ä¸‰è§’å½¢ä¸ç›¸äº¤ï¼Œå¦åˆ™ä¸¤ä¸‰è§’å½¢ç›¸äº¤ã€‚å½“ç„¶ï¼Œä¹Ÿå¯ä»¥ç›´æ¥é€šè¿‡åˆ†ç¦»è½´ç†è®ºæ¥åˆ¤æ–­ä¸¤ä¸‰è§’å½¢æ˜¯å¦ç›¸äº¤ï¼Œæ¯•ç«Ÿï¼Œè¿™å°±æ˜¯åœ¨ 2 ç»´ä¸­ï¼Œè€Œä¸”ä¸‰è§’å½¢ç®—æ˜¯å¤©ç„¶çš„å‡¸å¤šè¾¹å½¢ã€‚</p><h2 id="åè®°">åè®°</h2><p>ã€€ã€€ä¸‰è§’å½¢æ˜¯å›¾å½¢å­¦ä¸­ç»„æˆé¢çš„åŸºæœ¬å•å…ƒï¼Œå›¾å½¢å­¦ä¸­é¢ä¸é¢çš„ç¢°æ’æ£€æµ‹éƒ½å¯ä»¥å¾ˆç²—æš´çš„ç”¨ä¸‰è§’å½¢ç›¸äº¤æ¥å®ç°ï¼Œåªä¸è¿‡ç›´æ¥ä¸€ä¸ªä¸ªåˆ¤æ–­æ•ˆç‡æœ‰ç‚¹ä½å°±æ˜¯äº†ï¼Œæ‰€ä»¥ä¸€èˆ¬ä¼šå€ŸåŠ©ä¸€äº›åŸºäºçš„æ ‘å’ŒåŒ…å›´ç›’ç©ºé—´åŠ é€Ÿç»“æ„ï¼Œæˆ–è€…é’ˆå¯¹æŸç§å½¢çŠ¶çš„ç‰¹æ®Šæ–¹æ³•ï¼Œè¿™åˆæ˜¯æ–°çš„æ–¹æ³•ç³»åˆ—äº†ã€‚</p></div><div class="article-content-more"><button type="button" class="article-more--link"><i class="fa fa-angle-double-down fa-3x" aria-hidden="true"></i></button></div></section></article><article id="post-è®¡ç®—å‡ ä½•åŸºç¡€" class="article div-border"><header class="article-header"><span class="article-date article-title--index"><i class="fa fa-calendar" aria-hidden="true"></i> <a href="/posts/5315fcfd.html"><time datetime="2020-08-22T00:42:39.000Z">2020-08-22</time></a></span><section class="article-title article-title--index"><a href="/posts/5315fcfd.html">è®¡ç®—å‡ ä½•åŸºç¡€</a></section><div class="article-label"><div class="article-category label"><i class="fa fa-book" aria-hidden="true"></i> <a class="color5 article-category-link" href="/categories/Image-Graphic/">Image&Graphic</a></div><div class="article-tag label"><i class="fa fa-bookmark" aria-hidden="true"></i> <a class="color5 article-tag-none-link" href="/tags/algorithm/" rel="tag">algorithm</a><a class="color5 article-tag-none-link" href="/tags/geometry/" rel="tag">geometry</a></div></div></header><section class="article-content"><div class="article-content--excerpt"><h2 id="å‰è¨€">å‰è¨€</h2><p>ã€€ã€€ç”±äºæœ¬ç¯‡ä¸»è¦æ˜¯è°ˆè°ˆåŸºç¡€ï¼Œæ‰€ä»¥ä¸€äº›å¿«é€Ÿè¿ç®—æ–¹æ³•ä¸€èˆ¬ä¸åœ¨æœ¬ç¯‡æ¢è®¨èŒƒå›´ä¹‹å†…ï¼Œä¸€äº›ç‰¹æ®Šçš„å¿«é€Ÿæ‰‹æ³•ç­‰åç»­ä¸“é—¨ç‹¬ç«‹å¼€ç¯‡å†è°ˆã€‚</p></div><div class="article-content--all"><h2 id="å‰è¨€">å‰è¨€</h2><p>ã€€ã€€ç”±äºæœ¬ç¯‡ä¸»è¦æ˜¯è°ˆè°ˆåŸºç¡€ï¼Œæ‰€ä»¥ä¸€äº›å¿«é€Ÿè¿ç®—æ–¹æ³•ä¸€èˆ¬ä¸åœ¨æœ¬ç¯‡æ¢è®¨èŒƒå›´ä¹‹å†…ï¼Œä¸€äº›ç‰¹æ®Šçš„å¿«é€Ÿæ‰‹æ³•ç­‰åç»­ä¸“é—¨ç‹¬ç«‹å¼€ç¯‡å†è°ˆã€‚</p><span id="more"></span><h2 id="åŸºç¡€ç¯‡">åŸºç¡€ç¯‡</h2><p><strong>è§£çº¿æ€§æ–¹ç¨‹ç»„ï¼š</strong>ä»¤ <span class="math inline">\(A\)</span> ä¸º <span class="math inline">\(nÃ—n\)</span> çš„çŸ©é˜µï¼Œ<span class="math inline">\(Î±\)</span> å’Œ <span class="math inline">\(Î²\)</span> ä¸º n ç»´çš„åˆ—å‘é‡ï¼Œè®¾ <span class="math inline">\(A = \begin{bmatrix} \alpha_1 &amp; \alpha_2 &amp; \alpha_3 &amp; ... &amp; \alpha_n \end{bmatrix}\)</span>ï¼Œå¯¹äºçº¿æ€§æ–¹ç¨‹ç»„ <span class="math inline">\(Ax = Î²\)</span>ï¼Œåˆç­‰æ•°å­¦ä¸­æœ€å¸¸è§„çš„å°±æ˜¯æ¶ˆå…ƒæ³•äº†ï¼Œä½†åœ¨çº¿æ€§ä»£æ•°ä¸­ï¼Œæœ‰ä¸¤ç§è§£æ³•ï¼Œä¸€ç§æ˜¯ç­‰å¼ä¸¤è¾¹åŒä¹˜ <span class="math inline">\(A\)</span> çš„é€†é˜µï¼Œå¾—åˆ° <span class="math inline">\(x = A^{-1}Î²\)</span>ï¼›å¦ä¸€ç§æ˜¯å…‹è±å§†æ³•åˆ™ï¼Œå¯å¾— <span class="math inline">\(x_i = |A_i| / |A|\)</span>ï¼Œå…¶ä¸­ <span class="math inline">\(|A|\)</span> ä¸º çŸ©é˜µ <span class="math inline">\(A\)</span> å¯¹åº”çš„è¡Œåˆ—å¼ï¼Œ <span class="math inline">\(|A_i|\)</span> ä¸ºå°†çŸ©é˜µ <span class="math inline">\(A\)</span> ä¸­ç¬¬ <span class="math inline">\(i\)</span> åˆ—æ¢æˆ <span class="math inline">\(Î²\)</span> åå¯¹åº”çš„è¡Œåˆ—å¼ï¼Œå¦‚ <span class="math inline">\(x_3 = \left| \begin{array}{cccc} \alpha_1 &amp; \alpha_2 &amp; \beta &amp; ... &amp; \alpha_n \end{array} \right| / |A|\)</span>ã€‚</p><p><strong>å‘é‡å†…ç§¯ï¼š</strong>åˆç§°å‘é‡ç‚¹ç§¯ï¼Œå‘é‡ç‚¹ä¹˜ã€‚è®¾ aï¼Œb ä¸ºç©ºé—´ä¸­ä¸¤ä¸ª n ç»´å‘é‡ <span class="math inline">\(a=(x_1,x_2,x_3,...,x_n)\)</span>ï¼Œ<span class="math inline">\(b=(y_1,y_2,y_3,...,y_n)\)</span>ï¼Œåˆ™ <span class="math inline">\(aÂ·b=|a|*|b|*cos(Î±)=\sum\limits_{i=1}^{n}x_iy_i\)</span>ï¼Œå…¶ä¸­<span class="math inline">\(|a|= \sqrt{(x_1)^2+(x_2)^2+(x_3)^2+...+(x_n)^2},\alpha\)</span> ä¸ºä¸¤å‘é‡ä¹‹é—´å¤¹è§’ã€‚å‘é‡å†…ç§¯ä¸€èˆ¬ç”¨æ¥è®¡ç®—æŠ•å½±ï¼ˆä»¤ <span class="math inline">\(|b|=1\)</span>ï¼Œåˆ™ <span class="math inline">\(a \cdot b=|a|cos(Î±)\)</span>ï¼Œå³ä¸ºå‘é‡ a åœ¨ b ä¸Šçš„æŠ•å½±ï¼‰ï¼Œå’Œä¸¤å‘é‡ä¹‹é—´è§’åº¦ã€‚</p><p><strong>å‘é‡å¤–ç§¯ï¼š</strong>åˆç§°å‘é‡å‰ç§¯ï¼Œå‘é‡å‰ä¹˜ï¼Œ<span class="math inline">\(|aÃ—b|=||a|*|b|*sin(\alpha)|\)</span>ã€‚å‘é‡å¤–ç§¯ä¸€èˆ¬åªé’ˆå¯¹äºŒç»´å‘é‡å’Œä¸‰ç»´å‘é‡ï¼Œå¯¹äºäºŒç»´å‘é‡ï¼Œ<span class="math inline">\(aÃ—b=a.x*b.y-b.x*a.y\)</span>ï¼Œå¯ä»¥è®¤ä¸ºæ˜¯ä¸€ä¸ªå€¼ï¼ˆå…¶å®ä¹Ÿæ˜¯ä¸€ä¸ªå‘é‡ï¼‰ï¼Œå¯¹äºä¸‰ç»´å‘é‡ <span class="math inline">\(aÃ—b=(a.y*b.z-b.y*a.z, a.x*b.z-b.x*a.z, a.x*b.y-b.x*a.y)\)</span>ï¼Œæ˜¯ä¸€ä¸ªå‘é‡ï¼Œä¸”è¯¥å‘é‡ä¸€å®šå‚ç›´äº aï¼Œb ä¸¤å‘é‡æ„æˆçš„å¹³é¢ï¼Œæ‰€ä»¥ä¸‰ç»´å‘é‡çš„å¤–ç§¯ä¸€èˆ¬å¯ä»¥ç”¨æ¥è®¡ç®—å¹³é¢çš„æ³•å‘é‡ã€‚å‘é‡å¤–ç§¯çš„å‡ ä½•æ„ä¹‰ä¸ºä¸¤å‘é‡æ„æˆå¹³è¡Œå››è¾¹å½¢çš„é¢ç§¯ï¼ŒäºŒç»´å‘é‡å¤–ç§¯ç›´æ¥å–ç»å¯¹å€¼å³ä¸ºé¢ç§¯ï¼Œä¸å–ç»å¯¹å€¼åˆ™å¯ä»¥ç”¨æ¥åˆ¤æ–­ä¸¤å‘é‡æ„æˆä¸‰è§’å½¢çš„ç‚¹æ˜¯ä»¥é¡ºæ—¶é’ˆæ’åˆ—ï¼ˆå°äº 0ï¼‰çš„è¿˜æ˜¯é€†æ—¶é’ˆæ’åˆ—ï¼ˆå¤§äº 0ï¼‰çš„ï¼Œä¸‰ç»´å‘é‡å¤–ç§¯å–æ‰€å¾—å‘é‡çš„æ¨¡å³ä¸ºé¢ç§¯ã€‚</p><p><strong>å‘é‡æ··åˆç§¯ï¼š</strong> è®¾ <span class="math inline">\(a\)</span>ï¼Œ<span class="math inline">\(b\)</span>ï¼Œ<span class="math inline">\(c\)</span> ä¸ºç©ºé—´ä¸­ä¸‰ä¸ªå‘é‡ï¼Œåˆ™å…¶æ··åˆç§¯ <span class="math inline">\((a,b,c)= (aÃ—b)Â·c = -(cÃ—b)Â·a = -(aÃ—c)Â·b\)</span>ï¼Œ<span class="math inline">\((a,b,c) = (b,c,a) = (c,a,b)\)</span>ã€‚è‹¥ <span class="math inline">\(a\)</span>ï¼Œ<span class="math inline">\(b\)</span>ï¼Œ<span class="math inline">\(c\)</span> éƒ½ä¸º 3 ç»´çš„å‘é‡ï¼ŒçŸ©é˜µ <span class="math inline">\(A = [a, b, c]\)</span>ï¼Œåˆ™ <span class="math inline">\(|A| = (a, b, c)\)</span> ï¼Œå…¶ä¸­ <span class="math inline">\(a,b,c\)</span> æ˜¯åˆ—å‘é‡æˆ–è¡Œå‘é‡éƒ½å¯ä»¥ï¼Œå› ä¸º <span class="math inline">\(|A| = |A^T|\)</span>ï¼Œè¯¥æ··åˆç§¯çš„å‡ ä½•æ„ä¹‰ä¸ºè¿™ä¸‰ä¸ªå‘é‡ç»„æˆçš„å¹³è¡Œå…­é¢ä½“çš„ä½“ç§¯ã€‚</p><p><strong>ç›´çº¿å‚æ•°æ–¹ç¨‹ï¼š</strong>è®¾ P ä¸ºç›´çº¿ä¸Šä»»æ„ä¸€ç‚¹ï¼Œè‹¥ P1 å’Œ P2 ä¸ºç›´çº¿ä¸Šå·²çŸ¥ä¸¤ç‚¹ï¼Œåˆ™ <span class="math inline">\(P=P1 + (P2-P1)*t, t\in[-âˆ,+âˆ]\)</span>ã€‚å½“ç„¶ç›´çº¿çš„å‚æ•°æ–¹ç¨‹æœ‰å¾ˆå¤šç§å½¢å¼ï¼Œä¹‹æ‰€ä»¥ç”¨ä¸¤ç‚¹å¼ï¼Œæ˜¯å› ä¸ºä¸¤ç‚¹å¼é™¤äº†èƒ½è¡¨ç¤ºç›´çº¿ï¼ŒåŒæ ·èƒ½è¡¨ç¤ºå°„çº¿ï¼ˆ<span class="math inline">\(t\ge 0\)</span>ï¼‰ï¼Œä¹Ÿèƒ½è¡¨ç¤ºçº¿æ®µï¼ˆ<span class="math inline">\(0\le t\le 1\)</span>ï¼‰ã€‚</p><p><strong>å¹³é¢æ–¹ç¨‹ï¼š</strong>è®¾ P ä¸ºå¹³é¢ä¸Šä»»æ„ä¸€ç‚¹ï¼ŒO ä¸ºå¹³é¢ä¸Šå·²çŸ¥ä¸€ç‚¹ï¼Œn ä¸ºå¹³é¢æ³•å‘é‡ï¼Œåˆ™å¹³é¢æ–¹ç¨‹ä¸ºï¼š<span class="math inline">\((P-O)Â·n=0\)</span> ã€‚</p><p><strong>ä¸‰è§’å½¢å†…çš„ç‚¹ï¼š</strong>è®¾ P0ï¼ŒP1ï¼ŒP2 ä¸ºä¸‰è§’å½¢ 3 ä¸ªé¡¶ç‚¹ï¼Œè‹¥ P ä¸ºä¸‰è§’å½¢å†…ä¸€ç‚¹ï¼ŒåŒæ—¶å¯è®¤ä¸º (P1-P0) å’Œ (P2-P0) ä¸ºä¸€ç»„åŸºå‘é‡ï¼Œåˆ™ P æ»¡è¶³ <span class="math inline">\(P=P0+u*(P1-P0)+v*(P2-P0),u \in [0,1],v \in [0,1],u+v\le 1\)</span>ã€‚</p><h2 id="è·ç¦»ç¯‡">è·ç¦»ç¯‡</h2><p>ã€€ã€€ä¸€èˆ¬çš„è·ç¦»è®¡ç®—éƒ½æ˜¯å‘é‡è®¡ç®—ï¼Œè¦ä¹ˆç‚¹ä¹˜ï¼Œè¦ä¹ˆå‰ä¹˜ã€‚</p><h3 id="ç‚¹åˆ°ç›´çº¿çš„è·ç¦»">ç‚¹åˆ°ç›´çº¿çš„è·ç¦»</h3><p>ã€€ã€€è®¡ç®—ç‚¹åˆ°ç›´çº¿çš„è·ç¦»é€šç”¨çš„è§£æ³•æ˜¯ä½¿ç”¨å‘é‡å‰ä¹˜ï¼Œè®¾ P ä¸ºç›´çº¿å¤–ä¸€ç‚¹ï¼ŒQ1 å’Œ Q2 ä¸ºç›´çº¿ä¸Šä¸¤ç‚¹ï¼Œåˆ™å¯å¾—åˆ°ä¸¤å‘é‡ <span class="math inline">\(a=P-Q1, b=Q2-Q1\)</span>ï¼Œåˆ™ P åˆ°ç›´çº¿çš„è·ç¦»ä¸º <span class="math inline">\(d=|aÃ—b|/|b|\)</span>ï¼Œå‰ä¹˜æ˜¯é¢ç§¯ï¼Œè€Œé¢ç§¯åˆç­‰äºåº•ä¹˜é«˜ï¼Œ<span class="math inline">\(|b|\)</span> ä¸ºåº•ï¼Œ<span class="math inline">\(d\)</span> ä¸ºé«˜ã€‚å½“ç„¶ç‚¹åˆ°ç›´çº¿çš„è·ç¦»è¿˜æœ‰å…¶ä»–çš„ä¸€äº›æ–¹æ³•ï¼Œå¦‚ åˆ©ç”¨å…¬å¼ï¼Œåˆ©ç”¨ç‚¹ç§¯å†ä½¿ç”¨å‹¾è‚¡å®šç†ï¼Œç›´æ¥åˆ©ç”¨ç‚¹ç§¯è®¡ç®—ç›´çº¿æ³•å‘é‡ä¸Šçš„æŠ•å½±ç­‰ï¼Œè¿™äº›æ–¹æ³•éƒ½æœ‰ä¸€å®šçš„å±€é™æ€§ã€‚</p><h3 id="ç‚¹åˆ°çº¿æ®µçš„è·ç¦»">ç‚¹åˆ°çº¿æ®µçš„è·ç¦»</h3><p>ã€€ã€€è®¾ d ä¸ºç‚¹ P åˆ°çº¿æ®µçš„è·ç¦»ï¼Œè¡¨ç¤ºä¸ºç‚¹ P åˆ°çº¿æ®µä¸Šæœ€è¿‘ç‚¹çš„è·ç¦»ï¼Œè®¾ P1ï¼ŒP2 åˆ†åˆ«ä¸ºçº¿æ®µä¸¤ç«¯ç‚¹ï¼Œè®¡ç®— <span class="math inline">\(a=(P-P1)Â·(P2-P1) / |P2-P1|\)</span>ï¼Œè‹¥ <span class="math inline">\(0â‰¤aâ‰¤1\)</span>ï¼Œåˆ™ d ä¸ºç‚¹ P åˆ°çº¿æ®µæ‰€åœ¨ç›´çº¿çš„è·ç¦»ï¼Œè‹¥ <span class="math inline">\(a&lt;0\)</span>ï¼Œåˆ™ d ä¸ºç‚¹ P åˆ°ç‚¹ P1 çš„è·ç¦»ï¼Œè‹¥ <span class="math inline">\(a&gt;1\)</span>ï¼Œåˆ™ d ä¸ºç‚¹ P åˆ°ç‚¹ P2 çš„è·ç¦»ã€‚</p><h3 id="ä¸‰ç»´ä¸­ç‚¹åˆ°ä¸‰è§’å½¢çš„è·ç¦»">ä¸‰ç»´ä¸­ç‚¹åˆ°ä¸‰è§’å½¢çš„è·ç¦»</h3><p>ã€€ã€€å…ˆè®¡ç®—ç‚¹ P åˆ°ä¸‰è§’å½¢æ‰€åœ¨å¹³é¢çš„æŠ•å½±ç‚¹ <span class="math inline">\(P&#39;\)</span>ï¼Œè‹¥ <span class="math inline">\(P&#39;\)</span> åœ¨ä¸‰è§’å½¢å†…ï¼Œåˆ™åªéœ€è¦æ±‚ç‚¹ P åˆ°ä¸‰è§’å½¢æ‰€åœ¨å¹³é¢çš„è·ç¦»ï¼Œå¦åˆ™éœ€è¦åˆ†åˆ«æ±‚ç‚¹ P åˆ°ä¸‰è§’å½¢ä¸‰æ¡è¾¹çš„è·ç¦»ï¼ˆç‚¹åˆ°çº¿æ®µçš„è·ç¦»ï¼‰ï¼Œå–ä¸‰ä¸ªè·ç¦»ä¸­æœ€å°å€¼å³ä¸ºç‚¹åˆ°ä¸‰è§’å½¢çš„è·ç¦»ã€‚</p><h3 id="ç‚¹åˆ°å¹³é¢çš„è·ç¦»">ç‚¹åˆ°å¹³é¢çš„è·ç¦»</h3><p>ã€€ã€€ç›´æ¥åˆ©ç”¨ç‚¹ä¹˜è®¡ç®—ï¼Œå¹³é¢å¤–ä¸€ç‚¹ä¸å¹³é¢å†…ä¸€ç‚¹æ„æˆçš„å‘é‡åˆ°å¹³é¢æ³•å‘é‡ä¸Šçš„æŠ•å½±ï¼Œå³ä¸ºç‚¹åˆ°å¹³é¢çš„è·ç¦»ã€‚è®¾ P ä¸ºå¹³é¢å¤–ä¸€ç‚¹ï¼ŒO ä¸ºå¹³é¢å†…ä¸€ç‚¹ï¼Œn ä¸ºå¹³é¢æ³•å‘é‡ï¼Œåˆ™ç‚¹ P åˆ°å¹³é¢çš„è·ç¦»ä¸º <span class="math inline">\(d=(P-O) \cdot n\)</span>ã€‚</p><h3 id="ç›´çº¿åˆ°ç›´çº¿çš„è·ç¦»">ç›´çº¿åˆ°ç›´çº¿çš„è·ç¦»</h3><p>ã€€ã€€è®¾ P1 å’Œ P2 ä¸ºç›´çº¿ 1 ä¸Šä¸¤ç‚¹ï¼ŒQ1 å’Œ Q2 ä¸ºç›´çº¿ 2 ä¸Šä¸¤ç‚¹ï¼Œåˆ™ç›´çº¿ 1 ä¸ç›´çº¿ 2 ä¹‹é—´çš„è·ç¦»è®¡ç®—æµç¨‹ä¸ºï¼š</p><ol type="1"><li>å…ˆåˆ¤æ–­ä¸¤ç›´çº¿æ˜¯å¦å¹³è¡Œï¼Œå³ <span class="math inline">\((P2-P1) = k*(Q2-Q1), k \neq 0\)</span> æœ‰è§£ã€‚è‹¥å¹³è¡Œï¼Œåˆ™ç›¸å½“äºè®¡ç®—ç‚¹åˆ°ç›´çº¿çš„è·ç¦»ï¼›è‹¥ä¸å¹³è¡Œï¼Œåˆ™è¿›è¡Œä¸‹ä¸€æ­¥ã€‚</li><li>å†åˆ¤æ–­ä¸¤ç›´çº¿æ˜¯å¦å…±é¢ï¼Œå³ P1ï¼ŒP2ï¼ŒQ1ï¼ŒQ2 å››ç‚¹å…±é¢ï¼Œå…ˆè®¡ç®— <span class="math inline">\(n=(P2-P1)Ã—(Q2-Q1)\)</span>ï¼Œå†åˆ†åˆ«è®¡ç®— <span class="math inline">\(nÂ·(Q1-P1), nÂ·(Q2-P1), nÂ·(Q1-P2), nÂ·(Q2-P2)\)</span>ï¼Œè‹¥è¿™å››ä¸ªå€¼éƒ½ä¸º 0 ï¼Œåˆ™ä¸¤ç›´çº¿å…±é¢ï¼ˆä¹‹æ‰€ä»¥éœ€è¦åˆ¤æ–­ 4 ä¸ªå€¼ï¼Œæ˜¯ä¸ºé˜²å‡ºç° 3 ç‚¹å…±çº¿æƒ…å†µï¼Œå½“ç„¶ä¹Ÿå¯ä»¥å…ˆåˆ¤æ–­ 3 ç‚¹å…±çº¿ï¼Œå†å–ä¸å…±çº¿çš„ä¸€ç‚¹æ„æˆå‘é‡ä¸ n åšç‚¹ç§¯è¿›è¡Œåˆ¤æ–­ï¼‰ï¼Œè‹¥ä¸¤ç›´çº¿å…±é¢ï¼Œåˆ™ä¸¤ç›´çº¿å¿…ç„¶ç›¸äº¤ï¼›è‹¥ä¸¤ç›´çº¿ä¸å…±é¢ï¼Œåˆ™ä¸¤ç›´çº¿é—´è·ç¦»ä¸º <span class="math inline">\(d=(Q1-P1) \cdot n\)</span>ã€‚</li></ol><h3 id="ç›´çº¿åˆ°å¹³é¢çš„è·ç¦»">ç›´çº¿åˆ°å¹³é¢çš„è·ç¦»</h3><p>ã€€ã€€è®¾ P1 å’Œ P2 ä¸ºç›´çº¿ä¸Šä¸¤ç‚¹ï¼Œn ä¸ºå¹³é¢æ³•å‘é‡ï¼Œåˆ™ç›´çº¿ä¸å¹³é¢ä¹‹é—´çš„è·ç¦»è®¡ç®—æµç¨‹ä¸ºï¼š</p><ol type="1"><li>å…ˆåˆ¤æ–­ç›´çº¿ä¸å¹³é¢æ˜¯å¦å¹³è¡Œï¼Œå³è‹¥ <span class="math inline">\((P2-P1) \cdot n = 0\)</span> ï¼Œåˆ™ç›´çº¿ä¸å¹³é¢å¹³è¡Œï¼Œåˆ™ç›´çº¿åˆ°å¹³é¢çš„è·ç¦»ä¸º ç‚¹ P1 åˆ°å¹³é¢çš„è·ç¦»ï¼›</li><li>è‹¥ç›´çº¿ä¸å¹³é¢ä¸å¹³è¡Œï¼Œåˆ™ç›´çº¿ä¸å¹³é¢å¿…ç›¸äº¤ã€‚</li></ol><h2 id="ç›¸äº¤ç¯‡">ç›¸äº¤ç¯‡</h2><p>ã€€ã€€ä¸€èˆ¬çš„ç›¸äº¤æ±‚äº¤ç‚¹éƒ½æ˜¯è”ç«‹æ–¹ç¨‹ç»„ï¼Œä½†æœ‰äº›åªéœ€è¦åšç›¸äº¤æµ‹è¯•çš„ï¼Œå¯ä»¥åˆ©ç”¨ä¸€äº›ç‰¹æ®Šæ–¹æ³•å¿«é€Ÿæ±‚å‡ºæ¥ã€‚æœ‰äº›ç›¸äº¤ç›´æ¥æ±‚å¾ˆéº»çƒ¦æˆ–å¾ˆéš¾ï¼Œå¯ä»¥åå‘æ±‚ä¸ç›¸äº¤çš„æƒ…å†µï¼Œè€Œåœ¨å®é™…ç¼–ç¨‹ä¸­ï¼Œä¸€èˆ¬éƒ½æœ‰å¾ˆå¤šæ¡ä»¶è¯­å¥ï¼Œä»¥ä¾¿å¿«é€Ÿè¿”å›æé«˜æ•ˆç‡ã€‚</p><h3 id="ç›´çº¿ä¸ç›´çº¿ç›¸äº¤">ç›´çº¿ä¸ç›´çº¿ç›¸äº¤</h3><p>ã€€ã€€è®¾ç›´çº¿ 1 æ–¹ç¨‹ä¸º <span class="math inline">\(P=P1 + (P2-P1)*t\)</span>ï¼Œç›´çº¿ 2 æ–¹ç¨‹ä¸º <span class="math inline">\(P=Q1 + (Q2-Q1)*u\)</span>ï¼Œè”ç«‹ä¸¤æ–¹ç¨‹å¾— <span class="math inline">\(P1 + (P2-P1)*t = Q1 + (Q2-Q1)*u\)</span>ï¼Œå³ <span class="math inline">\(P1-Q1 = (Q2-Q1)*u - (P2-P1)*t\)</span>ï¼Œè®¾ <span class="math inline">\(v_0=Q2-Q1,v_1=P1-P2,v_2=P1-Q1\)</span>ï¼Œå³ <span class="math inline">\(v_0*u+v_1*t=v_2\)</span>ï¼Œç°åœ¨çš„é—®é¢˜å°±æ˜¯è§£è¿™ä¸ªæ–¹ç¨‹äº†ï¼Œä¸€ç§æ˜¯ç›´æ¥æŠŠå‘é‡åˆ†è§£æˆå•ä¸€ç»´åº¦ï¼Œåˆ—æ–¹ç¨‹ç»„ï¼›ä¸€ç§æ˜¯ç­‰å¼ä¸¤è¾¹åˆ†åˆ«åŒæ—¶ç‚¹ä¹˜ <span class="math inline">\(v_0\)</span> å’Œ <span class="math inline">\(v_1\)</span>ï¼Œå¯å¾— <span class="math display">\[ \begin{cases} (v_0 \cdot v_0)*u+(v1 \cdot v_0)*t=v_2 \cdot v_0 , \\ (v_0 \cdot v_1)*u+(v1 \cdot v_1)*t=v_2 \cdot v_1 \end{cases} \]</span> è§£å¾—ï¼š <span class="math display">\[ \begin{cases} u=((v1Â·v1)(v2Â·v0)-(v1Â·v0)(v2Â·v1)) / ((v0Â·v0)(v1Â·v1) - (v0Â·v1)(v1Â·v0)) , \\ t = ((v0Â·v0)(v2Â·v1)-(v0Â·v1)(v2Â·v0)) / ((v0Â·v0)(v1Â·v1) - (v0Â·v1)(v1Â·v0)) \end{cases} \]</span> è‹¥æ–¹ç¨‹æœ‰è§£ï¼Œåˆ™ä¸¤ç›´çº¿ç›¸äº¤ï¼Œç”±äºä¸¤ç‚¹å¼æ–¹ç¨‹å¯ä»¥å¾ˆç®€å•çš„è½¬æ¢ä¸ºçº¿æ®µå’Œå°„çº¿ï¼Œæ‰€ä»¥è¯¥æ–¹æ³•åŒæ ·å¯ä»¥åˆ¤æ–­ä¸¤çº¿æ®µç›¸äº¤ï¼Œä¸¤å°„çº¿ç›¸äº¤ï¼Œå°„çº¿ä¸ç›´çº¿ä¸çº¿æ®µç›¸äº¤ç­‰ã€‚é’ˆå¯¹äºŒç»´ç›´çº¿ï¼Œè¿˜æœ‰ä¸€ç§è§£æ³•æ˜¯å°†åŸæ–¹ç¨‹å†™æˆçŸ©é˜µå½¢å¼ï¼Œåˆ©ç”¨å…‹è±å§†æ³•åˆ™è¿›è¡Œæ±‚è§£ï¼Œä¸è¿‡æ€»çš„æ¥è¯´ï¼Œæœ€ç»ˆçš„è§£éƒ½æ˜¯ä¸€ç§å½¢å¼ã€‚</p><h3 id="ç›´çº¿ä¸å¹³é¢ç›¸äº¤">ç›´çº¿ä¸å¹³é¢ç›¸äº¤</h3><p>ã€€ã€€æ±‚ç›´çº¿ä¸å¹³é¢ç›¸äº¤ï¼Œç›´æ¥è”ç«‹ç›´çº¿æ–¹ç¨‹å’Œå¹³é¢æ–¹ç¨‹å³å¯ï¼Œå¾— <span class="math inline">\((P1-O+(P2-P1)*t)Â·n=0\)</span> ï¼Œå³ <span class="math inline">\(t=(P1-O)Â·n/((P1-P2)Â·n)\)</span>ã€‚è‹¥ t æœ‰è§£ï¼Œåˆ™ç›´çº¿ä¸å¹³é¢ç›¸äº¤ã€‚åŒæ ·ä¹Ÿå¯ä»¥ç”¨è¯¥æ–¹æ³•åˆ¤æ–­çº¿æ®µæˆ–å°„çº¿ä¸å¹³é¢ç›¸äº¤ã€‚</p><h3 id="ç›´çº¿ä¸ä¸‰è§’å½¢ç›¸äº¤">ç›´çº¿ä¸ä¸‰è§’å½¢ç›¸äº¤</h3><p>ã€€ã€€äºŒç»´ä¸­åˆ¤æ–­ç›´çº¿å’Œä¸‰è§’å½¢ç›¸äº¤ç›¸å½“äºåˆ¤æ–­ç›´çº¿å’Œçº¿æ®µç›¸äº¤ï¼Œè€Œåœ¨ä¸‰ç»´ä¸­åˆ™åŒæ ·éœ€è¦è”ç«‹ç›´çº¿å’Œä¸‰è§’å½¢æ–¹ç¨‹ï¼Œè®¾ç›´çº¿æ–¹ç¨‹ä¸º <span class="math inline">\(P=P1+(P2-P1)*t\)</span>ï¼Œä¸‰è§’å½¢æ–¹ç¨‹ä¸º <span class="math inline">\(P=Q1+(Q2-Q1)*u+(Q3-Q1)*v\)</span>ï¼Œ åˆ™è”ç«‹åæ–¹ç¨‹ä¸º <span class="math inline">\(P1-Q1=(P1-P2)*t+(Q2-Q1)*u+(Q3-Q1)*v\)</span>ï¼Œä»¤ <span class="math inline">\(V_0=P1-Q1,V_1=P1-P2,V_2=Q2-Q1,V_3=Q3-Q1\)</span>ï¼Œåˆ™ <span class="math inline">\(V_0=V_1*t+V_2*u+V_3*v\)</span>ï¼Œå¯ä»¥åˆ†è§£å‘é‡æ±‚è§£ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å…‹è±å§†æ³•åˆ™å¾—ï¼š <span class="math display">\[ t = \frac{\begin{vmatrix} V_0 &amp; V_2 &amp; V_3 \end{vmatrix}}{\begin{vmatrix} V_1 &amp; V_2 &amp; V_3 \end{vmatrix}} \qquad u = \frac{\begin{vmatrix} V_1 &amp; V_0 &amp; V_3 \end{vmatrix}}{\begin{vmatrix} V_1 &amp; V_2 &amp; V_3 \end{vmatrix}} \qquad v = \frac{\begin{vmatrix} V_1 &amp; V_2 &amp; V_0 \end{vmatrix}}{\begin{vmatrix} V_1 &amp; V_2 &amp; V_3 \end{vmatrix}} \qquad \]</span> ç”±äºä¸‰é˜¶è¡Œåˆ—å¼ä¹Ÿå¯ä»¥ç”¨å‘é‡æ··åˆç§¯æ¥æ±‚å€¼ï¼Œæ‰€ä»¥ <span class="math display">\[ t = \frac{-V_0 Ã— V_3 Â· V_2 }{V_1 Ã— V_2 Â· V_3} \qquad u = \frac{V_0 Ã— V_3 Â· V_1 }{V_1 Ã— V_2 Â· V_3} \qquad v = \frac{V_1 Ã— V_2 Â· V_0 }{V_1 Ã— V_2 Â· V_3} \qquad \]</span> è‹¥æ–¹ç¨‹æœ‰è§£ï¼Œä¸”æ»¡è¶³ä¸‰è§’å½¢æ¡ä»¶ï¼Œåˆ™ç›¸äº¤ã€‚</p><h3 id="äºŒç»´ä¸­å‡¸å¤šè¾¹å½¢ä¸å‡¸å¤šè¾¹å½¢ç›¸äº¤">äºŒç»´ä¸­å‡¸å¤šè¾¹å½¢ä¸å‡¸å¤šè¾¹å½¢ç›¸äº¤</h3><p>ã€€ã€€æ›¾åœ¨ã€Œ<a href="https://cniter.github.io/posts/ff29de94.html">å¿«é€Ÿåˆ¤æ–­ä¸‰è§’å½¢ä¸é•¿æ–¹ä½“ç›¸äº¤</a>ã€ä¸­å†™è¿‡åˆ¤æ–­ä¸¤å‡¸å¤šè¾¹å½¢æ˜¯å¦ç›¸äº¤ç›´æ¥ä½¿ç”¨åˆ†ç¦»è½´ç†è®ºï¼ˆseparating axis theoremï¼Œ ASTï¼‰å³å¯ï¼Œç®€è€Œè¨€ä¹‹å°±æ˜¯ï¼Œå–ä¸¤å¤šè¾¹å½¢ä»»æ„ä¸€æ¡è¾¹ï¼Œè®¡ç®—ä¸¤å¤šè¾¹å½¢åœ¨è¯¥è¾¹æ³•å‘é‡ä¸Šçš„æŠ•å½±æ˜¯å¦ç›¸äº¤ï¼Œè‹¥å­˜åœ¨ä¸€æ¡è¾¹ï¼Œä½¿æŠ•å½±ä¸ç›¸äº¤ï¼Œåˆ™ä¸¤å‡¸å¤šè¾¹å½¢ä¸ç›¸äº¤ã€‚</p><h3 id="äºŒç»´ä¸­ç‚¹åœ¨å¤šè¾¹å½¢å†…">äºŒç»´ä¸­ç‚¹åœ¨å¤šè¾¹å½¢å†…</h3><p>ã€€ã€€åˆ¤æ–­ç‚¹åœ¨å¤šè¾¹å½¢å†…æœ‰å¾ˆå¤šç§æ–¹æ³•ï¼Œåˆ©ç”¨å‰ä¹˜ï¼Œé¢ç§¯ç­‰æ–¹æ³•è™½ç„¶æ€æƒ³ç®€å•ç²—æš´ä½†ä¸€èˆ¬è®¡ç®—é‡è¾ƒå¤§ï¼Œä¸”æœ‰ä¸€å®šçš„å±€é™æ€§ï¼Œä»…é™å‡¸å¤šè¾¹å½¢ï¼Œä½†æœ‰ä¸€ç§ç›¸å¯¹å¿«é€Ÿä¸”èƒ½åº”å¯¹å„ç§ç®€å•å¤šè¾¹å½¢çš„æ–¹æ³•â€”â€”å°„çº¿æ³•ï¼Œå°„çº¿æ³•çš„æœ¬è´¨æ˜¯åˆ¤æ–­å°„çº¿ä¸çº¿æ®µç›¸äº¤ï¼Œå³ä»å·²çŸ¥ç‚¹å¤„å¼•ä¸€æ¡æ²¿ X è½´æ­£å‘çš„å°„çº¿ï¼Œè‹¥å°„çº¿ä¸å¤šè¾¹å½¢è¾¹çš„ç›¸äº¤æ¡æ•°ä¸ºå¥‡æ•°ï¼Œåˆ™è¯¥ç‚¹åœ¨å¤šè¾¹å½¢å†…ï¼Œè¯¥æ³•çš„ç¼ºé™·åœ¨äºè‹¥ç‚¹åœ¨è¾¹ä¸Šåˆ™éœ€è¦å•ç‹¬åˆ¤æ–­ã€‚åˆ¤æ–­è¯¥å°„çº¿ä¸å¤šè¾¹å½¢çš„è¾¹æ˜¯å¦ç›¸äº¤ä¹Ÿæ¯”è¾ƒç®€å•ï¼Œè®¾å°„çº¿èµ·ç‚¹ä¸º P0ï¼Œå¤šè¾¹å½¢è¾¹çš„ä¸¤ä¸ªç«¯ç‚¹åˆ†åˆ«ä¸º P1 å’Œ P2ï¼Œåˆ™å°„çº¿ä¸è¾¹ç›¸äº¤éœ€æ»¡è¶³çš„æ¡ä»¶ä¸ºï¼š1ã€<span class="math inline">\(min(P1.y, P2.y)&lt;=P0.y&lt;=max(P1.y, P2.y)\)</span>ï¼›2ã€<span class="math inline">\(P0.x &lt;= (P2.x-P1.x)*(P0.y-P1.y)/(P2.y-P1.y)+P1.x\)</span>ã€‚</p><h3 id="åœ†ä¸ä¸‰è§’å½¢ç›¸äº¤">åœ†ä¸ä¸‰è§’å½¢ç›¸äº¤</h3><p>ã€€ã€€åˆ¤æ–­åœ†ä¸ä¸‰è§’å½¢ç›¸äº¤ï¼Œå³åˆ¤æ–­åœ†å¿ƒåˆ°ä¸‰è§’å½¢å„è¾¹çš„è·ç¦»æ˜¯å¦å°äºåœ†çš„åŠå¾„ï¼Œè‹¥å­˜åœ¨ä¸€æ¡è¾¹ï¼Œä½¿åœ†å¿ƒåˆ°å…¶çš„è·ç¦»å°äºåŠå¾„ï¼Œåˆ™åœ†ä¸ä¸‰è§’å½¢ç›¸äº¤ï¼Œ<em>è¯¥è·ç¦»è®¡ç®—ä¸æ˜¯ç‚¹åˆ°ç›´çº¿çš„è·ç¦»ï¼Œè€Œæ˜¯ç‚¹åˆ°çº¿æ®µçš„è·ç¦»</em>ã€‚</p><h3 id="ç›´çº¿ä¸é•¿æ–¹ä½“ç›¸äº¤">ç›´çº¿ä¸é•¿æ–¹ä½“ç›¸äº¤</h3><p>ã€€ã€€åˆ¤æ–­ç›´çº¿ä¸é•¿æ–¹ä½“ç›¸äº¤ï¼Œé¦–å…ˆéœ€è¦å°†åæ ‡åŸç‚¹å¹³ç§»è‡³é•¿æ–¹ä½“ä¸­å¿ƒï¼Œå†è®¡ç®—è¿‡åŸç‚¹ä¸”å‚ç›´äºç›´çº¿çš„æ³•å‘é‡ n ï¼Œéšåè®¡ç®—åŸç‚¹åˆ°ç›´çº¿çš„è·ç¦» dï¼Œè‹¥æ»¡è¶³ <span class="math inline">\(|d| &lt;= h_x|n_x| + h_y|n_y| + h_z|n_z|\)</span> ï¼Œåˆ™ ç›´çº¿ä¸é•¿æ–¹ä½“ç›¸äº¤ã€‚æ³•å‘é‡ n çš„æ±‚æ³•ä¸ºï¼šè®¾ P ä¸ºç›´çº¿ä¸Šä¸€ç‚¹ï¼Œl ä¸ºç›´çº¿æ–¹å‘å‘é‡ï¼Œåˆ™ <span class="math inline">\(n=-(PÂ·l)*l+P\)</span>ã€‚</p><h3 id="çƒä¸-aabb-ç›¸äº¤">çƒä¸ AABB ç›¸äº¤</h3><p>åˆ¤æ–­çƒä¸ AABB ç›¸äº¤ï¼Œé¦–å…ˆéœ€è¦å°†åæ ‡åŸç‚¹å¹³ç§»è‡³çƒå¿ƒï¼Œè®¾å¹³ç§»åçš„ AABB æœ€å°é¡¶ç‚¹ä¸º V1ï¼Œæœ€å¤§é¡¶ç‚¹ä¸º V2ï¼ŒçƒåŠå¾„ä¸º rã€‚æœ€ç®€å•ç²—æš´çš„å½“ç„¶æ˜¯è‹¥åŸç‚¹ä¸åœ¨ AABB å†…ï¼Œåˆ™ç›´æ¥æ±‚åŸç‚¹åˆ° 8 ä¸ªé¢çš„è·ç¦»ï¼Œå–æœ€å°å€¼ï¼Œè‹¥æœ€å°å€¼æ¯”åŠå¾„å¤§ï¼Œåˆ™ä¸ç›¸äº¤ã€‚å¦ä¸€ç§æ–¹æ³•æ˜¯å°†è¿™ä¸ªé—®é¢˜è½¬åŒ–ä¸ºæ±‚è§£ä¸ç­‰å¼ï¼Œè‹¥å­˜åœ¨ä¸€ç‚¹ <span class="math inline">\(P(x, y, z)\)</span>ï¼Œä½¿ P åœ¨çƒå†…ï¼ŒåŒæ—¶ P åœ¨ AABB ä¸­ï¼Œå³ï¼š <span class="math display">\[ \begin{cases} x^2+y^2+z^2 â‰¤ r^2 , \\ V1.x â‰¤ x â‰¤ V2.x , \\ V1.y â‰¤ y â‰¤ V2.y , \\ V1.z â‰¤ z â‰¤ V2.z \end{cases} \]</span> è‹¥è¯¥ä¸ç­‰å¼æœ‰è§£ï¼Œåˆ™çƒä¸ AABB ç›¸äº¤ï¼Œå¦åˆ™ä¸ç›¸äº¤ã€‚è§£è¯¥ä¸ç­‰å¼ä¹Ÿç®€å•ï¼Œç”±äºæ˜¯å­˜åœ¨è€Œä¸æ˜¯ä»»æ„ï¼Œæ‰€ä»¥åªéœ€è¦æ±‚ <span class="math inline">\(min(x^2+y^2+z^2)â‰¤r^2 \Rightarrow min(x^2) + min(y^2)+ min(z^2)â‰¤r^2\)</span>ï¼Œåˆ™è‹¥ xyz åˆ†é‡å¯ä»¥å– 0ï¼Œåˆ™å¯¹åº”åˆ†é‡å– 0ï¼Œå¦åˆ™å– <span class="math inline">\(x = min(|V1.x|, |V2.x|), y = min(|V1.y|, |V2.y|),z = min(|V1.z|, |V2.z|)\)</span>ï¼Œè‹¥æ»¡è¶³ä¸ç­‰å¼ï¼Œåˆ™ç›¸äº¤ã€‚</p><p>è¯¥æ–¹æ³•åŒæ ·å¯ç”¨æ¥æ±‚ OBB ä¸çƒç›¸äº¤ï¼Œåªéœ€è¦å…ˆåˆ©ç”¨åæ ‡ç³»å˜æ¢å°† OBB è½¬æˆ AABBã€‚</p><h2 id="åå°„ç¯‡">åå°„ç¯‡</h2><p>ã€€ã€€ä»¤å…¥å°„å‘é‡ä¸º <span class="math inline">\(I\)</span>ï¼Œæ³•å‘é‡ä¸º <span class="math inline">\(N\)</span>ï¼Œåå°„å‘é‡ä¸º <span class="math inline">\(R\)</span>ï¼Œå…¥å°„å‘é‡ä¸åå°„å‘é‡æ„æˆçš„å¹³é¢ä¸é•œé¢äº¤çº¿çš„æ–¹å‘å‘é‡ä¸º <span class="math inline">\(T\)</span>ï¼Œè¿™å››ä¸ªå‘é‡éƒ½ä¸ºå•ä½å‘é‡ã€‚é¦–å…ˆä»¥ <span class="math inline">\(I\)</span> å’Œ <span class="math inline">\(R\)</span> ç»„æˆä¸€ä¸ªè±å½¢ï¼Œåˆ™ <span class="math inline">\(N\)</span> å’Œ <span class="math inline">\(T\)</span> åˆ™ä¸ºè¯¥è±å½¢å¯¹è§’çº¿çš„æ–¹å‘å‘é‡ï¼Œè‹¥å·²çŸ¥ <span class="math inline">\(I\)</span> å’Œ <span class="math inline">\(R\)</span>ï¼Œåˆ™ <span class="math inline">\(N = (R - I).normalize()\)</span>ï¼Œ<span class="math inline">\(T = (I + R).normalize()\)</span> ï¼Œ<span class="math inline">\(normalize()\)</span> æŒ‡å‘é‡å½’ä¸€åŒ–ï¼›è‹¥å·²çŸ¥ <span class="math inline">\(I\)</span> å’Œ <span class="math inline">\(N\)</span>ï¼Œåˆ™ <span class="math inline">\(R = I + 2*|I \cdot N|*N\)</span>ï¼Œ<span class="math inline">\(2*|I \cdot N|*N\)</span> ä¸ºè±å½¢ <span class="math inline">\(N\)</span> æ–¹å‘çš„å¯¹è§’çº¿å‘é‡ã€‚</p><p>ã€€ã€€é•œé¢åå°„å…¬å¼ä¸º <span class="math inline">\((r&#39;,g&#39;,b&#39;) = (r,g,b) + (1-r,1-g,1-b)*t\)</span>ï¼Œå½“ <span class="math inline">\(t\)</span> è¶Šå¤§åˆ™è¶Šæ¥è¿‘ç™½è‰²ï¼Œè¡¨ç°ä¸ºè¶Šäº®ï¼›æ¼«åå°„å…¬å¼ä¸º <span class="math inline">\((r&#39;,g&#39;,b&#39;) = (r,g,b)*t\)</span>ï¼Œå½“ <span class="math inline">\(t\)</span> è¶Šå°ï¼Œåˆ™è¶Šæ¥è¿‘é»‘è‰²ï¼Œè¡¨ç°ä¸ºè¶Šæš—ã€‚ å…¶ä¸­ <span class="math inline">\(t\in[0,1]\)</span>ï¼Œ<span class="math inline">\(t\)</span> ä¸ºå…¥å°„å‘é‡åˆ°å¹³é¢æ³•å‘é‡ä¸Šçš„æŠ•å½±ï¼Œå³ç‚¹ç§¯ã€‚</p><h2 id="åè®°">åè®°</h2><p>ã€€ã€€è¯¥ç¯‡ä¸å‡ºæ„å¤–çš„è¯ä¹Ÿä¼šæ˜¯ä¸€ä¸ªé•¿æœŸæ”¯æŒç¯‡ï¼Œç­‰ä»¥åæœ‰ç¢°åˆ°å…¶ä»–çš„ä¸€äº›è®¡ç®—å‡ ä½•çŸ¥è¯†å†æŒç»­æ›´æ–°å§ã€‚</p></div><div class="article-content-more"><button type="button" class="article-more--link"><i class="fa fa-angle-double-down fa-3x" aria-hidden="true"></i></button></div></section></article><article id="post-OpenDriveè§£æå°ç»“" class="article div-border"><header class="article-header"><span class="article-date article-title--index"><i class="fa fa-calendar" aria-hidden="true"></i> <a href="/posts/b7d79231.html"><time datetime="2020-08-09T10:58:09.000Z">2020-08-09</time></a></span><section class="article-title article-title--index"><a href="/posts/b7d79231.html">OpenDriveè§£æå°ç»“</a></section><div class="article-label"><div class="article-category label"><i class="fa fa-book" aria-hidden="true"></i> <a class="color3 article-category-link" href="/categories/Share/">Share</a></div><div class="article-tag label"><i class="fa fa-bookmark" aria-hidden="true"></i> <a class="color2 article-tag-none-link" href="/tags/note/" rel="tag">note</a><a class="color2 article-tag-none-link" href="/tags/opendrive/" rel="tag">opendrive</a></div></div></header><section class="article-content"><div class="article-content--excerpt"><h2 id="å‰è¨€">å‰è¨€</h2><p>ã€€ã€€æ¥è§¦å¹¶ä½¿ç”¨é«˜ç²¾åœ°å›¾å’Œ OpenDRIVE å·²æœ‰ä¸€å¹´çš„æ—¶é—´ï¼Œç®€è¦å†™å†™ Shaun å¯¹ OpenDRIVE çš„ä¸€äº›è®¤çŸ¥ã€‚</p></div><div class="article-content--all"><h2 id="å‰è¨€">å‰è¨€</h2><p>ã€€ã€€æ¥è§¦å¹¶ä½¿ç”¨é«˜ç²¾åœ°å›¾å’Œ OpenDRIVE å·²æœ‰ä¸€å¹´çš„æ—¶é—´ï¼Œç®€è¦å†™å†™ Shaun å¯¹ OpenDRIVE çš„ä¸€äº›è®¤çŸ¥ã€‚</p><span id="more"></span><h2 id="åŸºç¡€ç¯‡">åŸºç¡€ç¯‡</h2><p>OpenDRIVE ç›®å‰æœ€æ–°çš„ç‰ˆæœ¬çš„ 1.6ï¼Œä¸‹é¢ä¸»è¦ç»“åˆ 1.4ï¼Œ1.5 å’Œ1.6 ç‰ˆæœ¬ä¸€èµ·çœ‹ã€‚</p><p>ã€€ã€€åœ¨ OpenDRIVE ä¸­ä¸»è¦æœ‰ä¸¤ç§åæ ‡ç³»ç»Ÿï¼Œä¸€ç§æ˜¯å¸¸è§çš„ X/Y/Z ç©ºé—´åæ ‡ç³»ç»Ÿï¼Œå¦ä¸€ç§æ˜¯ S/T/H åæ ‡ç³»ç»Ÿã€‚å…¶ä¸­ X/Y/Z åæ ‡ç³»ç»Ÿå¸¸ä¸åœ°ç†ä¿¡æ¯çš„å„ç§åæ ‡ç³»ç»Ÿä¸€èµ·ä½¿ç”¨ï¼ŒS/T/H åæ ‡ç³»ç»Ÿæ˜¯é’ˆå¯¹ OpenDRIVE ä¸­é“è·¯å‚è€ƒçº¿è®¾å®šçš„ä¸€ç§å±€éƒ¨åæ ‡ç³»ç»Ÿï¼Œåœ¨ OpenDRIVE ä¸­ç§°å‰è€…ä¸º â€œinertial co-ordinatesâ€ï¼Œåè€…ä¸º â€œtrack co-ordinatesâ€ï¼ˆ1.6 ä¸­ç›´æ¥ä¸º Reference Line Systemï¼‰ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜æœ‰ä¸ªå±€éƒ¨åæ ‡ç³» U/V/Zï¼Œè¯¥åæ ‡ç³»ç»Ÿç³»ç»Ÿæ˜¯ç›¸å¯¹äº S/T/H åæ ‡ç³»ç»Ÿå¹³ç§»æ—‹è½¬è€Œæ¥çš„ã€‚</p><p>å¯¹äºæ—‹è½¬ï¼Œä»¥é€†æ—¶é’ˆä¸ºæ­£ï¼Œheading æ˜¯æŒ‡ç»• z/h è½´æ—‹è½¬ï¼Œpitch æ˜¯æŒ‡ç»• y/t è½´æ—‹è½¬ï¼Œroll æ˜¯æŒ‡ç»• x/s è½´æ—‹è½¬ã€‚</p><p>å¯¹äºæ›²ç‡ï¼Œé€†æ—¶é’ˆå»¶ç”³çš„æ›²çº¿æ›²ç‡ä¸ºæ­£ï¼Œé¡ºæ—¶é’ˆå»¶ç”³çš„æ›²çº¿æ›²ç‡ä¸ºè´Ÿã€‚</p><p>åœ¨ OpenDRIVE ä¸­å¯¹äºé“è·¯å’Œè½¦é“çš„æè¿°ï¼Œæœ‰ä»¥ä¸‹å‡ ä¸ªé‡è¦çš„æ¦‚å¿µï¼š</p><ul><li>Reference Lineã€‚ç”¨æ¥æŒ‡ç¤ºä¸€æ¡é“è·¯çš„éª¨æ¶ï¼Œæ˜¯ S/T/H åæ ‡ç³»ç»Ÿçš„ä¾æ®ï¼Œé“è·¯ä¸­å„è½¦é“çº¿éœ€è¦å‚è€ƒè¿™æ¡çº¿ã€‚</li><li>Lanesã€‚ç”¨æ¥æè¿°å„è½¦é“ä»¥åŠå„è½¦é“æ‰€å± Lane Sectionã€‚</li><li>Lane Offsetã€‚å…¶æ„ä¹‰åœ¨ OpenDRIVE æ ‡å‡†çœ‹èµ·æ¥å¾ˆæ¸…é™¤ï¼Œä½†å®é™…ç”¨èµ·æ¥éå¸¸æ¨¡ç³Šï¼Œoffset åˆ°åº•æ˜¯åªèƒ½åç§»ä¸€ä¸ªè½¦é“ï¼Œæˆ–åŠä¸ªè½¦é“æˆ–å¤šä¸ªè½¦é“ï¼Œæ‰€å±å“ªä¸ª Lane Sectionï¼Œå…¶æ„ä¹‰ä¸æ˜ï¼Œæ•…ä¸‹æ–‡è§£æç¯‡å°†ç›´æ¥å¿½ç•¥è¯¥å±æ€§ã€‚</li><li>Lane Sectionã€‚å¯ä»¥ç®€å•ç†è§£ä¸ºå­é“è·¯ï¼Œä¸€ä¸ª lane section ä¸­åŒ…å«å¤šæ¡è½¦é“ï¼Œä¸€æ¡é“è·¯åŒ…å«å¤šä¸ª lane sectionã€‚ä¸€ä¸ª lane section ä¸­è½¦é“æ•°æ˜¯ä¸€ä¸ªå¸¸æ•°ï¼Œæ‰€ä»¥å¯¹äºå­˜åœ¨ m å˜ n è½¦é“çš„ä¸€æ¡é“è·¯ï¼Œè‡³å°‘è¦åˆ’åˆ†ä¸ºä¸¤ä¸ª lane sectionã€‚</li><li>Superelevationã€Crossfall å’Œ Shapeã€‚ç”¨æ¥è¡¨ç¤ºè·¯é¢å€¾æ–œç¨‹åº¦ã€‚Superelevation æ˜¯æ•´ä¸ªè·¯é¢ä¾§å‘å¤ªé«˜ï¼Œå³è·¯é¢å€¾æ–œç¨‹åº¦ï¼Œ<strong>Crossfall åœ¨ 1.6 ä¸­å·²è¢«åºŸå¼ƒ</strong>ï¼ŒåŸå› ä¸º 1.6 å®Œå–„äº† Shapeï¼Œå¯ä»¥å®Œå…¨å–ä»£ CrossFallï¼Œç”šè‡³èƒ½åšçš„æ›´å¥½ï¼ŒShape ä¸»è¦ç”¨æ¥æè¿°è·¯é¢ä¸¤ä¾§è½¦é“çš„å€¾æ–œç¨‹åº¦ï¼Œé€šè¿‡ä¸‰æ¬¡æ›²çº¿å’Œçº¿æ€§æ’å€¼å¯ä»¥ç²¾ç¡®åˆ°è½¦é“å„ç‚¹å€¾æ–œç¨‹åº¦ã€‚</li><li>Road Linkageã€‚é“è·¯ä¹‹é—´çš„è¿æ¥å…³ç³»ï¼Œé€šè¿‡å‰ç»§ï¼ˆpredecessorï¼‰å’Œåç»§ï¼ˆsuccessorï¼‰å»ºç«‹é“è·¯ä¹‹é—´è¿æ¥å…³ç³»ï¼Œè‹¥ä¸€æ¡è·¯å­˜åœ¨å¤šä¸ªå‰ç»§æˆ–åç»§ï¼Œåˆ™å…¶å¯¹åº”å‰ç»§æˆ–åç»§åº”è¯¥ä¸º Junction ï¼Œå³ç›®å‰çš„æ ‡å‡†ä¸­æš‚ä¸æ”¯æŒé“è·¯å¤šå‰åç»§ï¼Œ1.5 ä¸­åªæ”¯æŒè½¦é“å¤šå‰åç»§ï¼Œé“è·¯å¤šå‰åç»§ä¾ç„¶ä¸æ”¯æŒã€‚</li><li>Junctionã€‚äº¤æ±‡å¤„ï¼Œé€šä¿—æ„ä¹‰ä¸Šçš„è·¯å£ï¼Œä¸»è¦åŒ…å« incomingRoad å’Œ connectingRoadã€‚</li><li>Junction Groupã€‚å¯ä»¥ç®€å•ç†è§£ä¸ºäº¤é€šç¯å²›ã€‚</li><li>Neighborsã€‚ç›¸é‚»å…³ç³»ï¼Œå’Œ Road Linkage ç±»ä¼¼ï¼Œä¸€ä¸ªæ˜¯å‰åè¿æ¥å…³ç³»ï¼Œä¸€ä¸ªä¾§é¢ç›¸é‚»å…³ç³»ã€‚</li><li>Surfaceã€‚è½¦é“æˆ–é“è·¯è¡¨é¢æè´¨ï¼Œæœ‰ OpenCRG åˆ™ä¼˜å…ˆä½¿ç”¨ï¼Œæ²¡æœ‰åˆ™ç”±åº”ç”¨ç¨‹åºè‡ªå®šä¹‰å­—ç¬¦ä¸²ã€‚</li><li>....... ç­‰ç­‰ã€‚è¿˜æœ‰ä¸€äº›å†·é—¨çš„å…ƒç´ æš‚æ—¶æ²¡ç”¨åˆ°ï¼Œå°±ä¸ä»‹ç»äº†ã€‚</li></ul><p>ä¸‹é¢å°±æ˜¯çœŸæ­£çš„è§£æå†…å®¹äº†ã€‚</p><h2 id="è§£æç¯‡">è§£æç¯‡</h2><p>ã€€ã€€ä¸€äº›ç®€å•çš„å°±ä¸ä»‹ç»äº†ï¼Œå°±ä»‹ç»è§£ææ—¶éœ€è¦æ³¨æ„çš„ä¸€äº›é‡ç‚¹å…ƒç´ ã€‚</p><h3 id="road-geometry">Road Geometry</h3><p>ã€€ã€€geometry ä¿¡æ¯å¯ä»¥è¯´æ˜¯ OpenDRIVE ä¸­æœ€é‡è¦çš„ä¿¡æ¯ï¼Œæ²¡æœ‰ä¹‹ä¸€ã€‚OpenDRIVE ä¸­æœ€é‡è¦çš„å…ƒç´ ä¸º Roadï¼Œè€Œ Road ä¸­æœ€é‡è¦çš„æ˜¯ Reference Lineï¼Œè€Œ geometry æ­£æ˜¯ç”¨æ¥æè¿° Reference Line å‡ ä½•çº¿æ¡å½¢çŠ¶çš„ä¿¡æ¯ã€‚</p><p>ã€€ã€€é¦–å…ˆ geometry æ ‡ç­¾ä¸­å…±æœ‰ 5 ä¸ªå±æ€§ï¼Œåˆ†åˆ«ä¸º s ï¼ˆè¯¥æ®µ geometry æ²¿å‚è€ƒçº¿èµ·å§‹ä½ç½®ï¼‰ï¼Œxï¼ˆè¯¥æ®µ geometry åœ¨ inertial system ä¸‹èµ·å§‹æ¨ªåæ ‡ï¼‰ï¼Œyï¼ˆè¯¥æ®µ geometry åœ¨ inertial system ä¸‹èµ·å§‹çºµåæ ‡ï¼‰ï¼Œhdgï¼ˆè¯¥æ®µ geometry åœ¨ inertial system ä¸‹èµ·å§‹å¼§åº¦ï¼‰ï¼Œlengthï¼ˆè¯¥æ®µ geometry é•¿åº¦ï¼‰ã€‚å…¶æ¬¡ï¼Œgeometry å…±æœ‰ 5 ç§çº¿å‹ï¼Œåˆ†åˆ«ä¸º straight linesï¼ˆç›´çº¿ï¼‰ï¼Œspiralsï¼ˆèºçº¿ï¼‰ï¼Œarcsï¼ˆåœ†å¼§çº¿ï¼‰ï¼Œcubic polynomialsï¼ˆä¸‰æ¬¡æ›²çº¿ï¼‰ï¼Œparametric cubic polynomialsï¼ˆå‚æ•°åŒ–ä¸‰æ¬¡æ›²çº¿ï¼‰ï¼Œè¿™ 5 ç§çº¿å‹åˆ†åˆ«ç”± geometry ä¸‹ 5 ç§æ ‡ç­¾æ§åˆ¶ã€‚è§£æ geometry çš„è¦ç‚¹åœ¨äºï¼š<strong>å…ˆä¸ç”¨ç®¡ geometry æ ‡ç­¾ä¸­çš„å±æ€§ï¼Œç›´æ¥è§£æå¯¹åº”çº¿å‹æ ‡ç­¾ï¼Œéœ€è¦æ»¡è¶³ä¸¤ç‚¹ï¼š1ã€èµ·å§‹ç‚¹åæ ‡ä¸€å®šä¸º (0, 0)ï¼›2ã€èµ·å§‹ç‚¹æ–œç‡ï¼Œå³å¯¼æ•°ä¹Ÿä¸€å®šä¸º 0ã€‚ä¾æ®è¿™ä¸¤ç‚¹æ­£ç¡®è§£æå®Œçº¿å‹ä¹‹åï¼Œå†æ ¹æ® hdg æ—‹è½¬çº¿å‹ï¼Œæ ¹æ® (x, y) å°†çº¿å‹å¹³ç§»åˆ°æ­£ç¡®ä½ç½®ã€‚</strong> ä¸‹é¢å°±å…·ä½“çœ‹çœ‹è¿™ 5 ç§çº¿å‹ï¼š</p><ol type="1"><li>lineï¼Œç›´çº¿ã€‚æ²¡æœ‰ä»»ä½•å±æ€§ï¼Œç›´æ¥æ ¹æ® geometry ä¸­ (x, y) å’Œ hdg å°±å¯å¾—åˆ°ç›´çº¿æ–¹ç¨‹ã€‚</li><li>spiralï¼Œèºçº¿ã€‚æœ‰ä¸¤ä¸ªå±æ€§ curvStartï¼ˆèµ·å§‹æ›²ç‡ï¼‰ï¼ŒcurvEndï¼ˆç»“æŸæ›²ç‡ï¼‰ã€‚èºçº¿è§£æçš„ä»£ç å·²ç»ç”± OpenDRIVE å®˜æ–¹ç›´æ¥ç»™å‡ºäº†ï¼Œé‡Œé¢æ¶‰åŠåˆ°çš„æ•°å€¼è®¡ç®—æ–¹æ³•å°±ä¸è¯¦è§£äº†ï¼Œç›´æ¥çœ‹å®˜æ–¹æä¾› API çš„è¾“å…¥è¾“å‡ºï¼Œè¾“å…¥æœ‰ä¸¤ä¸ªï¼šsï¼ˆä»åŸç‚¹å¼€å§‹ï¼Œèºçº¿å»¶å±•çš„é•¿åº¦ï¼‰ï¼ŒcDotï¼ˆèºçº¿çš„æ›²ç‡å…³äº s çš„ä¸€é˜¶å¯¼æ•°ï¼‰ï¼›è¾“å‡ºæœ‰ 3 ä¸ªï¼šxï¼ˆæ¨ªåæ ‡ï¼‰ï¼Œyï¼ˆçºµåæ ‡ï¼‰ï¼Œtï¼ˆè¯¥ç‚¹çš„åˆ‡çº¿å¼§åº¦ï¼‰ã€‚è§£æèºçº¿æœ€å¤§çš„é—®é¢˜åº”è¯¥å°±æ˜¯å¦‚ä½•å¾—åˆ°è¿™ä¸¤ä¸ªè¾“å…¥å‚æ•°ï¼Œç”±èºçº¿çš„æ€§è´¨å¯ä»¥å¾—åˆ°ï¼Œèºçº¿çš„æ›²ç‡ä¸€å®šéšç€èºçº¿çš„é•¿åº¦å‡åŒ€å˜åŒ–çš„ï¼Œæ¢å¥è¯è¯´ï¼Œå¯¹äºä¸€æ¡å·²çŸ¥èºçº¿ï¼ŒcDot ä¸€å®šæ˜¯å¸¸æ•°ã€‚åˆ™ <span class="math inline">\(cDot = (curvEnd - curvStart) / length\)</span>ï¼Œå…¶ä¸­ length ä¸º geometry ä¸­çš„é•¿åº¦å±æ€§ï¼Œä¸‹ä¸€æ­¥éœ€è¦æ±‚å‡º sï¼Œç”±äºå·²çŸ¥èºçº¿åœ¨åŸç‚¹å¤„çš„æ›²ç‡ä¸€å®šä¸º 0ï¼Œåˆ™ (curv - 0) / (s - 0) = cDotï¼Œå³ s = curv / cDotã€‚ç”±æ­¤å¯å¾—åˆ°èºçº¿çš„å„ç‚¹åæ ‡å’Œåˆ‡å‘æ–¹å‘ï¼Œä½†ç”±äºè§£æçº¿å‹éœ€è¦æ»¡è¶³ä¸Šé¢è¯´çš„ä¸¤ç‚¹ï¼Œæ‰€ä»¥éœ€è¦å°†èºçº¿åæ ‡ä»¥èµ·å§‹ç‚¹è¿›è¡Œå¹³ç§»å’Œæ—‹è½¬ï¼Œä»¥æ»¡è¶³èµ·å§‹ç‚¹ä¸ºåŸç‚¹ï¼Œèµ·å§‹ç‚¹åˆ‡çº¿å¼§åº¦ä¸º 0ï¼Œæœ€åå†å°†å®Œæˆå¹³ç§»å’Œæ—‹è½¬åçš„ç‚¹æ ¹æ® geometry çš„å±æ€§è¿›è¡Œæ—‹è½¬å’Œå¹³ç§»ä»¥å¾—åˆ°çœŸæ­£çš„åæ ‡ç‚¹ã€‚</li><li>arcï¼Œåœ†å¼§çº¿ã€‚åªæœ‰ä¸€ä¸ªå±æ€§ curvatureï¼ˆæ›²ç‡ï¼‰ï¼Œå¯æ ¹æ®æ›²ç‡ç›´æ¥å¾—åˆ°åœ†çš„åŠå¾„ï¼Œåœ¨æ ¹æ®æ›²ç‡çš„æ­£è´Ÿå¯å¾—åˆ°è¯¥æ›²çº¿æ˜¯ä»¥é¡ºæ—¶é’ˆå»¶ç”³è¿˜æ˜¯é€†æ—¶é’ˆå»¶ç”³ï¼Œå†æ ¹æ®è§£æçº¿å‹éœ€è¦æ»¡è¶³çš„ä¸¤ç‚¹å’Œ geometry çš„å±æ€§å¯å¾—åˆ°çœŸæ­£çš„ inertial system ä¸­çš„ç‚¹ã€‚</li><li>poly3ï¼Œä¸‰æ¬¡æ›²çº¿ï¼Œ<strong>åœ¨ 1.6 ä¸­å·²è¢«åºŸå¼ƒ</strong>ã€‚ç²¾åº¦è¦æ±‚ä½ä¸€ç‚¹å¯ç›´æ¥æ’å€¼è®¡ç®—ï¼Œè¦æ±‚é«˜ä¸€ç‚¹åˆ™éœ€è¦åˆ©ç”¨ length ï¼Œæ•°å€¼è®¡ç®—å’ŒäºŒåˆ†æ³•ç›´æ¥æ±‚å‡ºæœ€å¤§çš„ uï¼Œç„¶åæ’å€¼ã€‚</li><li>paramPoly3ï¼Œå‚æ•°åŒ–ä¸‰æ¬¡æ›²çº¿ã€‚æœ€æœ‰åçš„ä¸¤ä¸ªå‚æ•°åŒ–ä¸‰æ¬¡æ›²çº¿å°±æ˜¯ Bezier æ›²çº¿å’Œ Hermite æ›²çº¿ï¼Œä¸ºæ»¡è¶³è§£æçº¿å‹éœ€è¦æ»¡è¶³çš„ä¸¤ç‚¹ï¼Œä¸€å®šæœ‰ <span class="math inline">\(a_u=0, a_v=0,b_v=0\)</span>ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ä¸€èˆ¬å‚æ•°åŒ–æ›²çº¿çš„å‚æ•°å–å€¼èŒƒå›´ä¸º <span class="math inline">\([0,1]\)</span>ï¼Œå³è¯¥æ ‡ç­¾æœ€åä¸€ä¸ªå±æ€§ pRange="normalized"ï¼Œè‹¥ç¢°åˆ°ç‰¹æ®Šæƒ…å†µ pRange="arcLength"ï¼Œåˆ™éœ€è¦å°† <span class="math inline">\(a_u,b_u,\dots\)</span> ç­‰å±æ€§è½¬åŒ–ä¸ºå‚æ•°å–å€¼èŒƒå›´ä¸º <span class="math inline">\([0,1]\)</span> æ—¶å¯¹åº”çš„å±æ€§ã€‚</li></ol><p>æœ€é‡è¦çš„å…ƒç´  Geometry çš„è§£æå°±æ˜¯è¿™æ ·äº†ï¼Œä¸‹é¢è°ˆè°ˆ Shaun å¯¹åŸºäºä¸‰æ¬¡æ›²çº¿çš„ä¸€äº›å…ƒç´ çš„ç†è§£ã€‚</p><hr><p>ã€€ã€€æ¯”è¾ƒé‡è¦çš„åŸºäºä¸‰æ¬¡æ›²çº¿çš„å…ƒç´ ä¸»è¦æœ‰ elevationï¼ˆæ§åˆ¶è·¯é¢çš„é«˜åº¦ï¼‰ï¼Œsuperelevationï¼ˆé“è·¯ä¾§é¢æŠ¬é«˜å¼§åº¦ï¼‰ï¼Œcrossfallï¼ˆè·¯é¢ä¸¤ä¾§å¼§åº¦ï¼Œ<strong>å·²è¢«åºŸå¼ƒ</strong>ï¼‰ï¼Œshapeï¼ˆè·¯é¢ä¸¤ä¾§å½¢çŠ¶ï¼Œ<em>ç‰¹æ®Šï¼Œä¸‹æ–‡è¯¦ç»†ä»‹ç»</em>ï¼‰ï¼ŒlaneOffsetï¼ˆè½¦é“åç§»é‡ï¼‰ï¼Œborder å’Œ widthï¼ˆ<em>ç‰¹æ®Šï¼Œä¸‹æ–‡è¯¦ç»†ä»‹ç»</em>ï¼‰ï¼Œè¿™äº›å…ƒç´ æ‰€ä½¿ç”¨çš„ä¸‰æ¬¡æ›²çº¿ä¸€èˆ¬éƒ½åŸºäºé“è·¯å‚è€ƒçº¿ï¼ˆ<em>ç‰¹æ®Šé™¤å¤–</em>ï¼‰ï¼Œå³è¯¥ä¸‰æ¬¡æ›²çº¿çš„æ¨ªåæ ‡ä¸€èˆ¬ä¸º sï¼Œçºµåæ ‡å³ä¸‰æ¬¡æ›²çº¿çš„å€¼åˆ™ä¸ºå„å…ƒç´ çš„ä¿¡æ¯ï¼Œè¿™äº›ä¸‰æ¬¡æ›²çº¿ä¸€èˆ¬æ˜¯åˆ†æ®µæè¿°çš„ï¼Œå³é“è·¯å‚è€ƒçº¿ä¸Šä¸¤ä¸ªå…³é”®ç‚¹çš„ s ä¹‹é—´å¿…ä¼šç”Ÿæˆå¯¹åº”çš„ä¸€æ®µä¸‰æ¬¡æ›²çº¿ï¼Œæ¯ä¸€æ®µä¸‰æ¬¡æ›²çº¿çš„æ¨ªåæ ‡å–å€¼èŒƒå›´éƒ½ä¸º <span class="math inline">\([0,poly3Length]\)</span>ï¼Œå…¶ä¸­ ploy3Length ä¸ºè¯¥æ®µä¸‰æ¬¡æ›²çº¿çš„é•¿åº¦ã€‚è¿™äº›ä¸‰æ¬¡æ›²çº¿æ®µå…¨éƒ¨åˆèµ·æ¥åˆ™æ„æˆæ²¿é“è·¯å‚è€ƒçº¿çš„ä¸€æ¡ä¸‰æ¬¡æ›²çº¿ï¼Œæ ¹æ® s è®¡ç®—ä¸‰æ¬¡æ›²çº¿çš„å–å€¼å¾—åˆ°å¯¹åº”çš„ä¿¡æ¯ã€‚</p><h3 id="laneoffset">LaneOffset</h3><p>ã€€ã€€laneOffset ç”¨æ¥æŒ‡ç¤ºçš„æ˜¯æ‰€æœ‰è½¦é“æ²¿å‚è€ƒçº¿æ³•çº¿æ–¹å‘çš„åç§»é‡ï¼Œæ‰€æœ‰è½¦é“åŒ…æ‹¬ä¸­å¿ƒè½¦é“ï¼ˆcenterLaneï¼‰ï¼Œç”±äºä¸­å¿ƒè½¦é“æ²¡æœ‰å®½åº¦ï¼Œæ‰€ä»¥ä¹Ÿå¯ä»¥å«é“è·¯ä¸­å¿ƒçº¿ï¼Œè¿™å’Œé“è·¯å‚è€ƒçº¿æ˜¯ä¸¤ä¸ªæ¦‚å¿µï¼Œè‹¥ laneOffset éƒ½ä¸º 0ï¼Œåˆ™é“è·¯ä¸­å¿ƒçº¿å’Œé“è·¯å‚è€ƒçº¿é‡åˆã€‚</p><h3 id="shape">Shape</h3><p>ã€€ã€€è·¯é¢ä¸¤ä¾§è½¦é“çš„é«˜åº¦ï¼Œè¯¥å…ƒç´ è™½ç„¶ä¹Ÿæ˜¯ä½¿ç”¨ä¸‰æ¬¡æ›²çº¿è¿›è¡Œæè¿°çš„ï¼Œä½†æ˜¯è¯¥ä¸‰æ¬¡æ›²çº¿çš„æ¨ªåæ ‡ä¸º S/T/H åæ ‡ä¸­çš„ tï¼Œä¸æ˜¯ sï¼Œä¸åŒçš„ t å¾—åˆ°ä¸åŒçš„é«˜åº¦ï¼Œè¯¥å…ƒç´ ä¸‹å¯èƒ½å­˜åœ¨å¤šæ®µä¸‰æ¬¡æ›²çº¿ï¼Œè¿™äº›ä¸‰æ¬¡æ›²çº¿æ®µæ˜¯ç‹¬ç«‹çš„ï¼Œåªæ˜¯æè¿°å…¶å±æ€§ s æ‰€åœ¨ä½ç½®æ¨ªæˆªé¢çš„ shapeï¼Œè€Œæ²¡æœ‰å®Œå…¨æŒ‡å®š s çš„æ¨ªæˆªé¢çš„ shapeï¼Œåˆ™ç”±ä¸¤ä¸´è¿‘ s çš„ ä¸‰æ¬¡æ›²çº¿è®¡ç®—ç›¸åŒçš„ t å¯¹åº”çš„é«˜åº¦ç„¶åçº¿å‹æ’å€¼å¾—åˆ°ï¼ˆ1.6 æ ‡å‡†ä¸­æ’å€¼çš„å…¬å¼ Shaun è§‰å¾—æœ‰é—®é¢˜ï¼‰ã€‚</p><h3 id="border-å’Œ-width">border å’Œ width</h3><p>ã€€ã€€ä¹‹æ‰€ä»¥æŠŠè¿™ä¸ªä¸¤ä¸ªå…ƒç´ æ”¾åœ¨ä¸€èµ·å†™ï¼Œæ˜¯å› ä¸ºè¿™ä¸¤ä¸ªå…ƒç´ æè¿°çš„æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªä¸œè¥¿ï¼Œéƒ½æ˜¯è½¦é“è¾¹ç•Œæ‰€åœ¨çš„ä½ç½®ã€‚åŒæ—¶ï¼ŒShaun è¿˜æ˜¯æƒ³åæ§½ä¸€ä¸‹ï¼Œä½œä¸ºä¸€ä¸ªæ—¢å®šçš„æ ‡å‡†ï¼Œå®Œå…¨ä¸åº”è¯¥æŠŠè¿™ä¸¤ä¸ªå…ƒç´ åŒæ—¶æ”¾å‡ºæ¥ï¼Œåªéœ€è¦æ”¾å‡ºä¸€ä¸ªå³å¯ï¼Œæ—¢ç„¶ä¸ºæ ‡å‡†å°±åº”è¯¥åšåˆ°å®Œå…¨ç»Ÿä¸€ï¼Œè‡³äºå…·ä½“ç”¨å“ªä¸ªæ˜¯åº”ç”¨ç¨‹åºçš„äº‹ï¼Œä½†æ˜¯å‡ºæ¥çš„ä¸œè¥¿å¿…é¡»å¾—å”¯ä¸€ã€‚border æ˜¯æŒ‡è½¦é“è¾¹ç•Œåˆ°é“è·¯ä¸­å¿ƒçº¿åœ¨é“è·¯å‚è€ƒçº¿æ³•çº¿ä¸Šçš„æŠ•å½±ï¼Œæœ‰æ­£è´Ÿä¹‹åˆ†ï¼Œä¸€èˆ¬å·¦è¾¹è½¦é“ä¸ºæ­£ï¼Œå³è¾¹è½¦é“ä¸ºè´Ÿï¼Œè€Œ width æ˜¯æŒ‡è½¦é“çš„å®½åº¦ï¼Œè¿™ä¸¤è€…å®Œå…¨å¯ä»¥ç›¸äº’è½¬æ¢ã€‚è™½ç„¶æè¿°è¿™ä¸¤è€…çš„ä¸‰æ¬¡æ›²çº¿æ˜¯åŸºäºé“è·¯å‚è€ƒçº¿ s çš„ï¼Œä½†æ˜¯è¿™ä¸ª s æ˜¯ç›¸å¯¹äº laneSection æ ‡ç­¾ä¸­ s å±æ€§çš„ï¼Œå³å…¶çœŸæ­£æ²¿é“è·¯å‚è€ƒçº¿çš„ s' åº”è¯¥ä¸º s' = s + laneSection.sã€‚</p><hr><p>ã€€ã€€è‡³äºJunction çš„è§£æå¥½åƒæ²¡ä»€ä¹ˆéœ€è¦æ³¨æ„çš„ï¼Œå°±ä¸å†™äº†ï¼Œè‡³äº 1.5 ä¸­çš„ Virtual Junctionï¼Œå¼•å…¥æ–°çš„é“è·¯å‰åç»§æè¿°æ–¹å¼ï¼Œä¹Ÿæ–°åŠ äº†ä¸€ä¸ª virtual connectionï¼Œè§£ææ—¶åˆ°ä¹Ÿæ²¡æœ‰éœ€è¦æ³¨æ„çš„ï¼Œå”¯ä¸€éœ€è¦æ³¨æ„æ˜¯åœ¨åº”ç”¨ç¨‹åºä¸­è¯¥å¦‚ä½•åˆ©ç”¨è¿™äº›ä¿¡æ¯ã€‚</p><hr><p>ã€€ã€€å¯¹äº Signal å’Œ Objectï¼ŒShaun è§‰å¾—æ ‡å‡†ä¸­å¼ºåˆ¶è§„å®š s &gt; 0 åŒæ ·æ˜¯ä¸€ä»¶éå¸¸ä¸åˆç†çš„äº‹æƒ…ï¼Œæ—¢ç„¶èƒ½è¶…å‡ºé“è·¯é•¿åº¦ï¼Œåªå‡†æ­£å‘è¶…å‡ºï¼Œä¸èƒ½åå‘è¶…å‡ºï¼Œè¿™æœ‰ç‚¹ä¸è®²é“ç†ã€‚ Signal å’Œ Object åŒæ ·éœ€è¦æ³¨æ„åœ¨åº”ç”¨ç¨‹åºä¸­çš„ç”¨æ³•ï¼Œè‡³äºè§£ææ–¹é¢ï¼Œéœ€è¦æ³¨æ„çš„åº”è¯¥å°±æ˜¯ Object ä¸­ outline ä¸‹é¢çš„ cornerRoad å’Œ cornerLocalã€‚</p><h3 id="cornerroad-å’Œ-cornerlocal">cornerRoad å’Œ cornerLocal</h3><p>ã€€ã€€è¿™ä¸¤ä¸ªå…ƒç´ æè¿°çš„æœ¬è´¨ä¸Šä¹Ÿæ˜¯ä¸€ä¸ªä¸œè¥¿ï¼Œéƒ½æ˜¯é¢åŸŸå¯¹è±¡å¤šè¾¹å½¢è¾¹ç•Œä¸Šçš„è½®å»“ç‚¹ï¼Œè™½ç„¶ 1.5 ä¸­å¼•å…¥äº†å¤æ‚å¤šè¾¹å½¢çš„æ¦‚å¿µï¼Œå³æœ‰å†…è½®å»“å’Œå¤–è½®å»“ï¼Œä½† cornerRoad å’Œ cornerLocal è¿˜æ˜¯ä¸€æ ·çš„è§£æã€‚cornerRoad æ˜¯ç›´æ¥ç›¸å¯¹äºé“è·¯å‚è€ƒçº¿çš„åæ ‡ï¼Œå³å°† X/Y/Z åæ ‡ç›´æ¥è½¬æ¢ä¸º S/T/H åæ ‡å¾—åˆ°çš„ï¼Œæ‰€ä»¥ç›´æ¥è§£æè½¬æ¢å°±å¯å¾—åˆ°è¯¥ç‚¹çš„çœŸæ­£åæ ‡ã€‚è€Œ cornerLocal çš„è§£æåˆ™ç›¸å¯¹è¦éº»çƒ¦äº›ï¼Œé¦–å…ˆæ ¹æ® object æ ‡ç­¾ä¸­ s å’Œ t å±æ€§è®¡ç®—å¾—åˆ° Object çš„ä½ç½®ï¼Œä»¥é“è·¯å‚è€ƒçº¿ä¸Š s æ‰€åœ¨çš„ä½ç½®å»ºç«‹ S/T/H åæ ‡ç³»ç»Ÿï¼Œå°†è¯¥åæ ‡ç³»ç»Ÿå¹³ç§»åˆ° Object æ‰€åœ¨ä½ç½®ï¼Œå³è¯¥ S/T/H ç³»ç»Ÿä»¥Object çš„ä½ç½®ä¸ºåŸç‚¹ï¼Œå°† cornerLocal ä¸Š u,v,z å±æ€§å¸¦å…¥è¯¥åæ ‡ç³»ç»Ÿè®¡ç®—å‡ºçœŸæ­£çš„åæ ‡ã€‚ç”±äº Object ä¸­çš„ roll,pitch,hdg å±æ€§ï¼Œæ‰€ä»¥è¿˜éœ€è¦å¯¹åæ ‡ä»¥ Object çš„ä½ç½®ä¸ºä¸­å¿ƒè¿›è¡Œç›¸åº”æ—‹è½¬æ‰èƒ½å¾—åˆ°çœŸæ­£ X/Y/Z åæ ‡ç³»ç»Ÿä¸­åæ ‡ã€‚</p><hr><p>å¥½äº†ï¼Œä»¥ä¸Šå°±æ˜¯ Shaun è§‰å¾—åœ¨è§£æ OpenDRIVE æ—¶éœ€è¦æ³¨æ„çš„ä¸€äº›åœ°æ–¹äº†ã€‚</p><h2 id="åè®°">åè®°</h2><p>ã€€ã€€æ•´ä¸ªåœ°å›¾è¡Œä¸šæœ¬æ¥å°±å­˜åœ¨å¾ˆå¼ºçš„å£å’ï¼Œå›½å†…æ›´æ˜¯å¦‚æ­¤ï¼Œè€Œé«˜ç²¾åœ°å›¾ä½œä¸ºä¸“ä¸ºè‡ªåŠ¨é©¾é©¶æœåŠ¡çš„åœ°å›¾ï¼Œå›½å†…ä¼°è®¡æ›´æ˜¯å°‘æœ‰äººæ¥è§¦è¿‡ã€‚</p><p>ã€€ã€€OpenDRIVE è™½ä½œä¸ºä¸€ç§é«˜ç²¾åœ°å›¾æ ‡å‡†ï¼Œä½†ç¦»é‚£ç§è¢«å¹¿æ³›è®¤å¯å…³æ³¨çš„æ ‡å‡†è¿˜æœ‰å¾ˆé•¿ä¸€æ®µè·ç¦»ï¼Œè™½ç„¶å®ƒå‘å±•äº†åå‡ å¹´ï¼Œä½†å¥ˆä½•æ•´ä¸ªè¡Œä¸šæ‰ç®—æ˜¯èµ·æ­¥é˜¶æ®µï¼Œæ‰€ä»¥ä¹‹å‰å…¶ä¸€ç›´å‘å±•çš„ååˆ†ç¼“æ…¢ï¼Œä¹‹å‰ç”¨ OpenDRIVE è¾ƒå¤šçš„åº”è¯¥æ˜¯äº¤é€šä»¿çœŸé¢†åŸŸï¼Œè¿™ä¸ªé¢†åŸŸåŒæ ·å­˜åœ¨å¾ˆå¼ºçš„å£å’ï¼Œè¦åœ¨è¿™ç§é¢†åŸŸå¾—åˆ°æ•´ä¸ªè¡Œä¸šçš„è®¤å¯æ˜¯ä¸€ä»¶éå¸¸å›°éš¾çš„äº‹ï¼Œå› ä¸ºå…¶æœ¬æ¥å°±å­˜åœ¨ä¸€å¥—è‡ªå·±çš„æ ¼å¼ï¼Œè€Œæƒ³è¦åº”ç”¨åˆ«äººçš„æ ‡å‡†ï¼Œå°±åŠ¿å¿…éœ€è¦é€æ¸æŠ›å¼ƒè‡ªå·±çš„æ ¼å¼ï¼Œè¿™å¯¹ä¼ä¸šæ¥è¯´éœ€è¦ä¸‹å¾ˆå¤§çš„å†³å¿ƒã€‚</p><p>ã€€ã€€å°± Shaun ç›®å‰æ‰€çŸ¥ï¼Œè¡Œä¸šå†…è™½ç„¶æœ‰è®¸å¤šä¼ä¸šä½¿ç”¨ OpenDRIVE æ ‡å‡†ï¼Œä½†åŸºæœ¬éƒ½æ˜¯è‡ªå·±é­”æ”¹åçš„æ ‡å‡†ï¼ŒåŸå› åœ¨äº OpenDRIVE æ ‡å‡†è¿˜æ²¡åšåˆ°çœŸæ­£æˆä¸ºæ ‡å‡†çš„åœ°æ­¥ï¼Œè™½ç„¶å…¶ä¸€äº›åŸºæœ¬å…ƒç´ å…·å¤‡ï¼Œä½†å¾ˆæœ‰å¾ˆå¤šå…ƒç´ æ˜¯å®Œå…¨ç¼ºå¤±æˆ–ä¸å®Œå–„çš„ï¼Œæ›´é‡è¦çš„æ˜¯ï¼Œå…¶å¯è§†åŒ–ç¨‹åºç«Ÿç„¶ä¸å¼€æºï¼Œåœ¨æ•´ä¸ªè®¡ç®—æœºé¢†åŸŸå†…ï¼Œè¿˜ä»æ²¡è§è¿‡ä¸€ç§æ ‡å‡†æ²¡æœ‰å…¶å¼€æºå®ç°çš„ä¸œè¥¿ï¼Œæ²¡æœ‰ç›¸åº”çš„æºç ï¼Œåªé æ–‡å­—æ¥ç†è§£éš¾å…ä¼šäº§ç”Ÿæ­§ä¹‰ï¼Œå„å¤§å‚å•†è‡ªç„¶å°±ä¼šé€‰æ‹©å®ç°è‡ªå·±çš„ OpenDRIVEï¼Œå¾ˆéš¾ç»Ÿä¸€ã€‚å†å²ä¸Šä¸€äº›ç»å…¸çš„è®ºæ–‡å’Œç®—æ³•ï¼Œéƒ½æœ‰å…¶ç›¸åº”çš„å¼€æºå®ç°ï¼Œæ²¡æœ‰å¼€æºå®ç°çš„è®ºæ–‡å’Œç®—æ³•åŸºæœ¬éƒ½æ·¹æ²¡åœ¨äº†å†å²é•¿æ²³ä¹‹ä¸­ã€‚æ‰€ä»¥æ²¡æœ‰å¼€æºå®ç°ï¼Œåœ¨è®¡ç®—æœºé¢†åŸŸå†…å¾ˆéš¾çœŸæ­£æ¨å¹¿å¼€ï¼Œå°±å¾ˆéš¾æˆä¸ºçœŸæ­£çš„æ ‡å‡†ã€‚ç»¼ä¸Šï¼ŒOpenDRIVE çš„å‘å±•ä»»é‡è€Œé“è¿œå•Šï¼å¸Œæœ›ç°åœ¨åœ¨ ASAM æ‰‹ä¸­èƒ½å‘å±•çš„æ›´å¿«æ›´å®Œå–„äº›å§ã€‚</p></div><div class="article-content-more"><button type="button" class="article-more--link"><i class="fa fa-angle-double-down fa-3x" aria-hidden="true"></i></button></div></section></article><article id="post-ä¸€å¼ çº¹ç†åšå¤©ç©ºç›’" class="article div-border"><header class="article-header"><span class="article-date article-title--index"><i class="fa fa-calendar" aria-hidden="true"></i> <a href="/posts/39a3c99e.html"><time datetime="2020-08-01T14:46:32.000Z">2020-08-01</time></a></span><section class="article-title article-title--index"><a href="/posts/39a3c99e.html">ä¸€å¼ çº¹ç†åšå¤©ç©ºç›’</a></section><div class="article-label"><div class="article-category label"><i class="fa fa-book" aria-hidden="true"></i> <a class="color1 article-category-link" href="/categories/Image-Graphic/">Image&Graphic</a></div><div class="article-tag label"><i class="fa fa-bookmark" aria-hidden="true"></i> <a class="color5 article-tag-none-link" href="/tags/algorithm/" rel="tag">algorithm</a></div></div></header><section class="article-content"><div class="article-content--excerpt"><h2 id="å‰è¨€">å‰è¨€</h2><p>ã€€ã€€å‰æ®µæ—¶é—´åšäº†ä¸€ä»¶å¾ˆæœ‰æ„æ€çš„äº‹ï¼Œä½¿ç”¨ä¸€å¼ æ™®é€šçº¹ç†å›¾ç‰‡åšæˆäº†ä¸€ä¸ªå¤©ç©ºç›’ï¼ˆSkyBoxï¼‰ï¼Œå…¶å®æ˜¯åŠä¸ªï¼Œå› ä¸ºæœ€ç»ˆå½¢æˆçš„å¤©ç©ºç›’æ˜¯ä¸Šä¸‹å¯¹ç§°çš„ï¼Œçœ‹èµ·æ¥æœ‰å¤©ç©ºä¹‹å¢ƒçš„æ„Ÿè§‰ã€‚</p></div><div class="article-content--all"><h2 id="å‰è¨€">å‰è¨€</h2><p>ã€€ã€€å‰æ®µæ—¶é—´åšäº†ä¸€ä»¶å¾ˆæœ‰æ„æ€çš„äº‹ï¼Œä½¿ç”¨ä¸€å¼ æ™®é€šçº¹ç†å›¾ç‰‡åšæˆäº†ä¸€ä¸ªå¤©ç©ºç›’ï¼ˆSkyBoxï¼‰ï¼Œå…¶å®æ˜¯åŠä¸ªï¼Œå› ä¸ºæœ€ç»ˆå½¢æˆçš„å¤©ç©ºç›’æ˜¯ä¸Šä¸‹å¯¹ç§°çš„ï¼Œçœ‹èµ·æ¥æœ‰å¤©ç©ºä¹‹å¢ƒçš„æ„Ÿè§‰ã€‚</p><span id="more"></span><h2 id="å¤©ç©ºç›’ç¯‡">å¤©ç©ºç›’ç¯‡</h2><p>ã€€ã€€å¸¸è§çš„å¤©ç©ºç›’ä¸€èˆ¬é‡‡ç”¨ç«‹æ–¹ä½“åŒ…å›´ç›’åš geometryï¼Œå†ä½¿ç”¨ CubeMap å°† 6 å¼ çº¹ç†å›¾è´´åˆ°ç«‹æ–¹ä½“åŒ…å›´ç›’ä¸Šï¼Œä½†æ˜¯å¦‚æœåªç”¨ä¸€å¼ çº¹ç†å›¾ç‰‡ï¼Œè¦æ˜ å°„åˆ°ç«‹æ–¹ä½“åŒ…å›´ç›’ä¸Šï¼Œæ— è®ºæ€ä¹ˆå±• UVï¼Œéƒ½ä¼šé€ æˆéƒ¨åˆ†æ£±å’Œé¡¶ç‚¹ UV èšé›†æˆ–çªå˜ï¼Œä»è€Œåœ¨è¿™æ ·çš„åœ°æ–¹é€ æˆè´´å›¾æ‰­æ›²æˆ–é”™ä½çš„ä¸åè°ƒç°è±¡ã€‚</p><p>ã€€ã€€æ—¢ç„¶ç«‹æ–¹ä½“åŒ…å›´ç›’ä¸å¯è¡Œï¼Œå°±åªæœ‰é‡‡ç”¨å¦ä¸€ç§ geometry â€”â€” çƒ äº†ï¼Œä½†æ˜¯ç›´æ¥ç”¨çƒä½œä¸º geometry ä¼šé€ æˆä¸¤ç§é—®é¢˜ï¼š1ã€çƒçš„æç‚¹å¤„ä¼šæœ‰æ‰­æ›²ç°è±¡ï¼Œå› ä¸ºçƒæç‚¹å¤„çš„ UV æ˜¯èšé›†çš„ï¼ŒåŒä¸€ä¸ªä½ç½®ï¼ŒV éƒ½ä¸º 1 æˆ– 0ï¼Œè€Œ U åˆ™ä¸º [0, 1] éƒ½æœ‰ï¼Œå³åœ¨è¯¥ä½ç½®å¤„ä¸€ä¸ª V å¯¹åº”å¤šä¸ª Uï¼Œè‡ªç„¶ä¼šé€ æˆæ‰­æ›²ï¼›2ã€ç”±äºçƒæ˜¯ä¸€ä¸ªåœ†å‘¨ï¼Œæ‰€ä»¥ U ä¸º 0 çš„ä½ç½®å’Œ U ä¸º 1 çš„ä½ç½®æ˜¯åŒä¸€ä¸ªï¼Œå¯¹äºä¸€å¼ æ™®é€šçº¹ç†å›¾ï¼Œè¿™å°±ä¼šé€ æˆé”™ä½ï¼Œèƒ½çœ‹åˆ°éå¸¸æ˜æ˜¾çš„æ¥ç¼çº¿ã€‚æ‰€ä»¥éœ€è¦é‡æ–°å±•å¼€çƒé¢çš„ UVï¼Œè€Œå¸¸è§çš„å±• UV æ–¹æ³•ä¸»è¦æœ‰ä»¥ä¸‹å‡ ç§ï¼š</p><ol type="1"><li>å¯¹äºå¹³é¢ï¼Œuv åæ ‡è‡ªç„¶é€šè¿‡çº¿æ€§å½’ä¸€åŒ–è§£å†³ï¼Œå–å·¦ä¸‹è§’åæ ‡å’Œå³ä¸Šè§’åæ ‡ï¼Œå¾—åˆ°å¹³é¢çš„å®½åº¦å’Œé•¿åº¦ï¼Œå†ç”¨å½“å‰åæ ‡å‡å»å·¦ä¸‹è§’åæ ‡ï¼Œæœ€åé™¤ä»¥å¹³é¢å®½åº¦å’Œé•¿åº¦å¾—åˆ° uv åæ ‡ã€‚</li><li>å¯¹äºçƒé¢ï¼Œè‡ªç„¶æ˜¯å–æ°´å¹³æ–¹ä½è§’ <span class="math inline">\(Î¸, \theta \in [-\pi, \pi]\)</span> å’Œ å‚ç›´ä»°è§’ <span class="math inline">\(Ï†, Ï†\in [0, \pi]\)</span> ä½œä¸º uv åæ ‡ã€‚å¯¹äº threejs è€Œè¨€ï¼Œæ–¹ä½è§’åœ¨ XZ å¹³é¢ä¸Šï¼Œå¯è®¡ç®— <span class="math inline">\(\theta = Math.atan2(z, x)\)</span>ï¼Œä»°è§’ <span class="math inline">\(Ï† = Math.acos(-y)\)</span>ï¼Œå…¶ä¸­ <span class="math inline">\(x,y,z\)</span> ä¸ºå½“å‰åæ ‡å½’ä¸€åŒ–åçš„å€¼ï¼Œåˆ™ <span class="math inline">\(u = (Î¸ +\pi)/(2*\pi)\)</span>ï¼Œ<span class="math inline">\(v=Ï†/\pi\)</span>ã€‚</li><li>å¯¹äºä¸€èˆ¬çš„æ›²é¢ï¼Œå¯èƒ½ä¼šä¾æ®å½“å‰é¡¶ç‚¹çš„æ³•çº¿è®¡ç®— uv åæ ‡ã€‚å¯¹æ³•çº¿å‘é‡ x,y,z ä¸‰ä¸ªåˆ†é‡çš„å€¼è¿›è¡Œæ’åºï¼Œå–æœ€å°çš„ä¸¤ä¸ªä½œä¸º uvï¼Œæˆ–è€…å°†æœ€å°çš„ä¸¤ä¸ªé™¤ä»¥æœ€å¤§çš„ä¸€ä¸ªä½œä¸º uvï¼ˆCubeMap ä¸­é€šå¸¸ç”¨è¿™ç§è¿›è¡Œ 6 ä¸ªé¢çš„çº¹ç†æ˜ å°„ï¼Œæœ€å¤§çš„é‚£ä¸ªå†³å®šæ˜ å°„ 6 ä¸ªé¢ä¸­çš„å“ªä¸€é¢ï¼‰ï¼Œæˆ–è€…å–å›ºå®šçš„ä¸¤ä¸ªåˆ†é‡ä½œä¸º uv ï¼Œæˆ–è€…å¾—åˆ°æœ€å°çš„ä¸¤ä¸ªåˆ†é‡ç´¢å¼•å–å¯¹åº”é¡¶ç‚¹åæ ‡çš„åˆ†é‡å€¼ä½œä¸º uv ç­‰ç­‰ï¼Œè‹¥ uv å–å€¼ä¸º [-1,1]ï¼Œåˆ™è¿˜éœ€è¦åš <span class="math inline">\(uv = uv *0.5+0.5\)</span> ã€‚æ ¹æ®æ³•çº¿è®¡ç®— uv ä¸€èˆ¬éœ€è¦æ ¹æ®ä¸åŒçš„ä½¿ç”¨æƒ…å†µé€‰æ‹©ä¸åŒçš„ uv è®¡ç®—ç­–ç•¥ã€‚</li></ol><p>ã€€ã€€Shaun å¾ˆå¿«çš„è§£å†³äº†ç¬¬äºŒä¸ªé—®é¢˜ï¼Œæƒ³è¦å°†ä¸€å¼ æ™®é€šçº¹ç†å›¾ç‰‡è´´åœ¨æ•´ä¸ªçƒé¢ä¸Šè€Œä¸ç•™ä¸‹æ¥ç¼çº¿æ˜¯ä¸ç°å®çš„ï¼Œè€Œé“ºåœ¨åŠä¸ªçƒé¢ä¸Šï¼Œå¦ä¸€åŠçƒé¢åšå¯¹ç§°ï¼Œè¿™ä¸ªæ˜¯å¯è¡Œçš„ï¼Œè€Œä¸”çœ‹èµ·æ¥çš„æ•ˆæœä¹Ÿä¸é”™ï¼Œè®¡ç®— uv å°±å¾ˆç®€å•äº†ï¼ŒåŸå§‹çš„ v ä¸éœ€è¦æ”¹å˜ï¼Œåªéœ€è¦å°† u ä» [0, 0.5] æ˜ å°„ä¸º [0, 1]ï¼Œä» [0.5, 1] æ˜ å°„ä¸º [1, 0]ï¼Œå³ <span class="math display">\[ f(u)=\begin{cases} 2*u,ã€€0 \le u \le 0.5 \\ 2*(1-u),ã€€0.5 \le u \le 1 \end{cases} \]</span> ï¼Œæ¥ç¼çº¿é—®é¢˜ä½¿ç”¨å¯¹ç§°æ€§å·§å¦™çš„è§£å†³äº†ï¼Œä½†ç¬¬ä¸€ä¸ªé—®é¢˜ï¼Œæç‚¹æ‰­æ›²ç°è±¡ï¼Œè¿˜æ˜¯æ²¡æ³•è§£å†³ï¼Œæ¥ä¸‹æ¥æ‰æ˜¯çœŸæ­£çš„éš¾ç‚¹ â•¯ï¸¿â•°ã€‚</p><p>ã€€ã€€ä¸ºäº†è§£å†³æç‚¹æ‰­æ›²é—®é¢˜ï¼Œé¦–å…ˆéœ€è¦çŸ¥é“æç‚¹æ‰­æ›²çš„æ ¹æœ¬åŸå› æ˜¯åŒä¸€ä¸ªä½ç½®å¯¹åº”äº†å¤šä¸ª uvï¼Œæ‰€ä»¥è¦ä¹ˆå°†è¿™äº› uv ç»™æ•£å¼€ï¼Œè¦ä¹ˆæŠ›å¼ƒä¸€éƒ¨åˆ† uvï¼Œæ•£å¼€ uv çš„æ–¹å¼ Shaun æ²¡æƒ³å‡ºæ¥ï¼ŒæŠ›å¼ƒä¸€éƒ¨åˆ† uv å€’æ˜¯æœ‰ä¸€ç§ç®€å•çš„æ–¹å¼ï¼Œä¸è¿‡æŠ›å¼ƒ uv ä¹Ÿæ„å‘³ç€ä¼šæŸå¤±ä¸€éƒ¨åˆ†çº¹ç†ï¼Œå°±è¿™ä¸ªå¤©ç©ºç›’è€Œè¨€ï¼ŒæŠ›å¼ƒä¸€éƒ¨åˆ† uv æ˜¯èƒ½æ¥å—çš„ï¼Œä¸ç„¶å¹³é¢åˆ°çƒé¢å¿…ç„¶æœ‰å½¢å˜ã€‚å…·ä½“æŠ›å¼ƒæ–¹æ³•ä¸ºï¼Œå°†çƒé¢é“ºå¹³ï¼Œå˜ä¸ºä¸€ä¸ªå¤§åœ†é¢ï¼Œå³å¿½ç•¥çƒé¢é¡¶ç‚¹åæ ‡çš„ z å€¼ï¼Œæ±‚å‡ºçƒçš„ AABBï¼Œå°† AABB é“ºå¹³ï¼Œå³ä¸ºå¤§åœ†çš„å¤–æ¥æ­£æ–¹å½¢ï¼Œç”¨è®¡ç®—å¹³é¢ uv çš„æ–¹å¼é‡æ–°çƒä¸Šå„é¡¶ç‚¹çš„ uv åæ ‡ï¼Œè¿™ç§æ–¹å¼çš„ç¡®èƒ½è§£å†³æç‚¹æ‰­æ›²çš„é—®é¢˜ï¼Œä½†åˆå¸¦æ¥äº†ä¸€ä¸ªæ›´ä¸ºä¸¥é‡çš„é—®é¢˜ã€‚</p><p>ã€€ã€€è¿™ä¸ªé—®é¢˜å°±æ˜¯ï¼Œçƒé¢ä¸ŠåŠéƒ¨åˆ†æ˜¾ç¤ºå¾ˆæ­£å¸¸ï¼Œä½†æ˜¯è¶Šé è¿‘åº•éƒ¨å¤§åœ†çš„éƒ¨åˆ†ï¼Œçº¹ç†æ‹‰ä¼¸çš„è¶Šå‰å®³ï¼Œé€ æˆå¤©ç©ºç›’å››å‘¨éƒ½å‡ºç°å¾ˆä¸¥é‡çš„çº¹ç†æ‹‰ä¼¸ç°è±¡ã€‚å‡ºç°çº¹ç†æ‹‰ä¼¸ç°è±¡çš„åŸå› ä¹Ÿå¾ˆå¥½ç†è§£ï¼Œé‚£å°±æ˜¯è¶Šé è¿‘åº•éƒ¨å¤§åœ†çš„é¡¶ç‚¹ï¼Œuv åæ ‡ä¹‹é—´çš„é—´éš”è¶Šå°ï¼Œå³åŒæ ·çš„ uv é—´éš”ï¼Œé¡¶ç‚¹ä¹‹é—´çš„è·ç¦»å˜å¤§äº†ï¼Œåœ¨è¿›è¡Œçº¹ç†æ’å€¼æ—¶ï¼Œè‡ªç„¶ä¼šå¯¼è‡´çº¹ç†æ‹‰ä¼¸ç°è±¡ã€‚çŸ¥é“é—®é¢˜å‡ºç°çš„åŸå› äº†ï¼Œé‚£æ€ä¹ˆè§£å†³äº†ï¼Ÿè¿™åˆæ˜¯ä¸€ä¸ªæ–°é—®é¢˜ ğŸ˜”ã€‚</p><p>ã€€ã€€å¯¼è‡´çº¹ç†æ‹‰ä¼¸ç°è±¡çš„åŸå› æ˜¯çº¿æ€§æ˜ å°„ï¼Œé‚£èƒ½ä¸èƒ½å¯¹è®¡ç®—å¥½çš„ uv è¿›è¡Œéçº¿æ€§æ˜ å°„ï¼Œä»è€ŒæŠµæ¶ˆ OpenGL çº¿æ€§çº¹ç†æ’å€¼çš„å½±å“ï¼Œéçº¿æ€§æ˜ å°„æœ€é‡è¦çš„æ˜¯æ‰¾åˆ°åˆé€‚çš„éçº¿æ€§å‡½æ•°ï¼Œå¸¸è§éçº¿æ€§å‡½æ•°ä¸€èˆ¬æœ‰å¹‚å‡½æ•°ï¼ˆä¼½é©¬å˜æ¢å°±æ˜¯ä¸€ç§å¹‚å‡½æ•°å˜æ¢ï¼Œå¹‚ &lt; 1 æ‹‰ä¼¸å°å€¼ï¼Œå¹‚ &gt; 1 æ‹‰ä¼¸å¤§å€¼ï¼‰ï¼Œå¯¹æ•°å‡½æ•°ï¼ŒæŒ‡æ•°ç­‰ï¼Œå¯¹äº Shaun è¿™é‡Œçš„æƒ…å†µï¼Œå¸¸è§„çš„éçº¿æ€§å‡½æ•°è‚¯å®šæ˜¯ä¸è¡Œçš„ï¼Œåªèƒ½è‡ªå·±æƒ³ä¸€ä¸ªå‡½æ•°ã€‚</p><p>ã€€ã€€æ³¨æ„åˆ°ï¼Œè¿™æ˜¯åœ¨çƒé¢ä¸Šï¼Œè¦å–ä¸€ä¸ªéçº¿æ€§æ˜ å°„å‡½æ•°ï¼Œè‡ªç„¶éœ€è¦ä»åœ†çš„å¼§é•¿å…¥æ‰‹ï¼Œå…ˆè®¡ç®—åœ†çš„å¼§é•¿ã€‚è®¡ç®—å¼§é•¿çš„æœ¬è´¨æ˜¯å‹¾è‚¡å®šç† <span class="math inline">\(ds=\sqrt{(dx)^2 + (dy)^2} = \sqrt{1+(dy/dx)^2} * dx\)</span>ï¼Œå¯¹äºåœ† <span class="math inline">\(x^2 + y^2 = r^2,ã€€y \ge 0\)</span>ï¼Œå³ <span class="math inline">\(y=\sqrt{r^2-x^2}\)</span>ï¼Œæœ‰ <span class="math inline">\(dy/dx = -x/ \sqrt{r^2-x^2}\)</span>ï¼Œåˆ™å¯¹äºåœ†çš„å¼§é•¿ <span class="math inline">\(L=\int \sqrt{1+x^2/(r^2-x^2)}dx = r \int 1/ \sqrt{1-(x/r)^2}d(x/r) = r*arcsin(x/r)|\)</span>ï¼Œå³å¯¹äºåœ†åœ¨ç¬¬ä¸€è±¡é™çš„å¼§é•¿å¯ä»¥ä¸º <span class="math inline">\(L=r*arcsin(x/r),ã€€0\le x \le r\)</span> ã€‚</p><p>ã€€ã€€ç”±äº v æ˜¯å‡åŒ€çš„ï¼Œæ‰€ä»¥åªéœ€è¦å¯¹ u è¿›è¡Œæ‹‰ä¼¸å³å¯ï¼Œç¦»åœ†å¿ƒè¶Šè¿‘çš„ç‚¹ï¼Œåˆ™è¶Šæ¥è¿‘ 0.5ï¼Œ ç¦»åœ†å¿ƒè¶Šè¿œçš„ç‚¹åˆ™è¶Šåç¦» 0.5ï¼Œéçº¿æ€§æ‹‰ä¼¸å…¬å¼ä¸º $ u = Î± * (u-0.5) + 0.5$ï¼Œå…¶ä¸­ <span class="math inline">\(Î± = L / (\pi*r/2),ã€€Lä¸­çš„xä¸ºç‚¹åˆ°åœ†å¿ƒçš„è·ç¦»\)</span>ï¼Œä½¿ç”¨è¿™ç§æ‹‰ä¼¸åï¼Œå¤©ç©ºç›’å››å‘¨çš„çº¹ç†æ‹‰ä¼¸ç°è±¡ç¡®å®ä¸è§äº†ï¼Œä½†æ˜¯åˆå¼•å…¥äº†æ–°çš„é—®é¢˜ï¼Œå¤©ç©ºç›’é¡¶éƒ¨å‡ºç°äº†å±€éƒ¨æ‹‰ä¼¸ç°è±¡ï¼Œå‡ºç°å¾®å¼±çš„çº¹ç†æ¨¡ç³Šï¼Œè™½ç„¶åŒºåŸŸä¸å¤§ï¼Œä¾é ä¸€äº›æ‰‹æ®µå¯ä»¥è®©ç”¨æˆ·çœ‹ä¸åˆ°è¿™å—åŒºåŸŸï¼Œä½†æ˜¯ä¸èƒ½è‡ªæ¬ºæ¬ºäººï¼Œè¿™ä¸€å—å­˜åœ¨æ€»è®© Shaun è§‰å¾—å¾ˆä¸èˆ’æœï¼Œäºæ˜¯ï¼Œå°±æœ‰äº†ä¸‹é¢çš„ç»ˆæè§£å†³æ–¹æ¡ˆã€‚</p><p>ã€€ã€€Shaun æœ€ç»ˆæƒ³å‡ºè§£å†³æ–¹æ¡ˆæ˜¯ï¼šæ—¢ç„¶å•çº¯çš„æ‹‰ä¼¸ä¸èƒ½å®Œç¾è§£å†³é—®é¢˜ï¼Œé‚£è¿˜æ˜¯åªèƒ½ä»é—®é¢˜æ ¹æºå…¥æ‰‹ï¼Œå®Œå…¨é‡æ–°è®¡ç®— uv åæ ‡ï¼Œè¿™æ¬¡è®¡ç®— uv åæ ‡ï¼Œè¿˜æ˜¯éœ€è¦å€ŸåŠ©ä¸Šæ–‡çš„ <span class="math inline">\(Î±\)</span>ã€‚å…·ä½“è®¡ç®— uv åæ ‡çš„æ–¹å¼å¦‚ä¸‹ï¼š</p><ol type="1"><li>å…ˆè®¡ç®—çƒé¢ä¸Šé¡¶ç‚¹ç›¸å¯¹å¤§åœ†åœ†å¿ƒçš„è§’åº¦ï¼Œå³ <span class="math inline">\(angle = Math.atan2(y - center.y, x - center.x)\)</span>ï¼Œå…¶ä¸­ center å³ä¸ºå¤§åœ†åœ†å¿ƒï¼ˆ0, 0ï¼‰ã€‚</li><li>æ ¹æ®é¡¶ç‚¹åˆ°åœ†å¿ƒçš„è·ç¦»å¾—åˆ° <span class="math inline">\(\alpha\)</span>ï¼Œè®¡ç®— <span class="math inline">\(Î±_x = Î± * cos(angle)ï¼Œ Î±_y=Î± * sin(angle)\)</span> ã€‚</li><li>è®¡ç®— uvï¼š<span class="math inline">\(u = Î±_x * 0.5 + 0.5ï¼Œ v=Î±_y*0.5+0.5\)</span> ã€‚</li></ol><p>ã€€ã€€ä½¿ç”¨è¿™ä¸ªæ–¹å¼è®¡ç®— uvï¼Œå¤©ç©ºç›’çš„å…¨éƒ¨é—®é¢˜éƒ½è§£å†³äº†ï¼Œå¤©ç©ºç›’æ²¡æœ‰ä»»ä½•æ‹‰ä¼¸æ‰­æ›²ç­‰ä»¤äººçœ‹èµ·æ¥ä¸åè°ƒçš„åœ°æ–¹ï¼Œè‡³äºå¯¹ç§°ä¹Ÿè¯´çš„è¿‡å»ï¼ŒShaun ä¸ªäººæ„Ÿè§‰æŒºæ¼‚äº®çš„ (ï¿£â–½ï¿£)"ã€‚è‡ªæ­¤å¤©ç©ºç›’çš„äº‹å°±ç®—æ˜¯å‘Šä¸€æ®µè½äº†ã€‚</p><h2 id="åè®°">åè®°</h2><p>ã€€ã€€åšè¿™ä¸ªå¤©ç©ºç›’ï¼Œç¡®å®èŠ±è´¹äº† Shaun äº†ä¸å°‘åŠ›æ°”ï¼Œåœ¨åšçš„é‚£ä¸¤å¤©ï¼Œæ»¡è„‘å­éƒ½æ˜¯ä¸ºä»€ä¹ˆä¼šæ‹‰ä¼¸æ‰­æ›²ï¼Œä»¥åŠå¦‚ä½•è§£å†³æ‹‰ä¼¸æ‰­æ›²ï¼Œæœ€ç»ˆæƒ³å‡ºäº†è¿™å¥—æ–¹æ¡ˆï¼Œç®€å•ä¼˜é›…ï¼Œæœ€åçš„æ•ˆæœä¹Ÿæ˜¯å®Œç¾è¾¾åˆ°äº† Shaun çš„é¢„æœŸã€‚ä¸è¿‡ä¸€èˆ¬äººåº”è¯¥ä¹Ÿç”¨ä¸åˆ° Shaun è¿™å¥—æ–¹æ¡ˆï¼Œè¿™åªæ˜¯ Shaun è‡ªå·±æƒ³åšåšè€Œå·²ï¼Œæä¸å‡ºæ¥æ²¡å…³ç³»ï¼Œæå‡ºæ¥å½“ç„¶æ˜¯å¥½çš„ã€‚</p></div><div class="article-content-more"><button type="button" class="article-more--link"><i class="fa fa-angle-double-down fa-3x" aria-hidden="true"></i></button></div></section></article><article id="post-Windows-Terminal-å°é²œå°è®°" class="article div-border"><header class="article-header"><span class="article-date article-title--index"><i class="fa fa-calendar" aria-hidden="true"></i> <a href="/posts/a250bb21.html"><time datetime="2020-07-26T08:52:42.000Z">2020-07-26</time></a></span><section class="article-title article-title--index"><a href="/posts/a250bb21.html">Windows Terminal å°é²œå°è®°</a></section><div class="article-label"><div class="article-category label"><i class="fa fa-book" aria-hidden="true"></i> <a class="color3 article-category-link" href="/categories/Share/">Share</a></div><div class="article-tag label"><i class="fa fa-bookmark" aria-hidden="true"></i> <a class="color2 article-tag-none-link" href="/tags/record/" rel="tag">record</a></div></div></header><section class="article-content"><div class="article-content--excerpt"><h2 id="å‰è¨€">å‰è¨€</h2><p>ã€€ã€€Windows Terminal æ­£å¼ç‰ˆåœ¨ä¸¤ä¸ªæœˆä¹‹å‰ç»ˆäºå‘å¸ƒäº†ï¼Œæ­£å¥½æœ€è¿‘æ‰¾äº†ç‚¹æ—¶é—´å°å°é²œï¼Œæ„Ÿè§‰ç¡®å®å¯ä»¥ï¼ŒCmder å¯ä»¥é€€ä¼‘äº†ã€‚</p></div><div class="article-content--all"><h2 id="å‰è¨€">å‰è¨€</h2><p>ã€€ã€€Windows Terminal æ­£å¼ç‰ˆåœ¨ä¸¤ä¸ªæœˆä¹‹å‰ç»ˆäºå‘å¸ƒäº†ï¼Œæ­£å¥½æœ€è¿‘æ‰¾äº†ç‚¹æ—¶é—´å°å°é²œï¼Œæ„Ÿè§‰ç¡®å®å¯ä»¥ï¼ŒCmder å¯ä»¥é€€ä¼‘äº†ã€‚</p><span id="more"></span><h2 id="å°é²œç¯‡">å°é²œç¯‡</h2><p>ã€€ã€€ç›´æ¥åœ¨ <a target="_blank" rel="noopener" href="https://aka.ms/terminal">Microsoft Store</a> å®‰è£…ï¼Œé¡ºä¾¿å®‰è£…å¥½ <a target="_blank" rel="noopener" href="https://docs.microsoft.com/en-us/windows/terminal/tutorials/powerline-setup">Powerline</a>ï¼Œæ‰§è¡Œä»¥ä¸‹ä¸‰ä¸ªå‘½ä»¤ï¼š</p><div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="false" data-lang="POWERSHELL"><div class="code-copy"></div><figure class="highlight hljs powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Install-Module</span> posh<span class="literal">-git</span> <span class="literal">-Scope</span> CurrentUser</span><br><span class="line"><span class="built_in">Install-Module</span> <span class="built_in">oh</span><span class="literal">-my</span><span class="literal">-posh</span> <span class="literal">-Scope</span> CurrentUser</span><br><span class="line"><span class="built_in">Install-Module</span> <span class="literal">-Name</span> PSReadLine <span class="literal">-Scope</span> CurrentUser <span class="literal">-Force</span> <span class="literal">-SkipPublisherCheck</span> // ä½¿ç”¨ powershell core åˆ™å¿…é€‰</span><br></pre></td></tr></table></figure></div><p>ç„¶åæ‰§è¡Œ <code>notepad $PROFILE</code> ï¼Œåœ¨å¼¹å‡ºçš„è®°äº‹æœ¬ä¸­æ·»åŠ ï¼š</p><div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="false" data-lang="POWERSHELL"><div class="code-copy"></div><figure class="highlight hljs powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Import-Module</span> posh<span class="literal">-git</span></span><br><span class="line"><span class="built_in">Import-Module</span> <span class="built_in">oh</span><span class="literal">-my</span><span class="literal">-posh</span></span><br><span class="line"><span class="built_in">Set-Theme</span> Paradox</span><br></pre></td></tr></table></figure></div><p>é‡å¯ terminalï¼Œè‹¥å‡ºç° â€œæ— æ³•åŠ è½½æ–‡ä»¶ ***.ps1, å› ä¸ºæ­¤ç³»ç»Ÿä¸Šç¦æ­¢è¿è¡Œè„šæœ¬â€ï¼Œåˆ™éœ€è¦æ‰§è¡Œ <code>set-executionpolicy RemoteSigned</code>ï¼Œä½¿powershell èƒ½é¡ºåˆ©æ‰§è¡Œè¯¥è„šæœ¬ã€‚</p><p>ã€€ã€€ç”±äºç›®å‰ Windows Terminal ä¸ä¼šè‡ªåŠ¨æ³¨å†Œå³é”®å¿«æ·èœå•ï¼Œæ‰€ä»¥éœ€è¦æ‰‹åŠ¨ä¿®æ”¹æ³¨å†Œè¡¨ï¼Œæ‰§è¡Œ <code>mkdir "%USERPROFILE%\AppData\Local\terminal"</code> åï¼Œåœ¨ç½‘ä¸Šæ‰¾ä¸€ä¸ªç»ˆç«¯å›¾æ ‡ï¼Œå‘½åä¸º wt_32.icoï¼Œå°†è¯¥å›¾æ ‡å¤åˆ¶åˆ° <code>%USERPROFILE%\AppData\Local\terminal</code> ç›®å½•ä¸­ï¼Œ æ–°å»º wt.reg æ–‡ä»¶åç›´æ¥åŒå‡»æ‰§è¡Œï¼Œè¯¥æ³¨å†Œè¡¨æ–‡ä»¶çš„å†…å®¹å¦‚ä¸‹ï¼š</p><div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="false" data-lang="PLAINTEXT"><div class="code-copy"></div><figure class="highlight hljs plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Windows Registry Editor Version 5.00</span><br><span class="line"></span><br><span class="line">[HKEY_CLASSES_ROOT\Directory\Background\shell\wt]</span><br><span class="line">@=&quot;Windows terminal here&quot;</span><br><span class="line">&quot;Icon&quot;=&quot;%USERPROFILE%\\AppData\\Local\\terminal\\wt_32.ico&quot;</span><br><span class="line"></span><br><span class="line">[HKEY_CLASSES_ROOT\Directory\Background\shell\wt\command]</span><br><span class="line">@=&quot;C:\\Users\\[user_name]\\AppData\\Local\\Microsoft\\WindowsApps\\wt.exe&quot;</span><br><span class="line"></span><br></pre></td></tr></table></figure></div><p>å…¶ä¸­ [user_name] æ˜¯ä½¿ç”¨è€…ç”µè„‘çš„ç”¨æˆ·åï¼Œwt_32.ico å¯ä»¥æ˜¯éšä¾¿æ‰¾çš„ä¸€å¼ ç¼©ç•¥å›¾ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ç”¨ <a target="_blank" rel="noopener" href="https://github.com/yanglr/WindowsDevTools/tree/master/awosomeTerminal/icons">icons - yanglr</a> ä¸­çš„ wt_32.icoã€‚</p><p>ã€€ã€€ä¸ºäº†ç®€å•ç¾åŒ–ä¸€ä¸‹ Windows Terminal ç•Œé¢ï¼Œéœ€è¦å®‰è£… <a target="_blank" rel="noopener" href="https://github.com/microsoft/cascadia-code/releases">Cascadia Code GitHub releases page</a> ä¸­ Cascadia Code PL æˆ– Cascadia Mono PL å­—ä½“ï¼ŒShaun å› ä¸ºåªæ˜¯å°é²œæ‰€ä»¥å°±ç®€å•é…ç½®äº†ä¸€ä¸‹ï¼š</p><div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="false" data-lang="PLAINTEXT"><div class="code-copy"></div><figure class="highlight hljs plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">&quot;theme&quot;: &quot;dark&quot;,</span><br><span class="line">&quot;profiles&quot;:</span><br><span class="line">&#123;</span><br><span class="line">    &quot;defaults&quot;:</span><br><span class="line">    &#123;</span><br><span class="line">        // Put settings here that you want to apply to all profiles.</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;list&quot;:</span><br><span class="line">    [</span><br><span class="line">        &#123;</span><br><span class="line">            // Make changes here to the powershell.exe profile.</span><br><span class="line">            &quot;guid&quot;: &quot;&#123;61c54bbd-c2c6-5271-96e7-009a87ff44bf&#125;&quot;,</span><br><span class="line">            &quot;name&quot;: &quot;Windows PowerShell&quot;,</span><br><span class="line">            &quot;commandline&quot;: &quot;powershell.exe&quot;,</span><br><span class="line">            &quot;hidden&quot;: false,</span><br><span class="line">            &quot;startingDirectory&quot; : &quot;.&quot;,</span><br><span class="line">            &quot;acrylicOpacity&quot; : 0.00000001,</span><br><span class="line">            &quot;colorScheme&quot; : &quot;Campbell&quot;,</span><br><span class="line">            &quot;cursorColor&quot; : &quot;#00CCFF&quot;,</span><br><span class="line">            &quot;fontFace&quot; : &quot;Cascadia Mono PL&quot;,</span><br><span class="line">            &quot;useAcrylic&quot; : true</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            // Make changes here to the cmd.exe profile.</span><br><span class="line">            &quot;guid&quot;: &quot;&#123;0caa0dad-35be-5f56-a8ff-afceeeaa6101&#125;&quot;,</span><br><span class="line">            &quot;name&quot;: &quot;å‘½ä»¤æç¤ºç¬¦&quot;,</span><br><span class="line">            &quot;commandline&quot;: &quot;cmd.exe&quot;,</span><br><span class="line">            &quot;hidden&quot;: false</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;guid&quot;: &quot;&#123;b453ae62-4e3d-5e58-b989-0a998ec441b8&#125;&quot;,</span><br><span class="line">            &quot;hidden&quot;: false,</span><br><span class="line">            &quot;name&quot;: &quot;Azure Cloud Shell&quot;,</span><br><span class="line">            &quot;source&quot;: &quot;Windows.Terminal.Azure&quot;</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure></div><p>ã€€ã€€ä¸ºäº†åœ¨ VSCode ä¸­ä½¿ç”¨ Windows Terminal ï¼Œéœ€è¦ç®€å•è®¾ç½®ä¸€ä¸‹é»˜è®¤ç»ˆç«¯ï¼Œé¦–å…ˆå°†è®¾ç½®é»˜è®¤ç»ˆç«¯ <code>"terminal.integrated.shell.windows"</code> æ³¨é‡Šæ‰æˆ–è€…ç›´æ¥ä¸è®¾ç½®ï¼Œæ·»åŠ è®¾ç½®ï¼š</p><div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="false" data-lang="PLAINTEXT"><div class="code-copy"></div><figure class="highlight hljs plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&quot;terminal.external.windowsExec&quot;: &quot;C:\\Users\\[user_name]\\AppData\\Local\\Microsoft\\WindowsApps\\wt.exe&quot;,</span><br><span class="line">&quot;terminal.integrated.fontFamily&quot;: &quot;Cascadia Mono PL&quot;,</span><br></pre></td></tr></table></figure></div><p>å¦‚æ­¤å¯åœ¨ VSCode ä¸­é›†æˆ Windows Terminalï¼Œå¹¶å°†å…¶ä½œä¸ºé»˜è®¤ç»ˆç«¯ã€‚</p><h2 id="åè®°">åè®°</h2><p>ã€€ã€€åœ¨è¿™ä¸¤ä¸‰å¤©çš„ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œå‘ç° Windows Terminal å’Œ Cmder ä¹‹é—´è¿˜æ˜¯å­˜åœ¨å·®è·çš„ï¼ˆå¦‚åœ¨è¾“å…¥å‘½ä»¤è¿‡å¿«çš„æ—¶å€™ï¼Œtab é”®è¡¥å…¨è·Ÿä¸ä¸Šç­‰é—®é¢˜ï¼‰ï¼Œæš‚æ—¶å°±ä¸¤è€…å…ˆå¹¶è¡Œä½¿ç”¨ä¸€æ®µæ—¶é—´å§ï¼Œç­‰åç»­æ›´æ–°å·¨ç¡¬ä¿®å¤è¿™äº›é—®é¢˜ï¼Œç›¸ä¿¡ Windows Terminal æ˜¯èƒ½ä»£æ›¿ Cmder æˆä¸º Windows é¦–é€‰ç»ˆç«¯çš„ã€‚</p><h2 id="å‚è€ƒèµ„æ–™">å‚è€ƒèµ„æ–™</h2><p>[1] <a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_44831027/article/details/107068177">ã€é¿å‘ã€‘PowerShellï¼šå› ä¸ºåœ¨æ­¤ç³»ç»Ÿä¸Šç¦æ­¢è¿è¡Œè„šæœ¬ é™„åŸå› å’Œè§£å†³åŠæ³•</a></p><p>[2] <a target="_blank" rel="noopener" href="https://www.zhihu.com/question/325948326">æ–°å‘å¸ƒçš„Windows Terminalå¦‚ä½•æ·»åŠ åˆ°å³é”®èœå•ï¼Ÿ</a></p><p>[3] <a target="_blank" rel="noopener" href="https://offering.solutions/blog/articles/2020/03/24/setting-windows-terminal-as-default-external-terminal-in-visual-studio-code/">Setting Windows Terminal as Default External Terminal in Visual Studio Code</a></p></div><div class="article-content-more"><button type="button" class="article-more--link"><i class="fa fa-angle-double-down fa-3x" aria-hidden="true"></i></button></div></section></article><nav id="pagination--nav" class="text-center"><a class="extend prev" rel="prev" href="/page/2/">&lt;&lt; Prev</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><a class="page-number" href="/page/5/">5</a><span class="space">&hellip;</span><a class="page-number" href="/page/8/">8</a><a class="extend next" rel="next" href="/page/4/">Next &gt;&gt;</a></nav></main><div id="site-tool"><div class="scroll"><a href="#header"><i class="fa fa-arrow-up"></i></a> <a href="#footer"><i class="fa fa-arrow-down"></i></a></div><div></div></div><aside id="right-col" class="col-lg-3 col-sm-12"><div id="sidebar-sticky--bottom"></div><div id="sidebar"><header class="author-info div-border"><a href="/"><img class="header-avatar" src="/img/avatar.jpg"></a><h1 class="header-author"><a href="/" title="Hi Mate" data-toggle="tooltip">Shaun</a></h1><p class="header-slogan">æ±‚çŸ¥ï¼ è§†ç•Œï¼ æœªæ¥ï¼ â†–(^Ï‰^)â†—</p><div class="social-info"><a class="social-icon" target="_blank" href="http://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&email=qNvAyd3G0d3JxujOx9DFycHEhsvHxQ" title="envelope" data-toggle="tooltip"><i class="fa fa-envelope" aria-hidden="true"></i> </a><a class="social-icon" target="_blank" href="https://github.com/cniter" title="github" data-toggle="tooltip"><i class="fa fa-github" aria-hidden="true"></i> </a><a class="social-icon" target="_blank" href="/atom.xml" title="rss" data-toggle="tooltip"><i class="fa fa-rss" aria-hidden="true"></i> </a><a class="social-icon" target="_blank" href="http://sighttp.qq.com/authd?IDKEY=4faf682653b3b7f5f47b9cb6d2bb8b81de8fa7a8fb8cee12" title="qq" data-toggle="tooltip"><i class="fa fa-qq" aria-hidden="true"></i></a></div></header><div class="search div-border" title="æœç´¢" data-toggle="tooltip"><form id="search-form"><input type="text" id="local-search--input" name="q" results="0" placeholder=" Search..." autocomplete="off" autocorrect="off"> <i class="fa fa-times" onclick="resetSearch()"></i></form><div id="local-search--result"></div><p class="no-result">No results found</p></div><div id="tagcloud" class="tagcanvas div-border" title="æ ‡ç­¾" data-toggle="tooltip"><canvas width="200" height="200" id="tagcloud-canvas"><p>Anything in here will be replaced on browsers that support the canvas element</p><ul><li><a href="/tags/algorithm/" data-weight="8">algorithm</a></li><li><a href="/tags/android/" data-weight="2">android</a></li><li><a href="/tags/bigdata/" data-weight="2">bigdata</a></li><li><a href="/tags/c-cpp/" data-weight="6">c/cpp</a></li><li><a href="/tags/clustering/" data-weight="1">clustering</a></li><li><a href="/tags/container/" data-weight="1">container</a></li><li><a href="/tags/css/" data-weight="1">css</a></li><li><a href="/tags/cv/" data-weight="5">cv</a></li><li><a href="/tags/devtool/" data-weight="1">devtool</a></li><li><a href="/tags/ffmpeg/" data-weight="1">ffmpeg</a></li><li><a href="/tags/geomesa/" data-weight="1">geomesa</a></li><li><a href="/tags/geometry/" data-weight="4">geometry</a></li><li><a href="/tags/gfw/" data-weight="1">gfw</a></li><li><a href="/tags/github/" data-weight="1">github</a></li><li><a href="/tags/gl/" data-weight="1">gl</a></li><li><a href="/tags/golang/" data-weight="2">golang</a></li><li><a href="/tags/hexo/" data-weight="8">hexo</a></li><li><a href="/tags/http/" data-weight="1">http</a></li><li><a href="/tags/integration/" data-weight="1">integration</a></li><li><a href="/tags/java/" data-weight="2">java</a></li><li><a href="/tags/k8s/" data-weight="1">k8s</a></li><li><a href="/tags/language/" data-weight="3">language</a></li><li><a href="/tags/latex/" data-weight="1">latex</a></li><li><a href="/tags/mapbox/" data-weight="1">mapbox</a></li><li><a href="/tags/markdown/" data-weight="1">markdown</a></li><li><a href="/tags/matlab/" data-weight="2">matlab</a></li><li><a href="/tags/network/" data-weight="1">network</a></li><li><a href="/tags/note/" data-weight="7">note</a></li><li><a href="/tags/numerical/" data-weight="1">numerical</a></li><li><a href="/tags/opencv/" data-weight="11">opencv</a></li><li><a href="/tags/opendrive/" data-weight="1">opendrive</a></li><li><a href="/tags/opengl/" data-weight="1">opengl</a></li><li><a href="/tags/python/" data-weight="1">python</a></li><li><a href="/tags/qt/" data-weight="2">qt</a></li><li><a href="/tags/record/" data-weight="14">record</a></li><li><a href="/tags/search/" data-weight="1">search</a></li><li><a href="/tags/segmentation/" data-weight="2">segmentation</a></li><li><a href="/tags/tensorflow/" data-weight="1">tensorflow</a></li><li><a href="/tags/thought/" data-weight="3">thought</a></li><li><a href="/tags/unix-like/" data-weight="3">unix-like</a></li><li><a href="/tags/vscode/" data-weight="1">vscode</a></li></ul></canvas><script src="/plugins/TagCanvas/jquery.tagcanvas.min.js" type="text/javascript"></script><script type="text/javascript">$(document).ready((function(){$("#tagcloud-canvas").tagcanvas({initial:[.1,-.1],activeCursor:'url("/img/cursor/link.cur"), auto',reverse:!0,depth:.75,weight:!0,weightFrom:"data-weight",weightMode:"both",weightSizeMin:15,weightSizeMax:50})||$("#tagcloud").hide()}))</script></div><div class="friends div-border" title="å‹é“¾" data-toggle="tooltip"><a target="_blank" class="friends-link" href="https://cniter.github.io">Shaun&#39;s Space</a></div><div class="revolvermaps div-border" title="è®¿å®¢" data-toggle="tooltip"><a target="_blank" rel="noopener" href="http://livetrafficfeed.com/3d-visitor-maps" id="LTF_3d_maps">Live 3D Globes Visitor</a><script type="text/javascript" src="//cdn.livetrafficfeed.com/static/3d-maps/live.js?o=000080&amp;l=339966&amp;b=339966&amp;c=ff0000&amp;root=1&amp;timezone=Asia%2FShanghai&amp;s=" async></script></div></div><div class="toc-card"><div class="toc-card--head"><i class="fa fa-angle-up" aria-hidden="true"></i></div><div id="toc" class="toc-card--content"><strong class="toc-title">æ–‡ç« åˆ—è¡¨</strong><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/posts/36b343ff.html">HTTP è¶…æ—¶æµ…è§</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/6be57d7f.html">å…³äºä¸­å­¦çš„å­¦ä¹ æ–¹æ³•</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/619020f7.html">VNSWRR ç®—æ³•æµ…è§£</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/2eb69b33.html">è®°ä¸€æ¬¡èµ„æºä¸é‡Šæ”¾çš„é—®é¢˜</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/dbbe01e5.html">ç¤¾ç•œä¸‰å¹´ï¼Œé£é›¨å…¼ç¨‹</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/8e1d1e1d.html">2021 å¹´å°ç»“</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/4b1f50ff.html">M1 ä¸ªäººé…ç½®</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/9c9b4035.html">Scala å¤šçº¿ç¨‹ç¼–ç¨‹å°ç»“</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/720275bd.html">Google S2 Geometry æµ…è§£</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/55e674ff.html">K8S åº”ç”¨å¼€å‘æŒ‡åŒ—</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/81321445.html">OpenGLåæ ‡ç³»ç»Ÿä¸æ¸²æŸ“ç®¡çº¿</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/8d3d87a2.html">Scala å­¦ä¹ å°ç»“</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/28416d7c.html">2020å¹´å°ç»“</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/b59e3e7b.html">LinuxæœåŠ¡å™¨è¿ç»´æ–‡æ¡£</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/489fa7b3.html">æ—¶ç©ºæŸ¥è¯¢ä¹‹ECQL</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/9978824c.html">GeoMesaè¸©å‘æŒ‡åŒ—</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/3692cd6.html">IDEAä½¿ç”¨Dockerç¯å¢ƒå¼€å‘è°ƒè¯•</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/af5e9ace.html">å¤§æ•°æ®ç¯å¢ƒæ­å»ºç¬”è®°</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/ae780057.html">è®¾è®¡æ¨¡å¼æµ…è°ˆ</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/eee1c041.html">ç§¯åˆ†è®¡ç®—</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/a5661762.html">Geometryå¢é‡æ›´æ–°</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/e225d8fd.html">Mapboxæ˜¾ç¤ºGeoServeråœ°å›¾</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/3d8ab974.html">Dockerä½¿ç”¨å°ç»“</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/6694a214.html">ç©ºé—´ä¸­ä¸‰è§’å½¢ä¸ä¸‰è§’å½¢ç›¸äº¤</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/5315fcfd.html">è®¡ç®—å‡ ä½•åŸºç¡€</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/b7d79231.html">OpenDriveè§£æå°ç»“</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/39a3c99e.html">ä¸€å¼ çº¹ç†åšå¤©ç©ºç›’</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/a250bb21.html">Windows Terminal å°é²œå°è®°</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/ae5f9dce.html">è¯»å¤§å­¦</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/cf97ba7c.html">2019ï¼Œæ—¢æ˜¯ç»“æŸåˆæ˜¯å¼€å§‹</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/ff29de94.html">å¿«é€Ÿåˆ¤æ–­ä¸‰è§’å½¢ä¸é•¿æ–¹ä½“ç›¸äº¤</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/70a807da.html">ç½‘é¡µèœå•çº¯ css å®ç°</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/abe58f8c.html">ä¸ªäººæ¸¸è®°</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/26d437be.html">hexo-theme-chiä¸»é¢˜æ›´æ–°å°è®°</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/3578e309.html">ï¼»è¯‘ï¼½ä¸ºä»€ä¹ˆæ·±åº¦å­¦ä¹ æ²¡æœ‰å–ä»£ä¼ ç»Ÿçš„è®¡ç®—æœºè§†è§‰</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/37b89a23.html">å†ä¹Ÿä¸è§ï¼Œ18å¹´</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/ac4679b5.html">hexo-theme-chiä¸»é¢˜å¼€å‘å°è®°</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/64889158.html">Matlabå’ŒOpenCVæ··åˆç¼–ç¨‹å°ç»“</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/be7949e4.html">Androidå®è·µå°ç»“</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/fc1165b7.html">C++æ•°ç»„ä¸­çš„å‘</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/cafdd60d.html">Androidå¼€å‘ç¯å¢ƒé…ç½®</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/27a4c8b6.html">Windowså®ç”¨æŠ€å·§</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/6315717b.html">FFmpegæå–ä¸åˆå¹¶å‘½ä»¤ä½¿ç”¨å°ç»“</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/fd823bf9.html">è§£å†³VSCodeä½¿ç”¨Cmderä½œä¸ºé»˜è®¤ç»ˆç«¯é—®é¢˜</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/fddd1e17.html">å›¾å‰²ç®—æ³•ä¹‹NCutsæµ…è§</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/c42ff8d4.html">å›¾å‰²ç®—æ³•ä¹‹Graph Cutsæµ…è§</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/b93d943b.html">C++ä¸­staticç”¨æ³•å°ç»“</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/8fb9f004.html">æ–æ³¢é‚£å¥‘æ•°åˆ—çš„ä¸‰ç§å†™æ³•</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/bcdf334e.html">LaTexè¯­æ³•æŒ‡åŒ—</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/982ff584.html">æœç´¢æŠ€å·§</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/7cebf0ee.html">17å¹´èµ°äº†ï¼Œ18å¹´æ¥äº†</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/e124baa1.html">çŸ©é˜µçš„åº”ç”¨ä¹‹å›¾åƒä»¿å°„å˜æ¢</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/aef52be2.html">æœ¬äººå¸¸ç”¨å°å·¥å…·å®‰åˆ©</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/376168c6.html">è§£å†³æ— æ³•æ‰“å¼€æŸä¸ªç½‘é¡µé—®é¢˜</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/5f54aa2c.html">PyQt5ä½¿ç”¨å°ç»“</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/82d3b275.html">TensorFlow Object Detection APIä½¿ç”¨å°ç»“</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/2a3d46b0.html">Cè¯­è¨€ä¸­æ•´å‹æå‡é—®é¢˜</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/dece8eba.html">TXTæ•°æ®è½¬OpenCVä¸­çš„Matæ•°æ®</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/e8b35736.html">OpenCVä¸­æ»‘åŠ¨æ¡å’Œé¼ æ ‡äº‹ä»¶å“åº”æ“ä½œçš„ä½¿ç”¨å°ç»“</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/b6fb6109.html">åˆ©ç”¨å›è°ƒå‡½æ•°è®¡ç®—å‡½æ•°è¿è¡Œæ—¶é—´</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/df943c4f.html">è®ºå¦‚ä½•ç§‘å­¦çš„ä¸Šç½‘</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/b1e9411b.html">Hexoçš„SPFKä¸»é¢˜ä¿®æ”¹å°è®°</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/22c3daf1.html">è§£å†³Qtä¸­Qlabelæ˜¾ç¤ºOpenCVçš„Matæ•°æ®å›¾åƒäº§ç”Ÿæ‰­æ›²ç°è±¡é—®é¢˜</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/509ee93b.html">è§£å†³OpenCV-2.4.11è°ƒç”¨æ‘„åƒå¤´æ˜¾ç¤ºæ‹æ‘„è§†é¢‘å‡ºé”™é—®é¢˜</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/3bc0decc.html">Hexoæ·»åŠ å„ç§å°éƒ¨ä»¶</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/fd0f8195.html">OpenCVä¸­æ˜¾è‘—æ€§æ£€æµ‹ç®—æ³•çš„ä½¿ç”¨</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/35132cb7.html">OpenCVä¸­Selective Searchç®—æ³•çš„ä½¿ç”¨</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/170c76cc.html">åˆ«äº†ï¼Œæ¼†é»‘çš„è±¡ç‰™å¡”</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/c3f26b1.html">Win10ä»¥æ ‘å½¢ç»“æ„æ˜¾ç¤ºæ–‡ä»¶ç›®å½•ç»“æ„</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/68065b99.html">ACGNä½œå“ä¸ªäººå°è±¡ç®€è¯„</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/4f6225b7.html">Hexoæ·»åŠ ç«™å†…æœ¬åœ°æœç´¢</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/302a6244.html">ç”¨OpenCVæ˜¾ç¤ºOpenGLå›¾å½¢</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/7df528b4.html">Win10ï¼‹VS2013ï¼‹CMake-guiç¼–è¯‘å’Œé…ç½®OpenCV-3.2.0</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/17017530.html">MyThoughts</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/7d5bc07b.html">è§£å†³å†™ä¸Šç¯‡æ–‡æ¡£â€œHexo+GitHubæ­å»ºä¸ªäººåšå®¢â€é‡åˆ°çš„é—®é¢˜</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/d7965b48.html">Hexo+GitHubæ­å»ºä¸ªäººåšå®¢</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/4a17b156.html">Hello World</a></li></ul></div></div></aside></div></div><span id="cursor-trail"></span> <span class="click-halo"></span><footer id="footer" class="text-center"><div class="copyright-info">&copy; 2017 - 2024 <a href="/">Shaun</a></div><span class="site-visitor"><i class="fa fa-user-o" aria-hidden="true"></i> <span id="busuanzi_value_site_uv"><i class="fa fa-spinner fa-spin"></i></span> &nbsp;|&nbsp; <i class="fa fa-eye" aria-hidden="true"></i> <span id="busuanzi_value_site_pv"><i class="fa fa-spinner fa-spin"></i></span> &nbsp;|&nbsp; <i class="fa fa-hand-o-up" aria-hidden="true"></i> <span id="busuanzi_value_page_pv"><i class="fa fa-spinner fa-spin"></i></span></span><div class="site-info"><a href="http://hexo.io/" target="_blank">Hexo </a>theme <a href="https://github.com/cniter/hexo-theme-chi" target="_blank">Chi </a>by <a href="https://github.com/cniter" target="_blank">Shaun</a></div></footer><script type="text/javascript" async src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML" integrity="sha256-WUED7NFzpsmHtLO7bswSz4JSfkhE+cD4ncKeOznwFSY=" crossorigin="anonymous"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
            processEscapes: true,
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }

        , TeX: {
            extensions: ["extpfeil.js"]
        }
    });
    
    MathJax.Hub.Queue(function() {
        let all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';                 
        }       
    });</script><script type="text/javascript">const MutationObserver=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,config={attributes:!0,childList:!0,characterData:!0};let target=document.querySelector("#local-search--result"),$local_search_result=$("#local-search--result"),$no_result=$(".no-result"),observer=new MutationObserver((function(e){e.forEach((function(e){$local_search_result.text()||""==$local_search_result.html()?$no_result.hide():$no_result.show(200)}))})),inputArea=document.querySelector("#local-search--input"),getSearchFile=function(){let e="search.xml";0==e.length&&(e="search.xml"),searchFunc("/"+e,"local-search--input","local-search--result"),observer.observe(target,config)};inputArea.onfocus=function(){getSearchFile()};let $resetButton=$("#search-form .fa-times"),$resultArea=$("#local-search--result");inputArea.oninput=function(){$resetButton.show()};let resetSearch=function(){$resultArea.html(""),document.querySelector("#search-form").reset(),$resetButton.hide(),$no_result.hide(),observer.disconnect()};inputArea.onkeydown=function(e){if(13==e.keyCode)return!1};let searchFunc=function(e,t,r){"use strict";$.ajax({url:e,dataType:"xml",success:function(e){let n=$("entry",e).map((function(){return{title:$("title",this).text(),content:$("content",this).text(),url:$("url",this).text()}})).get(),l=document.getElementById(t),s=document.getElementById(r);l.addEventListener("input",(function(){let e='<ul class="search-result--list">',t=this.value.trim().toLowerCase().split(/[\s\-]+/);s.innerHTML="",this.value.trim().length<=0||(n.forEach((function(r){let n=!0,l=r.title.trim().toLowerCase(),s=r.content.trim().replace(/<[^>]+>/g,"").toLowerCase(),c=r.url,o=-1,a=-1,u=-1;if(""!=l&&""!=s&&t.forEach((function(e,t){o=l.indexOf(e),a=s.indexOf(e),o<0&&a<0?n=!1:(a<0&&(a=0),0==t&&(u=a))})),n){e+="<li><a href='"+c+"' class='search-result--title' target='_blank'>> "+l+"</a>";let n=r.content.trim().replace(/<[^>]+>/g,"");if(u>=0){let r=u-6,l=u+6;r<0&&(r=0),0==r&&(l=10),l>n.length&&(l=n.length);let s=n.substr(r,l);t.forEach((function(e){let t=new RegExp(e,"gi");s=s.replace(t,'<em class="search-keyword">'+e+"</em>")})),e+='<p class="search-result">'+s+"...</p>"}}})),s.innerHTML=e)}))}})}</script><script>function loadScript(e,t){let a=document.createElement("script");a.type="text/javascript",a.async=!0,a.readyState?a.onreadystatechange=function(){"loaded"!=a.readyState&&"complete"!=a.readyState||(a.onreadystatechange=null,t())}:a.onload=function(){t()},a.src=e,document.getElementsByTagName("body")[0].appendChild(a)}</script><script type="module" src="/js/main.js"></script><script>$(document).ready((function(){$("del").attr("title","ä½ çŸ¥é“çš„å¤ªå¤šäº†ãƒ¾(â–¼ï¾â–¼ï¼›) (#ï½€çš¿Â´ãƒ¡)"),$(".toc-card").width($("#right-col").width()),$("a.footnote-ref").each((function(t,e){let i=$(this).parents("article").attr("id"),o=$(this).attr("href");e.setAttribute("data-toggle","tooltip"),e.setAttribute("data-html","true"),e.setAttribute("title",$("#"+i+" "+o).html())})),setInterval(()=>{$("#site-bg").fadeTo(1e3,.1,()=>{$("#site-bg").css("background-image",'url("/img/site-bg/bg-'+Math.floor(8*Math.random())+'.jpg")')}),$("#site-bg").fadeTo(2e3,.2)},3e4),siteBgElem=document.getElementById("site-bg"),siteBgElem&&siteBgElem.clientWidth>0&&siteBgElem.clientHeight>0&&loadScript("/js/widget/canvas-nest.js",()=>{new CanvasNest(siteBgElem,{opacity:1,pointColor:"255,255,0",color:"255,255,0",count:30})})})),$(window).on("load",(function(){$("#sidebar-sticky--bottom").height($("#right-col").height()-$("#sidebar").height()-$("#footer").height())})),$((function(){$("[data-toggle='tooltip']").tooltip()}))</script></body></html>