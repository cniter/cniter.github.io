<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><title>Shaun&#39;s Space</title><meta name="description" content="Shaun之所见所学所想所得"><link rel="icon" href="/img/favicon.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha256-eSi1q2PG6J7g7ib17yAaWMcrr5GrtohYChqibrV7PBE=" crossorigin="anonymous"><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/fork-awesome/1.1.5/css/fork-awesome.min.css" integrity="sha256-P64qV9gULPHiZTdrS1nM59toStkgjM0dsf5mK/UwBV4=" crossorigin="anonymous"><script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><script src="//cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha256-ZvOgfh+ptkpoa2Y4HkRY28ir89u/+VRyDE7sB7hEEcI=" crossorigin="anonymous"></script><script src="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha256-VsEqElsCHSGmnmHXGQzvoWjWwoznFSZc6hs7ARLRacQ=" crossorigin="anonymous"></script><script src="//cdnjs.cloudflare.com/ajax/libs/pace/1.0.2/pace.min.js" integrity="sha256-EPrkNjGEmCWyazb3A/Epj+W7Qm2pB9vnfXw+X6LImPM=" crossorigin="anonymous"></script><script src="//cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/gitalk/1.4.1/gitalk.min.css" integrity="sha256-5MJj8IfwScTpk3YXO1VPUpk7u3txgZVw7ekAZdHB4Ks=" crossorigin="anonymous"><script src="//cdnjs.cloudflare.com/ajax/libs/gitalk/1.4.1/gitalk.min.js" integrity="sha256-qHkbkGiVGI9wotF374DSGYPPERWwTAxDwXoKCNoZHPk=" crossorigin="anonymous"></script><link rel="stylesheet" href="/css/style.css"><style>body{cursor:url(/img/cursor/normal.cur),auto}#navbar-toggler--btn,.highlight-wrap[data-lang]::before,a,button{cursor:url(/img/cursor/link.cur),auto}</style><script>const bdshareURL = "/plugins/baidushare/";</script></head><body><!--[if lt IE 9]>
        <link rel="stylesheet" href="/css/ie9.css">
        <div class="alert alert-danger topframe" role="alert">
            嘿，朋友！您的浏览器已<strong>过期</strong>，不建议继续食用。
            <a target="_blank" class="alert-link" href="http://browsehappy.com">这里</a> 有些新玩意儿，何不试试？
        </div>
    <![endif]--><header id="header"><nav id="navbar" class="navbar navbar-expand-md"><div class="container"><h1 id="site-title"><a href="/" class="navbar-brand"><img src="/img/favicon.png"> <span>Shaun&#39;s Space</span></a></h1><button id="navbar-toggler--btn" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsibleNavbar"><span><i class="fa fa-list-ul" aria-hidden="true"></i></span></button><div class="collapse navbar-collapse" id="collapsibleNavbar"><ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="/" title="首页" data-toggle="tooltip" data-placement="bottom"><i class="nav-icon fa fa-home"></i> 首页</a></li><li class="nav-item"><a class="nav-link" href="/archives" title="所有文章" data-toggle="tooltip" data-placement="bottom"><i class="nav-icon fa fa-archive"></i> 归档</a></li><li class="nav-item"><a class="nav-link" href="/categories" title="全部分类" data-toggle="tooltip" data-placement="bottom"><i class="nav-icon fa fa-folder"></i> 分类</a></li><li class="nav-item"><a class="nav-link" href="/tags" title="全部标签" data-toggle="tooltip" data-placement="bottom"><i class="nav-icon fa fa-tags"></i> 标签</a></li><li class="nav-item"><a class="nav-link" href="/about" title="关于本站" data-toggle="tooltip" data-placement="bottom"><i class="nav-icon fa fa-user"></i> 关于</a></li></ul></div></div></nav></header><div class="container"><div class="row"><aside id="left-col" class="col-md-1"></aside><main class="col-lg-8 col-sm-12"><article id="post-Hexo添加各种小部件" class="article div-border"><header class="article-header"><span class="article-date article-title--index"><i class="fa fa-calendar" aria-hidden="true"></i> <a href="/posts/3bc0decc.html"><time datetime="2017-09-15T12:23:05.000Z">2017-09-15</time></a></span><section class="article-title article-title--index"><a href="/posts/3bc0decc.html">Hexo添加各种小部件</a></section><div class="article-label"><div class="article-category label"><i class="fa fa-book" aria-hidden="true"></i> <a class="color3 article-category-link" href="/categories/建站小记/">建站小记</a></div><div class="article-tag label"><i class="fa fa-bookmark" aria-hidden="true"></i> <a class="color1 article-tag-link" href="/tags/hexo/">hexo</a></div></div></header><section class="article-content"><div class="article-content--excerpt"><h2 id="前言">前言</h2><p>　　Shaun 目前还在使用对 Hexo 的主题 <strong>SPFK</strong> 自行魔改的那个主题（所谓的魔改也就是对照着 <strong>black-blue</strong> 主题修改了部分 CSS，然后又添加了一个站内搜索功能 (&gt;^ω^&lt;)），主题 SPFK 主体的东西其实都没改变。现在正逐渐将其完善中，遂有此文。</p></div><div class="article-content--all"><h2 id="前言">前言</h2><p>　　Shaun 目前还在使用对 Hexo 的主题 <strong>SPFK</strong> 自行魔改的那个主题（所谓的魔改也就是对照着 <strong>black-blue</strong> 主题修改了部分 CSS，然后又添加了一个站内搜索功能 (&gt;^ω^&lt;)），主题 SPFK 主体的东西其实都没改变。现在正逐渐将其完善中，遂有此文。</p><a id="more"></a><h2 id="添加-qq-邮箱联系">添加 QQ 邮箱联系</h2><p><strong><em>添加日期：2017-9-15</em></strong></p><p>　　进入 <a href="http://openmail.qq.com/" target="_blank" rel="external">QQ邮箱开放平台</a>，点击“<strong>获取邮我按钮</strong>”，登录 QQ 之后继续点击该按钮，因为 Shaun 不需要其样式，只需要其链接即可，所以就默认样式，直接点击“<strong>获取代码</strong>”即可，Shaun 默认的“<strong>HTML代码</strong>”为：</p><div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="false" data-lang="HTML"><figure class="highlight hljs html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">target</span>=<span class="string">"_blank"</span> <span class="attr">href</span>=<span class="string">"http://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&amp;email=qNvAyd3G0d3JxujOx9DFycHEhsvHxQ"</span> <span class="attr">style</span>=<span class="string">"text-decoration:none;"</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"http://rescdn.qqmail.com/zh_CN/htmledition/images/function/qm_open/ico_mailme_01.png"</span>/&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></div></pre></td></tr></table></figure></div><p>提取其中的 href，即<code>http://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&amp;email=qNvAyd3G0d3JxujOx9DFycHEhsvHxQ</code>，将该链接添加到 <strong>主题配置文件</strong> 中，具体如下：</p><div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="false" data-lang="YAML"><figure class="highlight hljs yaml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="attr">subnav:</span></div><div class="line"><span class="attr">  mail:</span> <span class="string">"http://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&amp;email=qNvAyd3G0d3JxujOx9DFycHEhsvHxQ"</span></div></pre></td></tr></table></figure></div><p>重新部署站点即可发现对应的邮箱图标，点击该图标可直接给 Shaun 发邮件。</p><h2 id="添加-qq-交谈链接">添加 QQ 交谈链接</h2><p><strong><em>添加日期：2017-9-15</em></strong></p><p>　　进入 <a href="http://shang.qq.com/v3/widget.html" target="_blank" rel="external">QQ推广</a>，点击上方的“<strong>推广工具</strong>”，若没登录 QQ 则先登录 QQ，组件样式同样默认即可，这里需要注意的是，需要点击左边的“<strong>设置</strong>”，下滚页面，找到“<strong>安全级别设置</strong>”，如下</p><blockquote><p><h><strong>安全级别设置</strong></h></p><p><input name="qq_security" type="radio">完全公开（推荐商家，客服等用户使用，代码中显示QQ号码，易于推广）</p><p><input name="qq_security" type="radio">安全加密（推荐博主，论坛用户等使用，代码中不显示QQ号码）</p></blockquote><p>选中“<strong>安全加密</strong>”，不然该选项默认的为完全公开，这样 QQ 号码就直接会显示在代码中，不利于隐私保护，选中之后，点击“<strong>保存</strong>”。保存之后，再次点击“<strong>推广工具</strong>”，即可发现下方的复制代码区域的 HTML 代码已看不到明码显示的 QQ 号，（若还是能看到 QQ 号，没有任何变化，可关闭该界面，重启浏览器重新进入该界面），Shaun 的“<strong>复制这段代码并将其粘贴到您的网页上</strong>”下方区域的默认的代码为：</p><div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="false" data-lang="HTML"><figure class="highlight hljs html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">target</span>=<span class="string">"_blank"</span> <span class="attr">href</span>=<span class="string">"http://sighttp.qq.com/authd?IDKEY=b1afd83745b30922bc98e020847b86a5148d2114e62e8422"</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">border</span>=<span class="string">"0"</span>  <span class="attr">src</span>=<span class="string">"http://wpa.qq.com/imgd?IDKEY=b1afd83745b30922bc98e020847b86a5148d2114e62e8422&amp;pic=52"</span> <span class="attr">alt</span>=<span class="string">"点击这里给我发消息"</span> <span class="attr">title</span>=<span class="string">"点击这里给我发消息"</span>/&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></div></pre></td></tr></table></figure></div><p>提取其中的 href，即<code>http://sighttp.qq.com/authd?IDKEY=b1afd83745b30922bc98e020847b86a5148d2114e62e8422</code>，将该链接添加到 <strong>主题配置文件</strong> 中，具体如下：</p><div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="false" data-lang="YAML"><figure class="highlight hljs yaml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="attr">subnav:</span></div><div class="line"><span class="attr">  QQ:</span> <span class="string">"http://sighttp.qq.com/authd?IDKEY=4faf682653b3b7f5f47b9cb6d2bb8b81de8fa7a8fb8cee12"</span></div></pre></td></tr></table></figure></div><p>重新部署站点即可发现对应的 QQ 图标，点击该图标可直接给 Shaun 发临时 QQ 消息。</p><h2 id="添加用户访问统计信息小工具-revolvermaps">添加用户访问统计信息小工具 —— RevolverMaps</h2><p><strong><em>添加日期：2017-10-12</em></strong></p><p>　　由于 Shaun 暂时不想搞 SEO，所以就没有搞站点地图，更没有将 Shaun 的站点提交到百度和 Google 的站长平台上。但 Shaun 又想查看用户访问信息（是不是很矛盾 o(╯□╰)o），而正好 Shaun 看到有个很酷炫的 3D地球 能满足 Shaun 的需求（其实很酷炫才是主要原因 O(∩_∩)O~），所以 Shaun 决定将其加入 Shaun 的站点中（当做一部分装饰品 ๑乛◡乛๑）。该插件的名称为 <a href="http://www.revolvermaps.com/?target=gallery" target="_blank" rel="external">RevolverMaps</a>，具体样式可以去其官网看，Shaun 就不贴图了。设置完前三步之后，第四步让用户复制代码到自己的站点上，注意第四步会让你选“<strong>new map</strong>”还是“<strong>update</strong>”，由于 Shaun 是初次使用，当然是选择默认的“<strong>new map</strong>”，如果是以前使用过，就选择“<strong>update</strong>”，并将原来使用的 script 代码输入出现的文本框并提交，这样就只是更改 3D 地球样式而不会丢失用户访问信息数据。 　　具体添加方法为：将复制的 script 代码放入想显示的某个 div 中。Shaun 得到的 script 代码为：</p><blockquote><p><code>&lt;script type=&quot;text/javascript&quot; src=&quot;//rf.revolvermaps.com/0/0/8.js?i=50om5cdoa3h&amp;amp;m=7&amp;amp;c=ff0000&amp;amp;cr1=ffffff&amp;amp;f=arial&amp;amp;l=49&quot; async=&quot;async&quot;&gt;&lt;/script&gt;</code></p></blockquote><p>　　由于 Shaun 的博客是双栏的，Shaun 当然是把 RevolverMaps 放入左栏中，Shaun 刚开始是把得到的 script 代码放入主题文件夹下 <code>\layout\_partial\left-col.ejs</code> 文件末尾的</p><div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="false" data-lang="HTML"><figure class="highlight hljs html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"> <span class="tag">&lt;/<span class="name">header</span>&gt;</span>                </div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure></div><p><code>&lt;/header&gt;</code> 标签之前（即在 header 的最下端显示 RevolverMaps ），但实际用起来有点不好看；Shaun 又想干脆另外创造一个 div 放置地球，具体思路为：在 birdhouse 图标旁创建一个新的地球图标，再做一个像 birdhouse 图标一样的动画，鼠标移到地球图标时，出现一个 div，该 div 用来放置 RevolverMaps，这一步做到一半（即将一个新的地球图标并排放在 birdhouse 图标旁）发现这个效果感觉更不好看了，如果要改就需要大改了，有点麻烦 o(︶︿︶)o唉；于是 Shaun 看到鼠标放在 birdhouse 图标出现的菜单栏上，想到何不如将该菜单栏在添加一栏，创建一个 div 用来显示 RevolverMaps？事不宜迟，马上就动手添加该 div，具体添加步骤如下：</p><ol type="1"><li><p>首先当然是添加一个“<strong>访问情况</strong>”的列表名称，在主题文件夹下 <code>\layout\_partial\left-col.ejs</code> 文件中 <code>&lt;ul class=&quot;tips-inner&quot;&gt;</code> 下最后一个 <code>&lt;li&gt;</code> 后即 <code>&lt;/ul&gt;</code> 前添加 <code>&lt;li&gt;访问情况&lt;/li&gt;</code>；</p></li><li><p>接着像其它的列表一样（点击该列表 birdhouse 图标就会改变成相应的图标），点击“<strong>访问情况</strong>”会将 birdhouse 图标改变成一个地球小图标，经查阅相应的 css 文件，其它的列表对应的图标好像是利用 div 的边框属性画出来的（某业余前端的猜测+_+），Shaun 目前还没有这样的才能，就只有投机的采用 Font Awesome 中的 <a href="http://fontawesome.io/icon/globe/" target="_blank" rel="external">globe</a> 图标了。在主题文件夹下 <code>\layout\_partial\left-col.ejs</code> 文件中 <code>&lt;div class=&quot;icon-ctn&quot;&gt;</code> 下最末尾即其对应的 <code>&lt;/div&gt;</code> 前添加：</p><div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="false" data-lang="HTML"><figure class="highlight hljs html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"icon-wrap icon-globe hide"</span> <span class="attr">data-idx</span>=<span class="string">"4"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-globe fa-spin fa-2x"</span> <span class="attr">aria-hidden</span>=<span class="string">"true"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure></div><p>这样点击“<strong>访问情况</strong>”会将 birdhouse 图标变成一个旋转的地球小图标了；</p></li><li><p>接下来就需要创建“<strong>访问情况</strong>”对应的 div 了，在主题文件夹下 <code>\layout\_partial\left-col.ejs</code> 文件中 <code>&lt;div class=&quot;switch-wrap&quot;&gt;</code> 下最末尾即其对应的 <code>&lt;/div&gt;</code> 前添加：</p><div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="false" data-lang="HTML"><figure class="highlight hljs html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">section</span> <span class="attr">class</span>=<span class="string">"switch-part switch-part5"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"//rf.revolvermaps.com/0/0/8.js?i=50om5cdoa3h&amp;amp;m=7&amp;amp;c=ff0000&amp;amp;cr1=ffffff&amp;amp;f=arial&amp;amp;l=49"</span> <span class="attr">async</span>=<span class="string">"async"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">section</span>&gt;</span></div></pre></td></tr></table></figure></div><p>这样点击“<strong>访问情况</strong>”就能出现酷炫的 3D 地球了，才怪 :p。这样只能让 3D 地球出现在菜单界面，还需要添加修改相应的 css；</p></li><li><p>最后就是改 css 样式了，本以为这一步很简单，没想到这一步花费 Shaun 最多时间 ╮(╯_╰)╭，修改的样式位于主题文件夹下 <code>\source\css_partial\main.styl</code> 文件中，首先为 switch-part5 添加对应的样式，在 .switch-part4 样式后添加：</p><p></p><div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="false" data-lang="HTML"><figure class="highlight hljs html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">.switch-part5&#123;</div><div class="line">        left: 400%;</div><div class="line">        width: 100%;</div><div class="line">    	//height: 200px;</div><div class="line">        //margin-left: 47px;</div><div class="line">    &#125;</div></pre></td></tr></table></figure></div><p></p><p>做完这一步会发现 3D 地球显示不完全，下面会缺一点，所以还需要继续修改，修改过程如下：Shaun 曾将该 width 减小（如上面代码中的注释），这样确实能让 3D 地球显示完全，但有点小，不是很好看；后面想到没显示完全可能是上层 div（.switch-area）太小且设置了 <code>overflow: hidden;</code>，于是这里 Shaun 首先增加了 .switch-area 的高度，这样确实能解决问题，但会使左栏的滚动条显示出来；所以 Shaun 接着尝试将 .switch-area 的 <code>overflow: hidden;</code> 注释掉，谁想注释掉之后出现了横向滚动条，这样更不好了，于是 Shaun 又更改为 <code>overflow-x: hidden;</code> ，谁想 .switch-area 又出现了竖直滚动条（感觉像拆东墙补西墙 -_-|||），查阅相关资料（<a href="http://blog.csdn.net/qiqingjin/article/details/50413691" target="_blank" rel="external">CSS-overflow特性及总结</a>）得知若 overflow-x 为 hidden，overflow-y 不为 hidden，则 overflow-y 将会自动重置为 auto，所以这里不能这样改，但 <code>overflow: hidden;</code> 还是得注释掉，不然上层 div 撑不开，而且不增加高度的话，还是不能完全显示 3D 地球，因为超出就隐藏了嘛；因为注释掉之后会出现横向滚动条，而又不能修改 .switch-area 的 overflow-x，所以就只能改更上层的 div，这里 Shaun 突然想起上次给左栏添加滚动条时，在 .left-col 下添加了 <code>overflow: auto;</code>，这次不如还修改这里，毕竟 Shaun 只想要竖直滚动条（其实不要滚动条却能滚动最好，但 Shaun 目前还没找到好的解决方案 (╯﹏╰)b），不要横向滚动条，于是将其修改为：</p><p></p><div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="false" data-lang="CSS"><figure class="highlight hljs css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">overflow-y</span>: <span class="selector-tag">auto</span>;</div><div class="line"><span class="selector-tag">overflow-x</span>: <span class="selector-tag">hidden</span>;</div></pre></td></tr></table></figure></div><p></p><p>没想到这样也能解决问题，虽然还是会在左栏出现滚动条，但这样感觉比增加 .switch-area 的高度要好（嗯，应该要好吧 (～ o ～)Y）。看以后能不能改成点击“<strong>访问情况</strong>”时才出现滚动条，点击其它列表则不出现滚动条（其实把滚动条隐藏最好，但网上那个两个 div 嵌套的方法 Shaun 尝试过会出现一些奇怪的问题，等以后再试试吧 ↖((^ω^)↗）。</p></li></ol><hr><p>待续。。。</p><h2 id="后记">后记</h2><p>　　目前就添加这些小组件，以后应该会陆续添加一些其它的小东西 ↖(^ω^)↗。</p><h2 id="参考资料">参考资料</h2><p>[1] <a href="http://jingyan.baidu.com/article/dca1fa6fb5b637f1a44052b4.html" target="_blank" rel="external">如何在自己网站上或者博客上放置QQ邮箱联系反馈</a>（<a href="http://jingyan.baidu.com/tag?tagName=%E9%82%AE%E7%AE%B1" class="uri" target="_blank" rel="external">http://jingyan.baidu.com/tag?tagName=%E9%82%AE%E7%AE%B1</a>）</p><p>[2] <a href="http://www.29mo.com/wltg/363.html" target="_blank" rel="external">如何在自己的博客添加QQ组件</a>（<a href="http://www.29mo.com/category/wltg" class="uri" target="_blank" rel="external">http://www.29mo.com/category/wltg</a>）</p><p>[3] <a href="http://www.feizl.com/html/29610.htm" target="_blank" rel="external">一步一步教你给自己博客添加QQ在线</a>（<a href="http://www.feizl.com/feizhuliu/QQbaodian/" class="uri" target="_blank" rel="external">http://www.feizl.com/feizhuliu/QQbaodian/</a>）</p></div><div class="article-content-more"><button type="button" class="article-more--link"><i class="fa fa-angle-double-down fa-3x" aria-hidden="true"></i></button></div></section></article><article id="post-OpenCV中显著性检测算法的使用" class="article div-border"><header class="article-header"><span class="article-date article-title--index"><i class="fa fa-calendar" aria-hidden="true"></i> <a href="/posts/fd0f8195.html"><time datetime="2017-09-12T10:36:26.000Z">2017-09-12</time></a></span><section class="article-title article-title--index"><a href="/posts/fd0f8195.html">OpenCV中显著性检测算法的使用</a></section><div class="article-label"><div class="article-category label"><i class="fa fa-book" aria-hidden="true"></i> <a class="color3 article-category-link" href="/categories/Study/">Study</a></div><div class="article-tag label"><i class="fa fa-bookmark" aria-hidden="true"></i> <a class="color5 article-tag-link" href="/tags/opencv/">opencv</a></div></div></header><section class="article-content"><div class="article-content--excerpt"><p><font color="#FA8072">本文所用的 OpenCV 版本为 opencv-3.2.0，编程语言为 C++。</font></p><h2 id="前言">前言</h2><p>　　OpenCV 中实现了两种显著性检测算法，分别为 Spectral Residual 算法,出自 <strong>Xiaodi Hou and Liqing Zhang. Saliency detection: A spectral residual approach. In <em>Computer Vision and Pattern Recognition, 2007. CVPR’07. IEEE Conference on</em>, pages 1–8. IEEE, 2007.</strong> 和 Fine Grained Saliency 算法,出自 <strong>Sebastian Montabone and Alvaro Soto. Human detection using a mobile platform and novel features derived from a visual saliency mechanism. In <em>Image and Vision Computing, Vol. 28 Issue 3</em>, pages 391–402. Elsevier, 2010.</strong>。这两种算法同样是在扩展包 opencv_contrib-3.2.0 中，也是由于 opencv <a href="https://github.com/opencv/opencv_contrib/blob/master/modules/saliency/samples/computeSaliency.cpp" target="_blank" rel="external">官方示例程序</a>对初学者不友好（主要是 Shaun 境界不够 o(╯□╰)o），所以 Shaun 对照其<a href="http://docs.opencv.org/3.2.0/d8/d65/group__saliency.html" target="_blank" rel="external">官方文档</a>重新整理了一下。</p></div><div class="article-content--all"><p><font color="#FA8072">本文所用的 OpenCV 版本为 opencv-3.2.0，编程语言为 C++。</font></p><h2 id="前言">前言</h2><p>　　OpenCV 中实现了两种显著性检测算法，分别为 Spectral Residual 算法,出自 <strong>Xiaodi Hou and Liqing Zhang. Saliency detection: A spectral residual approach. In <em>Computer Vision and Pattern Recognition, 2007. CVPR’07. IEEE Conference on</em>, pages 1–8. IEEE, 2007.</strong> 和 Fine Grained Saliency 算法,出自 <strong>Sebastian Montabone and Alvaro Soto. Human detection using a mobile platform and novel features derived from a visual saliency mechanism. In <em>Image and Vision Computing, Vol. 28 Issue 3</em>, pages 391–402. Elsevier, 2010.</strong>。这两种算法同样是在扩展包 opencv_contrib-3.2.0 中，也是由于 opencv <a href="https://github.com/opencv/opencv_contrib/blob/master/modules/saliency/samples/computeSaliency.cpp" target="_blank" rel="external">官方示例程序</a>对初学者不友好（主要是 Shaun 境界不够 o(╯□╰)o），所以 Shaun 对照其<a href="http://docs.opencv.org/3.2.0/d8/d65/group__saliency.html" target="_blank" rel="external">官方文档</a>重新整理了一下。</p><a id="more"></a><h2 id="说明篇">说明篇</h2><p>　　<strong>使用 OpenCV 中实现的显著性检测算法进行显著性检测十分方便简洁，利用以下三个函数就可以：</strong></p><p>创建 Spectral Residual 算法显著性检测对象：<code>static Ptr&lt;StaticSaliencySpectralResidual&gt; cv::saliency::StaticSaliencySpectralResidual::create();</code></p><p>Spectral Residual 算法计算显著性图：<code>bool cv::saliency::StaticSaliencySpectralResidual::computeSaliency(InputArray image, OutputArray saliencyMap);</code></p><p>Fine Grained Saliency 算法显著性检测对应的函数声明同 Spectral Residual 算法类似。</p><p>计算显著性图的二值图：<code>bool cv::saliency::StaticSaliency::computeBinaryMap(InputArray _saliencyMap, OutputArray _binaryMap) ;</code></p><p>具体使用方法可参考实例篇。</p><h2 id="实例篇">实例篇</h2><p>　　使用 OpenCV 中的显著性检测算法需要包含头文件<code>#include &lt;opencv2/saliency.hpp&gt;</code>，具体示例程序如下：</p><div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="false" data-lang="C++"><figure class="highlight hljs c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div><div class="line">189</div><div class="line">190</div><div class="line">191</div><div class="line">192</div><div class="line">193</div><div class="line">194</div><div class="line">195</div><div class="line">196</div><div class="line">197</div><div class="line">198</div><div class="line">199</div><div class="line">200</div><div class="line">201</div><div class="line">202</div><div class="line">203</div><div class="line">204</div><div class="line">205</div><div class="line">206</div><div class="line">207</div><div class="line">208</div><div class="line">209</div><div class="line">210</div><div class="line">211</div><div class="line">212</div><div class="line">213</div><div class="line">214</div><div class="line">215</div><div class="line">216</div><div class="line">217</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;opencv2/opencv.hpp&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;opencv2/saliency.hpp&gt;</span></span></div><div class="line"></div><div class="line"><span class="comment">//******************************************************</span></div><div class="line"><span class="comment">// [opencv_contrib/modules/saliency/src/saliency.cpp](https://github.com/opencv/opencv_contrib/blob/b7dcf141507edbe544e75820c76769a7769223ac/modules/saliency/src/saliency.cpp)</span></div><div class="line"><span class="comment">//</span></div><div class="line"><span class="comment">//Ptr&lt;Saliency&gt; Saliency::create(const String&amp; saliencyType)</span></div><div class="line"><span class="comment">//&#123;</span></div><div class="line"><span class="comment">//	if (saliencyType == "SPECTRAL_RESIDUAL")</span></div><div class="line"><span class="comment">//		return makePtr&lt;StaticSaliencySpectralResidual&gt;();  //computeSaliency返回的是32FC1</span></div><div class="line"><span class="comment">//	else if (saliencyType == "FINE_GRAINED")</span></div><div class="line"><span class="comment">//		return makePtr&lt;StaticSaliencyFineGrained&gt;();	 //computeSaliency返回的是8UC1</span></div><div class="line"><span class="comment">//	else if (saliencyType == "BING")</span></div><div class="line"><span class="comment">//		return makePtr&lt;ObjectnessBING&gt;();</span></div><div class="line"><span class="comment">//	else if (saliencyType == "BinWangApr2014")</span></div><div class="line"><span class="comment">//		return makePtr&lt;MotionSaliencyBinWangApr2014&gt;();</span></div><div class="line"><span class="comment">//	return Ptr&lt;Saliency&gt;();</span></div><div class="line"><span class="comment">//&#125;</span></div><div class="line"><span class="comment">//</span></div><div class="line"><span class="comment">// [opencv_contrib/modules/saliency/src/staticSaliency.cpp](https://github.com/opencv/opencv_contrib/blob/41b0a71ac826b1489d3e5c208ac7a95e58556caf/modules/saliency/src/staticSaliency.cpp)</span></div><div class="line"><span class="comment">//computeBinaryMap()要求输入的saliencyMap为浮点数（eg:32FC1）</span></div><div class="line"><span class="comment">//*****************************************************</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">spectralResidualTest</span><span class="params">()</span></span></div><div class="line"><span class="function"></span>&#123;</div><div class="line">	cv::Mat src_img = cv::imread(<span class="string">"../data/true.png"</span>, CV_LOAD_IMAGE_ANYDEPTH | CV_LOAD_IMAGE_ANYCOLOR);	<span class="comment">// 载入最真实的原始图像</span></div><div class="line">	cv::namedWindow(<span class="string">"src_img"</span>, CV_WND_PROP_ASPECTRATIO);</div><div class="line">	cv::imshow(<span class="string">"src_img"</span>, src_img);</div><div class="line"></div><div class="line"></div><div class="line">	<span class="comment">// [OpenCV实现显著性检测中的谱残差法（Spectral Residual Method）涉及到了傅立叶正反变换](http://blog.csdn.net/kena_m/article/details/49406687)</span></div><div class="line">	<span class="keyword">if</span> (src_img.empty())</div><div class="line">		<span class="built_in">exit</span>(<span class="number">-1</span>);</div><div class="line">	<span class="keyword">if</span> (src_img.channels() == <span class="number">3</span>)</div><div class="line">		cv::cvtColor(src_img, src_img, CV_BGR2GRAY);</div><div class="line">	cv::Mat planes[] = &#123; cv::Mat_&lt;<span class="keyword">float</span>&gt;(src_img), cv::Mat::zeros(src_img.size(), CV_32F) &#125;;</div><div class="line">	cv::Mat complex_img; <span class="comment">//复数矩阵</span></div><div class="line">	merge(planes, <span class="number">2</span>, complex_img); <span class="comment">//把单通道矩阵组合成复数形式的双通道矩阵</span></div><div class="line">	dft(complex_img, complex_img);  <span class="comment">// 使用离散傅立叶变换</span></div><div class="line"></div><div class="line">	<span class="comment">//对复数矩阵进行处理，方法为谱残差</span></div><div class="line">	cv::Mat magnitude, phase_angle, mag_mean;</div><div class="line">	cv::Mat real_part, imaginary_part;</div><div class="line">	split(complex_img, planes); <span class="comment">//分离复数到实部和虚部</span></div><div class="line">	real_part = planes[<span class="number">0</span>]; <span class="comment">//实部</span></div><div class="line">	imaginary_part = planes[<span class="number">1</span>]; <span class="comment">//虚部</span></div><div class="line">	cv::magnitude(real_part, imaginary_part, magnitude); <span class="comment">//计算幅值</span></div><div class="line">	phase(real_part, imaginary_part, phase_angle); <span class="comment">//计算相角</span></div><div class="line"></div><div class="line">	<span class="keyword">float</span> *pre, *pim, *pm, *pp;</div><div class="line">	<span class="comment">//对幅值进行对数化</span></div><div class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; magnitude.rows; i++)</div><div class="line">	&#123;</div><div class="line">		pm = magnitude.ptr&lt;<span class="keyword">float</span>&gt;(i);</div><div class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; magnitude.cols; j++)</div><div class="line">		&#123;</div><div class="line">			*pm = <span class="built_in">log</span>(*pm);</div><div class="line">			pm++;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	blur(magnitude, mag_mean, cv::Size(<span class="number">5</span>, <span class="number">5</span>)); <span class="comment">//对数谱的均值滤波</span></div><div class="line">	magnitude = magnitude - mag_mean; <span class="comment">//求取对数频谱残差</span></div><div class="line">	<span class="comment">//把对数谱残差的幅值和相角划归到复数形式</span></div><div class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; magnitude.rows; i++)</div><div class="line">	&#123;</div><div class="line">		pre = real_part.ptr&lt;<span class="keyword">float</span>&gt;(i);</div><div class="line">		pim = imaginary_part.ptr&lt;<span class="keyword">float</span>&gt;(i);</div><div class="line">		pm = magnitude.ptr&lt;<span class="keyword">float</span>&gt;(i);</div><div class="line">		pp = phase_angle.ptr&lt;<span class="keyword">float</span>&gt;(i);</div><div class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; magnitude.cols; j++)</div><div class="line">		&#123;</div><div class="line">			*pm = <span class="built_in">exp</span>(*pm);</div><div class="line">			*pre = *pm * <span class="built_in">cos</span>(*pp);</div><div class="line">			*pim = *pm * <span class="built_in">sin</span>(*pp);</div><div class="line">			pre++;</div><div class="line">			pim++;</div><div class="line">			pm++;</div><div class="line">			pp++;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	cv::Mat planes1[] = &#123; cv::Mat_&lt;<span class="keyword">float</span>&gt;(real_part), cv::Mat_&lt;<span class="keyword">float</span>&gt;(imaginary_part) &#125;;</div><div class="line"></div><div class="line">	merge(planes1, <span class="number">2</span>, complex_img); <span class="comment">//重新整合实部和虚部组成双通道形式的复数矩阵</span></div><div class="line">	idft(complex_img, complex_img, cv::DFT_SCALE); <span class="comment">// 傅立叶反变换</span></div><div class="line">	split(complex_img, planes); <span class="comment">//分离复数到实部和虚部</span></div><div class="line">	real_part = planes[<span class="number">0</span>];</div><div class="line">	imaginary_part = planes[<span class="number">1</span>];</div><div class="line">	cv::magnitude(real_part, imaginary_part, magnitude); <span class="comment">//计算幅值和相角</span></div><div class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; magnitude.rows; i++)</div><div class="line">	&#123;</div><div class="line">		pm = magnitude.ptr&lt;<span class="keyword">float</span>&gt;(i);</div><div class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; magnitude.cols; j++)</div><div class="line">		&#123;</div><div class="line">			*pm = (*pm) * (*pm);</div><div class="line">			pm++;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	GaussianBlur(magnitude, magnitude, cv::Size(<span class="number">7</span>, <span class="number">7</span>), <span class="number">2.5</span>, <span class="number">2.5</span>);</div><div class="line">	cv::Mat invDFT, invDFTcvt;</div><div class="line">	normalize(magnitude, invDFT, <span class="number">0</span>, <span class="number">255</span>, cv::NORM_MINMAX); <span class="comment">//归一化到[0,255]供显示</span></div><div class="line">	invDFT.convertTo(invDFTcvt, CV_8U); <span class="comment">//转化成CV_8U型</span></div><div class="line">	cv::namedWindow(<span class="string">"SpectualResidual"</span>, CV_WND_PROP_ASPECTRATIO);</div><div class="line">	cv::imshow(<span class="string">"SpectualResidual"</span>, invDFTcvt);</div><div class="line"></div><div class="line">	cv::Mat thresholded;</div><div class="line">	cv::threshold(invDFTcvt, thresholded, <span class="number">0</span>, <span class="number">255</span>, CV_THRESH_OTSU);</div><div class="line">	cv::namedWindow(<span class="string">"Thresholded Image"</span>, CV_WND_PROP_ASPECTRATIO);</div><div class="line">	cv::imshow(<span class="string">"Thresholded Image"</span>, thresholded);</div><div class="line"></div><div class="line">	cv::Mat eroded;</div><div class="line">	<span class="comment">// 纵向腐蚀</span></div><div class="line">	cv::erode(thresholded, eroded, cv::Mat(<span class="number">5</span>, <span class="number">1</span>, CV_8UC1, cv::Scalar(<span class="number">1</span>)), cv::Point(<span class="number">-1</span>, <span class="number">-1</span>), <span class="number">3</span>);	<span class="comment">// cv::Point(-1,-1)为默认参数，代表原点（描点）为矩阵中心</span></div><div class="line">	cv::namedWindow(<span class="string">"eroded Image"</span>, CV_WND_PROP_ASPECTRATIO);</div><div class="line">	cv::imshow(<span class="string">"eroded Image"</span>, eroded);</div><div class="line"></div><div class="line">	<span class="comment">//cv::Mat thresholded;</span></div><div class="line">	cv::threshold(eroded, thresholded, <span class="number">60</span>, <span class="number">255</span>, CV_THRESH_BINARY);</div><div class="line">	cv::namedWindow(<span class="string">"Thresholded eroded Image"</span>, CV_WND_PROP_ASPECTRATIO);</div><div class="line">	cv::imshow(<span class="string">"Thresholded eroded Image"</span>, thresholded);</div><div class="line">&#125;</div><div class="line"></div><div class="line"> <span class="comment">// 显著性检测算法基类</span></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">saliencyTest</span><span class="params">()</span></span></div><div class="line"><span class="function"></span>&#123;</div><div class="line">	cv::Mat src_img = cv::imread(<span class="string">"../data/true.png"</span>, CV_LOAD_IMAGE_ANYDEPTH | CV_LOAD_IMAGE_ANYCOLOR);</div><div class="line">	cv::namedWindow(<span class="string">"src_img"</span>, CV_WND_PROP_ASPECTRATIO);</div><div class="line">	cv::imshow(<span class="string">"src_img"</span>, src_img);</div><div class="line"></div><div class="line">	<span class="keyword">if</span> (src_img.empty())</div><div class="line">		<span class="built_in">exit</span>(<span class="number">-1</span>);</div><div class="line">	<span class="keyword">if</span> (src_img.channels() == <span class="number">3</span>)</div><div class="line">		cv::cvtColor(src_img, src_img, CV_BGR2GRAY);</div><div class="line"></div><div class="line">	cv::Ptr&lt;cv::saliency::Saliency&gt; saliency_algorithm = cv::saliency::Saliency::create(<span class="string">"SPECTRAL_RESIDUAL"</span>);	<span class="comment">// FINE_GRAINED为Fine Grained Saliency算法</span></div><div class="line">	cv::Mat saliency_map;</div><div class="line">	<span class="keyword">if</span> (saliency_algorithm-&gt;computeSaliency(src_img, saliency_map))	<span class="comment">// 计算显著性图</span></div><div class="line">	&#123;</div><div class="line">		cv::namedWindow(<span class="string">"SR saliency map"</span>, CV_WND_PROP_ASPECTRATIO);</div><div class="line">		cv::imshow(<span class="string">"SR saliency map"</span>, saliency_map);</div><div class="line"></div><div class="line">		cv::Mat saliency_map_show(saliency_map.size(), CV_8UC1);</div><div class="line">		normalize(saliency_map, saliency_map_show, <span class="number">0</span>, <span class="number">255</span>, CV_MINMAX); <span class="comment">//归一化到[0,255]供显示</span></div><div class="line">		saliency_map_show.convertTo(saliency_map_show, CV_8U); <span class="comment">//转化成CV_8U型</span></div><div class="line">		cv::namedWindow(<span class="string">"saliency_map_show"</span>, CV_WND_PROP_ASPECTRATIO);</div><div class="line">		cv::imshow(<span class="string">"saliency_map_show"</span>, saliency_map_show);</div><div class="line"></div><div class="line">		cv::Mat binary_map;</div><div class="line">		cv::saliency::StaticSaliencySpectralResidual spec;</div><div class="line">		<span class="keyword">if</span> (spec.computeBinaryMap(saliency_map, binary_map))	<span class="comment">// 对显著性图进行二值化</span></div><div class="line">		&#123;</div><div class="line">			cv::namedWindow(<span class="string">"binary map"</span>, CV_WND_PROP_ASPECTRATIO);</div><div class="line">			cv::imshow(<span class="string">"binary map"</span>, binary_map);</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// Fine Grained Saliency算法</span></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">FGSTest</span><span class="params">()</span></span></div><div class="line"><span class="function"></span>&#123;</div><div class="line">	cv::Mat src_img = cv::imread(<span class="string">"../data/true.png"</span>, CV_LOAD_IMAGE_ANYDEPTH | CV_LOAD_IMAGE_ANYCOLOR);</div><div class="line">	cv::namedWindow(<span class="string">"src_img"</span>, CV_WND_PROP_ASPECTRATIO);</div><div class="line">	cv::imshow(<span class="string">"src_img"</span>, src_img);</div><div class="line"></div><div class="line">	<span class="keyword">if</span> (src_img.empty())</div><div class="line">		<span class="built_in">exit</span>(<span class="number">-1</span>);</div><div class="line">	<span class="keyword">if</span> (src_img.channels() == <span class="number">3</span>)</div><div class="line">		cv::cvtColor(src_img, src_img, CV_BGR2GRAY);</div><div class="line"></div><div class="line">	cv::Ptr&lt;cv::saliency::StaticSaliencyFineGrained&gt; fgs = cv::saliency::StaticSaliencyFineGrained::create();</div><div class="line">	cv::Mat fgs_saliency_map;</div><div class="line">	fgs-&gt;computeSaliency(src_img, fgs_saliency_map);</div><div class="line">	cv::namedWindow(<span class="string">"FGS saliency map"</span>, CV_WND_PROP_ASPECTRATIO);</div><div class="line">	cv::imshow(<span class="string">"FGS saliency map"</span>, fgs_saliency_map);</div><div class="line">	<span class="comment">//cv::imwrite("../data/T_S.png", fgs_saliency_map);</span></div><div class="line"></div><div class="line">	cv::Mat binary_map;</div><div class="line">	cv::threshold(fgs_saliency_map, binary_map, <span class="number">0</span>, <span class="number">255</span>, CV_THRESH_OTSU);</div><div class="line">	cv::namedWindow(<span class="string">"binary map"</span>, CV_WND_PROP_ASPECTRATIO);</div><div class="line">	cv::imshow(<span class="string">"binary map"</span>, binary_map);</div><div class="line">	<span class="comment">//cv::imwrite("../data/T_S_B.png", binary_map);</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// Spectral Residual算法</span></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">SRTest</span><span class="params">()</span></span></div><div class="line"><span class="function"></span>&#123;</div><div class="line">	cv::Mat src_img = cv::imread(<span class="string">"../data/true.png"</span>, CV_LOAD_IMAGE_ANYDEPTH | CV_LOAD_IMAGE_ANYCOLOR);</div><div class="line">	cv::namedWindow(<span class="string">"src_img"</span>, CV_WND_PROP_ASPECTRATIO);</div><div class="line">	cv::imshow(<span class="string">"src_img"</span>, src_img);</div><div class="line"></div><div class="line">	<span class="keyword">if</span> (src_img.empty())</div><div class="line">		<span class="built_in">exit</span>(<span class="number">-1</span>);</div><div class="line">	<span class="keyword">if</span> (src_img.channels() == <span class="number">3</span>)</div><div class="line">		cv::cvtColor(src_img, src_img, CV_BGR2GRAY);</div><div class="line"></div><div class="line">	cv::Ptr&lt;cv::saliency::StaticSaliencySpectralResidual&gt; sr = cv::saliency::StaticSaliencySpectralResidual::create();</div><div class="line">	cv::Mat sr_saliency_map;</div><div class="line">	sr-&gt;computeSaliency(src_img, sr_saliency_map);</div><div class="line">	cv::namedWindow(<span class="string">"SR saliency map"</span>, CV_WND_PROP_ASPECTRATIO);</div><div class="line">	cv::imshow(<span class="string">"SR saliency map"</span>, sr_saliency_map);</div><div class="line"></div><div class="line">	cv::Mat binary_map;</div><div class="line">	sr-&gt;computeBinaryMap(sr_saliency_map, binary_map);</div><div class="line">	cv::namedWindow(<span class="string">"binary map"</span>, CV_WND_PROP_ASPECTRATIO);</div><div class="line">	cv::imshow(<span class="string">"binary map"</span>, binary_map);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> *argv[])</span></span></div><div class="line"><span class="function"></span>&#123;</div><div class="line">	<span class="comment">//spectralResidualTest();</span></div><div class="line">	<span class="comment">//saliencyTest();</span></div><div class="line">	<span class="comment">//FGSTest();</span></div><div class="line">	SRTest();</div><div class="line"></div><div class="line">	<span class="keyword">while</span> (cv::waitKey(<span class="number">0</span>) != <span class="number">27</span>) &#123; &#125;</div><div class="line"></div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></div><p><em>以上代码在 Win10 VS2013 中编译运行成功。</em></p><p>　　这里面有个小东西需要注意，就是 <code>computeBinaryMap()</code> 函数，看其文档描述其中使用 <em>K-means</em> 算法和 <em>Otsu</em> 算法对显著性图进行二值化处理，其输入的显著性图数据类型应该为浮点数，OpenCV 中 Spectral Residual 算法 computeSaliency() 返回的结果为浮点数，而 Fine Grained Saliency 算法 computeSaliency() 返回的结果却是整型数据，所以这一点需要注意 Fine Grained Saliency 算法返回的结果不能直接使用 computeBinaryMap() 函数，一般对其结果直接使用 OTSU 算法进行阈值分割即可。</p><h2 id="后记">后记</h2><p>　　本文使用的这两种算法在 Shaun 的电脑上运行时间都较长，基本不可能用来处理视频流，而且在 Shaun 的这次实验中效果也不太理想，毕竟这是用来处理静态图像的两种显著性方法。不过 OpenCV 中也有用来处理视频流的显著性检测算法，其为 BING 算法,出自<strong>Ming-Ming Cheng, Ziming Zhang, Wen-Yan Lin, and Philip Torr. Bing: Binarized normed gradients for objectness estimation at 300fps. In <em>IEEE CVPR</em>, 2014.</strong>，实际上这是一种快速提取目标候选框的算法。</p></div><div class="article-content-more"><button type="button" class="article-more--link"><i class="fa fa-angle-double-down fa-3x" aria-hidden="true"></i></button></div></section></article><article id="post-OpenCV中Selective-Search算法的使用" class="article div-border"><header class="article-header"><span class="article-date article-title--index"><i class="fa fa-calendar" aria-hidden="true"></i> <a href="/posts/35132cb7.html"><time datetime="2017-09-10T12:31:03.000Z">2017-09-10</time></a></span><section class="article-title article-title--index"><a href="/posts/35132cb7.html">OpenCV中Selective Search算法的使用</a></section><div class="article-label"><div class="article-category label"><i class="fa fa-book" aria-hidden="true"></i> <a class="color5 article-category-link" href="/categories/Study/">Study</a></div><div class="article-tag label"><i class="fa fa-bookmark" aria-hidden="true"></i> <a class="color3 article-tag-link" href="/tags/opencv/">opencv</a></div></div></header><section class="article-content"><div class="article-content--excerpt"><p><font color="#FA8072">本文所用的 OpenCV 版本为 opencv-3.2.0，编程语言为 C++。</font></p><h2 id="前言">前言</h2><p>　　OpenCV-3.2 中的 Selective Search 算法是在其扩展包中，所以要想使用该算法需自行编译 opencv_contrib-3.2.0。由于扩展包中的示例程序有点简陋，对初学者也不友好（Shaun 编程水平有限，粗浅评价，勿怪 (*^__^ *) 嘻嘻……），所以 Shaun 参考其<a href="http://docs.opencv.org/3.2.0/d5/df0/group__ximgproc__segmentation.html" target="_blank" rel="external">官方文档</a>及其<a href="https://github.com/opencv/opencv_contrib/blob/master/modules/ximgproc/samples/selectivesearchsegmentation_demo.cpp" target="_blank" rel="external">官方示例程序</a>写下此文。</p></div><div class="article-content--all"><p><font color="#FA8072">本文所用的 OpenCV 版本为 opencv-3.2.0，编程语言为 C++。</font></p><h2 id="前言">前言</h2><p>　　OpenCV-3.2 中的 Selective Search 算法是在其扩展包中，所以要想使用该算法需自行编译 opencv_contrib-3.2.0。由于扩展包中的示例程序有点简陋，对初学者也不友好（Shaun 编程水平有限，粗浅评价，勿怪 (*^__^ *) 嘻嘻……），所以 Shaun 参考其<a href="http://docs.opencv.org/3.2.0/d5/df0/group__ximgproc__segmentation.html" target="_blank" rel="external">官方文档</a>及其<a href="https://github.com/opencv/opencv_contrib/blob/master/modules/ximgproc/samples/selectivesearchsegmentation_demo.cpp" target="_blank" rel="external">官方示例程序</a>写下此文。</p><a id="more"></a><h2 id="说明篇">说明篇</h2><p>　　该算法是选取 region proposal（一般翻译成候选区域 / 区域建议）领域中当时的 <em>state-of-the-art</em>。其算法具体思想出自 <strong>Jasper RR Uijlings, Koen EA van de Sande, Theo Gevers, and Arnold WM Smeulders. Selective search for object recognition. <em>International journal of computer vision</em>, 104(2):154–171, 2013.</strong>，若英文水平不够，还想了解其中文思想请参考文末参考资料。</p><p>　　<strong>OpenCV中实现的相应函数：</strong></p><p><code>void cv::ximgproc::segmentation::SelectiveSearchSegmentation::addGraphSegmentation(Ptr&lt;GraphSegmentation&gt; g);</code>：添加相应的图割算法；</p><p><code>void cv::ximgproc::segmentation::SelectiveSearchSegmentation::addImage(InputArray img) ;</code> ：添加待处理的图片；</p><p><code>void cv::ximgproc::segmentation::SelectiveSearchSegmentation::addStrategy(Ptr&lt;SelectiveSearchSegmentationStrategy&gt; s);</code> ：添加相应的策略（颜色相似度、纹理相似度、尺寸相似度和填充相似度）；</p><p><code>void cv::ximgproc::segmentation::SelectiveSearchSegmentation::process(std::vector&lt;Rect&gt; &amp;rects);</code>：结合图割算法和相应策略进行处理，返回候选框。</p><h2 id="实例篇">实例篇</h2><p>　　使用 Selective Search 算法需包含<code>#include &lt;opencv2/ximgproc.hpp&gt;</code>，完整示例程序如下：</p><div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="false" data-lang="C++"><figure class="highlight hljs c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;opencv2/opencv.hpp&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;opencv2/ximgproc.hpp&gt;</span></span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">SSTest</span><span class="params">()</span></span></div><div class="line"><span class="function"></span>&#123;</div><div class="line">	<span class="comment">// [Image segmentation](http://docs.opencv.org/3.2.0/d5/df0/group__ximgproc__segmentation.html#ga5e3e721c5f16e34d3ad52b9eeb6d2860) </span></div><div class="line"></div><div class="line">	cv::Mat src_img = cv::imread(<span class="string">"../data/true.png"</span>, CV_LOAD_IMAGE_ANYDEPTH | CV_LOAD_IMAGE_ANYCOLOR);	<span class="comment">// 载入原始图像</span></div><div class="line">	cv::namedWindow(<span class="string">"src_img"</span>, CV_WINDOW_KEEPRATIO);</div><div class="line">	cv::imshow(<span class="string">"src_img"</span>, src_img);</div><div class="line"></div><div class="line">	<span class="comment">//// 转换为灰度图</span></div><div class="line">	<span class="comment">//cv::Mat gray_img;</span></div><div class="line">	<span class="comment">//cvtColor(src_img, gray_img, cv::COLOR_BGR2GRAY);</span></div><div class="line"></div><div class="line">	<span class="comment">// 图割算法</span></div><div class="line">	cv::Ptr&lt;cv::ximgproc::segmentation::GraphSegmentation&gt; gs = cv::ximgproc::segmentation::createGraphSegmentation();</div><div class="line">	cv::Mat graph_segmented;</div><div class="line">	gs-&gt;processImage(src_img, graph_segmented);</div><div class="line">	normalize(graph_segmented, graph_segmented, <span class="number">0</span>, <span class="number">255</span>, CV_MINMAX); <span class="comment">// 归一化到[0,255]供显示</span></div><div class="line">	graph_segmented.convertTo(graph_segmented, CV_8U); <span class="comment">// 数据类型转化成CV_8U型</span></div><div class="line">	<span class="comment">// cvtColor(graph_segmented, graph_segmented, CV_GRAY2BGR);</span></div><div class="line">	cv::namedWindow(<span class="string">"graph_segmented"</span>, CV_WINDOW_KEEPRATIO);</div><div class="line">	imshow(<span class="string">"graph_segmented"</span>, graph_segmented);</div><div class="line"></div><div class="line">	<span class="comment">// 为selective search算法添加图割算法处理结果</span></div><div class="line">	cv::Ptr&lt;cv::ximgproc::segmentation::SelectiveSearchSegmentation&gt; ss = cv::ximgproc::segmentation::createSelectiveSearchSegmentation();</div><div class="line">	ss-&gt;addGraphSegmentation(gs);</div><div class="line"></div><div class="line">	ss-&gt;addImage(src_img);	<span class="comment">// 添加待处理的图片</span></div><div class="line"></div><div class="line">	<span class="comment">// 自定义策略</span></div><div class="line">	cv::Ptr&lt;cv::ximgproc::segmentation::SelectiveSearchSegmentationStrategy&gt; sss_color = cv::ximgproc::segmentation::createSelectiveSearchSegmentationStrategyColor();	<span class="comment">// 颜色相似度策略</span></div><div class="line">	cv::Ptr&lt;cv::ximgproc::segmentation::SelectiveSearchSegmentationStrategy&gt; sss_texture = cv::ximgproc::segmentation::createSelectiveSearchSegmentationStrategyTexture();	<span class="comment">// 纹理相似度策略</span></div><div class="line">	cv::Ptr&lt;cv::ximgproc::segmentation::SelectiveSearchSegmentationStrategy&gt; sss_size = cv::ximgproc::segmentation::createSelectiveSearchSegmentationStrategySize();	<span class="comment">// 尺寸相似度策略</span></div><div class="line">	cv::Ptr&lt;cv::ximgproc::segmentation::SelectiveSearchSegmentationStrategy&gt; sss_fill = cv::ximgproc::segmentation::createSelectiveSearchSegmentationStrategyFill();	<span class="comment">// 填充相似度策略</span></div><div class="line">	<span class="comment">// 添加策略</span></div><div class="line">	cv::Ptr&lt;cv::ximgproc::segmentation::SelectiveSearchSegmentationStrategy&gt; sss = cv::ximgproc::segmentation::createSelectiveSearchSegmentationStrategyMultiple(sss_color, sss_texture, sss_size, sss_fill);	<span class="comment">// 合并以上4种策略</span></div><div class="line">	ss-&gt;addStrategy(sss);</div><div class="line"></div><div class="line">	<span class="built_in">std</span>::<span class="built_in">vector</span>&lt;cv::Rect&gt; regions;</div><div class="line">	ss-&gt;process(regions);	<span class="comment">// 处理结果</span></div><div class="line"></div><div class="line">	<span class="comment">// 显示结果</span></div><div class="line">	cv::Mat show_img = src_img.clone();</div><div class="line">	<span class="keyword">for</span> (<span class="built_in">std</span>::<span class="built_in">vector</span>&lt;cv::Rect&gt;::iterator it_r = regions.begin(); it_r != regions.end(); ++it_r)</div><div class="line">	&#123;</div><div class="line">		cv::rectangle(show_img, *it_r, cv::Scalar(<span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>), <span class="number">3</span>);</div><div class="line">	&#125;</div><div class="line">	cv::namedWindow(<span class="string">"show_img"</span>, CV_WINDOW_KEEPRATIO);</div><div class="line">	imshow(<span class="string">"show_img"</span>, show_img);</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">	<span class="comment">// -------忽略上述步骤，直接采用方便算法提取候选区域------------------------</span></div><div class="line">	<span class="comment">/***************************************************************************</span></div><div class="line"><span class="comment">	cv::Ptr&lt;cv::ximgproc::segmentation::SelectiveSearchSegmentation&gt; ss = cv::ximgproc::segmentation::createSelectiveSearchSegmentation();</span></div><div class="line"><span class="comment">	ss-&gt;setBaseImage(src_img);	// 采用switch* functions提取候选区域</span></div><div class="line"><span class="comment">	ss-&gt;switchToSelectiveSearchFast();	// 快速提取区域</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">	std::vector&lt;cv::Rect&gt; rects;</span></div><div class="line"><span class="comment">	ss-&gt;process(rects);</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">	int nb_rects = 10;</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">	char c = (char)cv::waitKey();</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">	while (c != 'q')</span></div><div class="line"><span class="comment">	&#123;</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">		cv::Mat wimg = src_img.clone();</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">		int i = 0;</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">		for (std::vector&lt;cv::Rect&gt;::iterator it = rects.begin(); it != rects.end(); ++it)</span></div><div class="line"><span class="comment">		&#123;</span></div><div class="line"><span class="comment">			if (i++ &lt; nb_rects)</span></div><div class="line"><span class="comment">			&#123;</span></div><div class="line"><span class="comment">				cv::rectangle(wimg, *it, cv::Scalar(0, 0, 255), 3);</span></div><div class="line"><span class="comment">			&#125;</span></div><div class="line"><span class="comment">		&#125;</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">		cv::namedWindow("Output", CV_WINDOW_KEEPRATIO);</span></div><div class="line"><span class="comment">		imshow("Output", wimg);</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">		c = (char)cv::waitKey();</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">		if (c == 'd')</span></div><div class="line"><span class="comment">		&#123;</span></div><div class="line"><span class="comment">			nb_rects += 10;</span></div><div class="line"><span class="comment">		&#125;</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">		if (c == 'a' &amp;&amp; nb_rects &gt; 10)</span></div><div class="line"><span class="comment">		&#123;</span></div><div class="line"><span class="comment">			nb_rects -= 10;</span></div><div class="line"><span class="comment">		&#125;</span></div><div class="line"><span class="comment">	&#125;</span></div><div class="line"><span class="comment">	********************************************************/</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> *argv[])</span></span></div><div class="line"><span class="function"></span>&#123;</div><div class="line">	SSTest();</div><div class="line"></div><div class="line">	<span class="keyword">while</span> (cv::waitKey(<span class="number">0</span>) != <span class="number">27</span>) &#123;&#125;</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></div><p><em>以上代码在 Win10 VS2013 中编译运行成功。</em></p><h2 id="后记">后记</h2><p>　　使用该算法，要想达到理想效果，一般需要调整图割算法的参数或注释中方法 <code>switchToSelectiveSearchFast()</code> 的参数。Shaun 的这次实验为了达到理想的选取的效果，其调整参数花了不少时间，而且该算法运行时间在 Shaun 电脑上略显长。GitHub 上也有大神自己用 opencv 实现了该算法，参考 <a href="https://github.com/watanika/selective-search-cpp" target="_blank" rel="external">watanika/selective-search-cpp</a>，该算法的参数感觉比 OpenCV 自带的 Selective Search 算法要好调一些，但优化效果没有 opencv 好，其运行时间在 Shaun 电脑上更长，毕竟 OpenCV 是 Intel 的亲儿子，Intel 肯定针对处理器对 OpenCV 底层做了一定的优化。</p><h2 id="参考资料">参考资料</h2><p>[1] <a href="http://jermmy.xyz/2017/05/04/2017-5-4-paper-notes-selective-search/" target="_blank" rel="external">论文笔记：Selective Search for Object Recognition</a>（<a href="http://jermmy.xyz/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89/" class="uri" target="_blank" rel="external">http://jermmy.xyz/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89/</a>）</p><p>[2] <a href="http://blog.csdn.net/langb2014/article/details/52575507" target="_blank" rel="external">Selective Search for Object Recognition(阅读)</a>（<a href="http://blog.csdn.net/langb2014/article/category/5772811" class="uri" target="_blank" rel="external">http://blog.csdn.net/langb2014/article/category/5772811</a>）</p><p>[3] <a href="http://blog.csdn.net/csyhhb/article/details/50425114" target="_blank" rel="external">论文笔记 《Selective Search for Object Recognition》</a>（<a href="http://blog.csdn.net/csyhhb/article/category/6048588" class="uri" target="_blank" rel="external">http://blog.csdn.net/csyhhb/article/category/6048588</a>）</p></div><div class="article-content-more"><button type="button" class="article-more--link"><i class="fa fa-angle-double-down fa-3x" aria-hidden="true"></i></button></div></section></article><article id="post-Win10以树形结构显示文件目录结构" class="article div-border"><header class="article-header"><span class="article-date article-title--index"><i class="fa fa-calendar" aria-hidden="true"></i> <a href="/posts/c3f26b1.html"><time datetime="2017-09-05T09:08:34.000Z">2017-09-05</time></a></span><section class="article-title article-title--index"><a href="/posts/c3f26b1.html">Win10以树形结构显示文件目录结构</a></section><div class="article-label"><div class="article-category label"><i class="fa fa-book" aria-hidden="true"></i> <a class="color1 article-category-link" href="/categories/Study/">Study</a></div><div class="article-tag label"><i class="fa fa-bookmark" aria-hidden="true"></i> <a class="color1 article-tag-link" href="/tags/unix-like/">unix-like</a></div></div></header><section class="article-content"><div class="article-content--excerpt"><h2 id="前言">前言</h2><p>　　<del>本文其实可以算是标题党，Windows本身并不能以树形结构显示文件目录结构，一般需要借助第三方工具</del>（后面去网上搜索了一下，发现 Windows 居然也有一个 tree 命令 o(╯□╰)o），Windows 虽然能用命令行显示树形结构文件目录，但不像 Linux 那样可以输入一些参数控制其输出。Win10 有个特殊的功能，就是可以使用 Ubuntu 的 bash，只需要开启这个有趣的功能，就可以将 Win10 当 Ubuntu 使用，从而像 Linux 那样只输入相关命令即可显示树形结构文件目录。</p><p><font color="#FA8072">*注：值得注意的是 Win10 中的 bash 目前不支持中文输入，只能切换到英文输入才能正常输入。</font></p></div><div class="article-content--all"><h2 id="前言">前言</h2><p>　　<del>本文其实可以算是标题党，Windows本身并不能以树形结构显示文件目录结构，一般需要借助第三方工具</del>（后面去网上搜索了一下，发现 Windows 居然也有一个 tree 命令 o(╯□╰)o），Windows 虽然能用命令行显示树形结构文件目录，但不像 Linux 那样可以输入一些参数控制其输出。Win10 有个特殊的功能，就是可以使用 Ubuntu 的 bash，只需要开启这个有趣的功能，就可以将 Win10 当 Ubuntu 使用，从而像 Linux 那样只输入相关命令即可显示树形结构文件目录。</p><p><font color="#FA8072">*注：值得注意的是 Win10 中的 bash 目前不支持中文输入，只能切换到英文输入才能正常输入。</font></p><a id="more"></a><h2 id="准备篇">准备篇</h2><p>首先需要在 Win10 下开启 bash 功能。具体开启方法为：</p><ol type="1"><li>打开 <strong>Win图标</strong> ==》 <strong>设置</strong> ==》 <strong>更新和安全</strong> ==》 <strong>针对开发人员</strong>（左侧），选中<strong>开发人员模式</strong>，</li><li>打开 <strong>Win图标</strong> ==》 <strong>设置</strong> ==》 <strong>应用</strong> ==》 <strong>应用和功能</strong>（左侧） ==》 <strong>程序和功能</strong>（最下面的相关设置中） ==》 <strong>启用或关闭Windows功能</strong>（左侧），选中<strong>适用于Linux的Windows子系统(Beta)</strong>后点击确定。</li><li>重启计算机。打开 bash，打开 bash 的方法很多，这里列出三种：1、直接在微软小娜中输入关键字“<strong>bash</strong>”搜索 Bash on Ubuntu on Windows；2、<code>Win键+R</code>，输入 bash，点击确定即可打开 bash；3、<code>Win键+R</code>，输入 cmd，在 cmd 中输入 bash，回车即可打开 bash。打开 bash 后将会提示你是否下载安装 Ubuntu on Windows，输入 y 继续，稍等片刻即可完成下载安装。</li></ol><h2 id="设置篇">设置篇</h2><p>　　安装完成后系统将会提示你设置用户名和密码。（如果这一步设置成功可以直接跳过设置篇直接看使用篇）。不知道怎的，Shaun 这一步没有完成，每次系统都是直接以 root 用户登录，而且没有密码，为了安全考虑，也幸好登录时是 root 用户，可以自由对系统修改。所以 Shaun 需要对 root 密码进行修改，并创建新的用户。具体过程需执行以下命令：</p><p>root 用户下，修改用户密码：</p><div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="false" data-lang="BASH"><figure class="highlight hljs bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">passwd 用户名 (修改密码)</div></pre></td></tr></table></figure></div><p>　　由于 Shaun 需要修改 root 密码，所以该用户名即为 root，执行之后需要输入新密码（在 *nix 哲学中，密码是不会显示在输入屏幕中的，所以如果在输入密码时发现屏幕没有任何变化是没关系的，只管输入即可 ↖(^ω^)↗），两次输入完成后会显示密码更新成功。</p><p>接下来需要创建新的普通用户，在 root 用户下执行：</p><div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="false" data-lang="BASH"><figure class="highlight hljs bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">adduser xxx <span class="comment"># 这样的命令会在home目录下添加一个帐号</span></div></pre></td></tr></table></figure></div><p>或者</p><div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="false" data-lang="BASH"><figure class="highlight hljs bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">useradd xxx <span class="comment">#仅仅是添加用户，不会在home目录添加帐号</span></div></pre></td></tr></table></figure></div><p>　　推荐使用前者，这样可以很明确已经成功创建新用户，而且如果用户需要存放一些文件也更安全和方便。</p><p>　　在 *nix 中，绝对不推荐直接使用root用户对系统执行各种命令，毕竟其权限太大，一旦误操作将造成无法挽回的后果。有些命令普通用户可能没有权限执行，这时需要提高其权限，普通用户临时获取 root 权限的方法为：在需要执行的命令前添加<code>sudo</code>，像上文中如果普通用户需要创建新用户 xxx 则需要执行<code>sudo adduser xxx</code>，执行以上命令后同样需要输入新用户的密码。</p><h2 id="使用篇">使用篇</h2><p>　　先切换至普通用户，执行<code>su xxx</code>切换用户，即可发现 shell 提示符由<code>#</code>变为<code>$</code>，前面的用户名由<code>root</code>变为<code>xxx</code>；执行<code>cd ~</code>切换至用户目录。由于 Ubuntu 系统中本身没有 tree 这个命令，需要执行以下命令安装 tree 命令工具：</p><div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="false" data-lang="BASH"><figure class="highlight hljs bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo apt install tree</div></pre></td></tr></table></figure></div><p>　　直接输入<code>tree</code>命令，系统将会自动以树形结构列出当前目录中所有文件及文件夹；执行<code>tree -L N</code> 命令，以树形结构查看当前 N 级的目录和文件，eg：以树形结构查看当前目录二级文件结构，则执行<code>tree -L 2</code>。若想将输出的2级文件结构保存至上一层文件的tree.txt文件中，可执行<code>tree -L 2 &gt; ../tree.txt</code>，进入上一层目录<code>cd ..</code>，打开 tree.txt 即可发现该目录的文件结构。</p><h2 id="后记">后记</h2><p>　　遇事还是需要多查证一下啊，想当然果然是会出问题的，文章开头差点就犯错误了 ~\(≧▽≦)/~。本文其实是在写 <a href="https://cniter.github.io/posts/7df528b4.html">Win10＋VS2013＋CMake-gui编译和配置OpenCV-3.2.0</a> 时，为了方便显示输出文件结构而查找的相关资料。</p><h2 id="参考资料">参考资料</h2><p>[1]<a href="http://jingyan.baidu.com/article/acf728fd19c7eff8e510a3eb.html" target="_blank" rel="external">linux tree命令以树形结构显示文件目录结构</a>（<a href="http://jingyan.baidu.com/tag?tagName=linux" class="uri" target="_blank" rel="external">http://jingyan.baidu.com/tag?tagName=linux</a>）</p><p>[2] <a href="http://jingyan.baidu.com/article/b24f6c822acbbb86bee5da75.html" target="_blank" rel="external">win tree命令 tree导出目录 tree显示树形结构</a>（<a href="http://jingyan.baidu.com/tag?tagName=%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F" class="uri" target="_blank" rel="external">http://jingyan.baidu.com/tag?tagName=%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F</a>）</p><p>[3] <a href="http://jingyan.baidu.com/article/39810a23957df3b636fda6cb.html" target="_blank" rel="external">win10下linux系统的安装（开启）和使用</a></p><p>[4] <a href="http://www.linuxidc.com/Linux/2012-06/62985.htm" target="_blank" rel="external">Ubuntu建立和删除用户</a></p><p>[5] <a href="http://www.jb51.net/article/46429.htm" target="_blank" rel="external">linux修改root密码和linux忘记root密码后找回密码的方法</a></p></div><div class="article-content-more"><button type="button" class="article-more--link"><i class="fa fa-angle-double-down fa-3x" aria-hidden="true"></i></button></div></section></article><article id="post-ACGN作品个人印象简评" class="article div-border"><header class="article-header"><span class="article-date article-title--index"><i class="fa fa-calendar" aria-hidden="true"></i> <a href="/posts/68065b99.html"><time datetime="2017-09-02T07:49:36.000Z">2017-09-02</time></a></span><section class="article-title article-title--index"><a href="/posts/68065b99.html">ACGN作品个人印象简评</a></section><div class="article-label"><div class="article-category label"><i class="fa fa-book" aria-hidden="true"></i> <a class="color5 article-category-link" href="/categories/Life/">Life</a></div><div class="article-tag label"><i class="fa fa-bookmark" aria-hidden="true"></i> <a class="color4 article-tag-link" href="/tags/thought/">thought</a></div></div></header><section class="article-content"><div class="article-content--excerpt"><h2 id="前言">前言</h2><p>　　Shaun 无意向任何人推荐任何东西，毕竟那个年纪已经过去了，有些东西还是独自品味比较好，写这些东西只是单纯的想留个纪念。本文主要是分享一下 Shaun 看过的一些 ACGN 作品及相应的感觉感受，也算是记录一下，以免雁过不留痕，看过的就这样看过了。以下作品只是简单排列，没有的所谓的排名之分，只凭个人当时主观印象深浅，简单来说就是想到哪就写到哪。</p><p><strong>※注：</strong>本文所指的 ACGN 只是单纯的指 Animation（动画）、Comic（漫画）、Game（游戏）、Novel（小说）四个独立并列的部分，不是通俗意义上霓虹国的那种紧密联系的一个整体。</p></div><div class="article-content--all"><h2 id="前言">前言</h2><p>　　Shaun 无意向任何人推荐任何东西，毕竟那个年纪已经过去了，有些东西还是独自品味比较好，写这些东西只是单纯的想留个纪念。本文主要是分享一下 Shaun 看过的一些 ACGN 作品及相应的感觉感受，也算是记录一下，以免雁过不留痕，看过的就这样看过了。以下作品只是简单排列，没有的所谓的排名之分，只凭个人当时主观印象深浅，简单来说就是想到哪就写到哪。</p><p><strong>※注：</strong>本文所指的 ACGN 只是单纯的指 Animation（动画）、Comic（漫画）、Game（游戏）、Novel（小说）四个独立并列的部分，不是通俗意义上霓虹国的那种紧密联系的一个整体。</p><a id="more"></a><h2 id="animation-篇">Animation 篇</h2><p>　　动画，真正接触霓虹国的动画还是在中学时代吧，那时也是在同学的推荐下入坑了「火影」（直到现在都还没去看结局，虽然前年就完结了），当时完全接受不了「海贼王」的画风，还是后来画了一个暑假追上来的。</p><ul><li>『海贼王』。Shaun 偏向于「海贼王」这个译名，个人感觉顶上战争之前和顶上战争之后完全是两部作品，还是觉得顶上战争之前比较好看，之前就像是游戏里打怪升级，能过些热血的瘾，但之后变成了只打怪不升级，而且感觉怪是强行被画败的 ╮(╯▽╰)╭，海贼王里还有个奇怪的现象，好像几乎不死人，不过也可能是侧重点不同，死人的场景没必要画出来了。</li><li>『CLANNAD』。CL 或许能称作为人生，但人生却不是一部 CL，毕竟人生不可能有光玉存在，看完『AIR』之后，Shaun 并没有什么很强烈的感触，所以直接又接着看了 CL，没想到着实让 Shaun 这堂堂七尺男儿好生体验了把热泪盈眶的感觉。另，CL 和 Air 的音乐也很赞，麻枝准真提莫的不负其大魔王的称号 （°Д°）Ъ。</li><li>『天降之物』。算是 Shaun 的入宅作了吧，没想到当时霓虹国的肉番也能做的这么精良，这里不得不赞一下「天降之物」的制作组，实在是太良心了，都破产了，还硬是把结局用 屁屁踢 形式放出来了，对比隔壁的『约会（pao）大作战』，可以说是有生之年了 ╮(╯▽╰)╭，不过还是比现在的肉番要好，现在的肉番只剩下肉了，还不如直接出里番 ๑乛◡乛๑ 。</li><li>『进击的巨人』。Shaun 只能说制作组的经费别烧的那么快啊，不然可能又是一个有生之年，感觉每一帧都在烧钱。<del>坐等同样制作精良的今年4月番『东京喰种』第三季 (๑´ڡ`๑)</del> ，坐等个屁啊，『东京喰种』第三季这屎一样的剧情和画风 （╯‵□′）╯︵┴─┴，做成这样宁愿是个有生之年，还是滚去看看漫画是什么样子吧，希望 7 月番的「巨人」不要这样。</li><li>『龙珠』系列。童年回忆啊，虽然目前还在更「龙珠超」，但是已经找不到童年时的感觉了。</li><li>『犬夜叉』。虽说中学时代就听童靴讨论过，但 Shaun 真正接触还是在本科时代，剧情设计的很好，音乐也很赞。</li><li>『死神』。感觉打完蓝染之后直接结束还是一部很好的作品。</li><li>『新世纪福（quan）音（qian）战士』。以当时的社会环境看应该是很黄很暴力了，如果没看过TV版的EVA，直接看剧场版就行，剧场版差不多就是TV版的高清重制，虽然重制的画面很良心，但这也改变不了其圈钱的本质，你要出个正儿八经的完结篇或者对剧情进行完善补充该多好。</li><li>『浪客剑心』。个人觉得TV版打败志志雄就可以结束了，「追忆篇」也十分不错，「巴」和「熏」都可以说是剑心的救赎者。</li><li>『钢之炼金术师FA』。Shaun 没看过 03 版的钢炼，只能说 FA 不管是音乐还是剧情都堪称完美（Shaun 不知道真正的完美应该是什么样子），塑造的人物都有血有肉。</li><li>『噬魂师』。这部动画的结局骨头社也做的太水了 o(︶︿︶)o，不然也是一部上佳之作。</li><li>『瑞克和莫蒂』。很有意思的美漫，各种天马行空的想象，对一些事物的毒舌吐槽也无敌了 (≧ω≦)。</li><li>『魔法少女小圆』。其实一开始要 Shaun 看魔圆， Shaun 是拒绝的，因为一听名字就以为是什么少女漫 (#-_-)，后面看了一下又没法接受那奇诡的画风，尤其是魔女出来的时候，卧槽，这 TM 是啥么鬼 (⊙_⊙)？后面无聊的时候看了几集勉强就能接受了，不过说好的要做「爱的战士」呢？结局就这样？(╯°□°）╯︵ ┻━┻，还好剧场版稍微补充了一下，音乐也很好听。美好的事物表面可能隐藏着最深的邪恶，丑陋的事物表面也可能隐藏着无尽的美好，当然，对于宇宙维稳来说，QB 的做法没错，但对于马猴烧酒来说，这就很残忍了，但人类也不会在意蝼蚁的想法吧，所以与其说是悲剧，不如说是真实，正如结局魔女是不存在了，但其它的魔物出现了。</li><li>『零之使魔』。其实 Shaun 是看完「夏娜」第一季之后看的，虽说夏娜和露易丝的都是钉宫配的，但个人感觉还是露易丝萌一点呢 ～(￣▽￣～)，才人万人斩那里的 BGM 实在是斯巴拉西，最后居然不是后宫，啊啊啊 🔥，可惜了蒂法那么大的欧派了，说好的 naizi 即正义呢 _(:з」∠)_。</li><li>『Angle Beats!』。AB 是曾经的一个室友推荐看的，说实话不知道是 Shaun 没看懂还是咋的，没看出什么名堂啊，只能说 OP 很赞。</li><li>『潜行吧！奈亚子』。吐槽能力很有意思啊，还有全宇宙最长的呆毛，可以说很萌了，搞不懂为啥会被禁，难道是奈亚子表达爱意的方式太露骨了 (ಡωಡ)。</li><li>『夏洛特』。网易云音乐推荐的，ED 很好听啊，看了动画只记得主角好像把全世界的超能力都吸收了，其它的剧情也不记得了，初次看到奈绪的图片还以为是奈亚子（雾）。</li><li>『紫罗兰永恒花园』。个人还是有点无法体会剧中的感情，只能说画面做的很精致。一开始还以为是神马科幻战争片，毕竟女主的手摆在哪里 （雾）。</li><li>『少女终末旅行』。也是网易云推荐的，主要是第五集的插曲很好听呢，以一种轻松的心态看这种沉重的番另有一番滋味。emmm……，知道漫画的结局之后还是感觉很沉重，（哇的一声就哭了 😭），这或许就是最深的绝望了吧，堪比「迷雾」，想必漫画作者的刀片应该收了不少呢，（突然黑化 ヾ(▼ﾍ▼；)ｵｲｺﾗ）。其实第 9 集的ED也很好听，可惜 OST 没有收录，MMP，只能截取音频听听了。</li><li>『来自深渊』。不行，刚看完「末旅」，心情太沉重了，要看点稍微轻松的冷静一下，抚慰一下 Shaun 受伤的心灵，「深渊」虽然相比日常番还是沉重一些，但至少不绝望，感觉还是有 “希望” 的，期待下一季。</li><li>『宝石之国』。骨肉魂的设定很有意思，只记得第九集台词老师说：“强大的力量总伴随着孤独”，也正如「B站」下的某个评论所说：“或许这就是成长所需要的代价”。个人感觉人的成长也是如此，成长意味着不再天真，不再给别人添麻烦，但这中间会失去许多，人与人之间的隔阂也越来越大，至于是好事还是坏事就只有自己知道了，有些东西只有直接接触之后才知道是好是坏。成长之后就会自然而然的开始求真，当然有很大一部分人会在求真之路上迷失自我，继续浑浑噩噩，却又不似初始的天真，而是成为一种活死人状态，成为社会这个大机器上的一个微小零件，少一个不少，多一个也不多。如果说第一季是成长之路，那下一季应该就是求真之路了。</li><li>『滑头鬼之孙』。百鬼夜行时的 BGM 很赞呀！只怕是天国的第三季了。</li><li>『Kill La Kill』（又名双斩少女、斩服少女）。emmm，这中文名怎么说呢，其实还挺符合剧情的，但总感觉哪里不对。作为一部热血番，剧情 bug 一点也可以理解，想必「真子」为这番拉了不少人气（官方鬼畜代表，好萌 ╭(╯3╰)╮）。</li><li>『恶魔人 Crybaby』。地狱空荡荡，恶魔在人间，达成成就在恶魔人里看恶魔人，音乐很带感，rap 也很棒，愚昧的人做出的恶行更让人感到可悲。</li><li>『NEW GAME!』。一部标准的日常番，作为一名即将成为社畜的秃头人，希望能碰到不错的上司和同事吧。</li><li>『怪诞小镇』。和「瑞克和莫蒂」有点类似，也是一集一个小故事，不过更侧重家人之间的相处。</li><li>『爱，死亡和机器人』。少儿不宜，成人动画看起来真爽，暴力血腥涩清一个都不少，连 jier 都做出来了，CG 也很不错，有几集的脑洞还是可以的。</li><li>『虫师』。设定非常好，音乐也好听，一集一个小故事，至于主线剧情就算了，两季都很模糊。</li><li>『游戏人生』。王女是本番的福利担当了，空白就是少年漫画的主人公，op和ed都挺好听的，可惜应该是天国的第二季了。</li></ul><h2 id="comic-篇">Comic 篇</h2><p>　　漫画，Shaun 看的比较少，了解也不多，就不做评价了。印象里比较深的就是『伊藤润二』系列中的「漩涡」了，看完这个 Shaun 只能感叹作者的奇思妙想了。还有就是当年在追三大民工漫的时候，有时为了提前了解剧情，也会去看一下其漫画。当然偶尔也会看一下那个，，，那种漫画 (⁄ ⁄•⁄ω⁄•⁄ ⁄) ，毕竟刺激性更强，画面感更强，像那个「搞笑漫畫日和」什么的（诶，在想什么呢 (￣ε(#￣)☆╰╮(￣▽￣///)）。</p><h2 id="game-篇">Game 篇</h2><p>　　游戏，Shaun 也玩的比较少，小时候在小伙伴家里偶尔会蹭一下 FC 游戏，中学时陪同学玩街机，也两下子就把游戏币给玩没了 Σ(ﾟдﾟ;)，大学时玩通两三个单机，专注的玩了一个手游，至于什么网络游戏就根本没玩过，Shaun 还是偏向于动作冒险类游戏。</p><ul><li>『奥日与黑暗森林』（Ori and the Blind Forest）。巨硬出品，必属精品，不管是画质，画风，音乐都是五星好评，但是手残党伤不起啊，有些关卡的难度简直是阶跃性的 /つ∇T)。期待续作『奥日与精灵意志』（Ori and the Will of the Wisps）。</li><li>『鬼泣』系列（Devil May Cry）。这个系列 Shaun 没一个通关的，只是稍微玩过一下，不得不说卡普空公司虽然经常炒冷饭，但是其制作也确实精良，可以说是动作类游戏的代表作了，打击感和连招特效都超带感，dei劲，以后有时间再给它通关。</li><li>『艾希ICEY』。算是国产游戏的佳作了，只是碍于其独立游戏的经费，最大的不足之处就是其体量也太小了吧，两个小时打通绰绰有余，而且通关之后就没有欲望玩第二次了，玩法比较单一。</li><li>『菲斯 Fez』。「纪念碑谷」就是受到这款游戏的启发，其中的一些玩法和游戏元素也借鉴了这款游戏，这款游戏简直太斯（sang）巴（xin）拉（bing）西（kuang），还有依靠 BGM 解谜的，这种操作还真没见过（也有可能是 Shaun 游戏玩的太少了 o(╯□╰)o），这是 Shaun 玩的第一个多周目游戏，每周目都会有新的体验，而且这游戏的世界观真是惊人，数学中的维度在这游戏里面会有一种非常直观的体验，尤其是每周目结束时的剧情动画。</li></ul><h2 id="novel-篇">Novel 篇</h2><p>　　小说，也算是中学时代入的坑吧，在本科前两年达到顶峰，目前处于逐渐退坑的状态，一来确实是没有什么小说吸引 Shaun 了；二来是没那么多时间看小说了。</p><ul><li>『驭兽斋』，作者：雨魔。可以算是 Shaun 这么多年的网络小说生涯的入坑之作了，现在虽然剧情忘记了，但当年看的如痴如醉的感觉却没忘。</li><li>『仙逆』，作者：耳根。还是当年在小白时代看的，可以说印象非常深了，个人感觉「凡人修仙传」和它没法比。</li><li>『幽冥仙途』，作者：减肥专家。这个是 Shaun 渡过小白时代书荒的时候在书荒吧看到别人推荐的，这简直是暗黑系的典范，或许李珣的人生才是人生该有的样子。</li><li>『贩罪』，作者：三天两觉。很有意思的写法，各种插叙蒙太奇手法，画面感极强，作者的吐槽能力MAX啊。</li><li>『死人经』，作者：冰临神下。Shaun 武侠小说看得极少，像什么金庸、古龙等人的小说 Shaun 一部也没看看过，只是看过相关的影视作品，但这部小说确实 Shaun 痴迷的看完了，虽然以当前的眼光看其好像还是有点金庸那种 “掉进悬崖就能得到绝世武功” 的味道，但是主角却还是慢慢成长变化的，并不是一触而就的状态。</li><li>『亵渎』，作者：烟雨江南。这本书还是 Shaun 入坑时期看的，所以一些剧情完全忘记了，只记得有一只很有意思的骷髅。回想当年看书真是不挑剔啊，无论什么书，只要知道个名字就会去看完，也是在那段时间，把番茄、唐三、辰东等的作品都看完了，也逐渐脱离小白时代，不得不说，当年这些作品对 Shaun 三观的形成还是有很大影响的。另外以现在的眼光来看就是感觉这些作者的作品只需要选择一本代表作看看就行（eg：唐三（斗罗大陆）、土豆（斗破苍穹）、番茄（盘龙）、辰东（神墓）），毕竟一个作者的风格确实很难改变，其它的也是差不多的套路，一般来说一个作者因一部作品封神之后，很难再写出超越之作，从某种意义上来说这并不是江郎才尽，而只是人只有在特定的时候才能有特定的想法，发挥比较好而已。</li><li>『 无极魔道』，作者：逆苍天。后期书荒时偶然看到的，没想到还是一部很不错的作品，快意恩仇，最后居然把所有人都坑杀了。</li><li>『庆余年』，作者：猫腻。也是后期书荒看，本来 Shaun 是不大想看这种架空历史小说的，但是看了之后感觉里面的权谋很有意思。</li><li>『紫川』，作者：老猪。这本书 Shaun 没读完，主要是当时的状态不适合看这本书，里面有些情节以当时的状态实在是没法看下去。</li><li>『佣兵天下』，作者：说不得大师。这本书也是 Shaun 小白时代看的，记得这本书当年好像是在看完「静官」的『兽血沸腾』之后看的，当时只感叹其友情。</li><li>『诛仙』，作者：萧鼎。以 Shaun 现在的眼光来看感觉有点名过其实。</li><li>『鬼吹灯』，作者：天下霸唱。这本书 Shaun 也没看完，其实 Shaun 是先看的『盗墓笔记』，后面才去看鬼吹灯，所以也稍微了解了一下这两部作品的渊源，个人感觉，盗墓笔记还是很大一部分借鉴了鬼吹灯，而且盗墓笔记感觉后面有点胡乱写的味道。</li><li>『恶魔法则』，作者：跳舞。Shaun 小白时代看的作品，剧情也全都忘记了，不做评价，依稀记得好像有点搞笑。</li><li>『七界传说』，作者：心梦无痕。算是 Shaun 看的第一本这种风格的小说——主人公刚出山就差不多是无敌之姿了，后期的对手也不是庸人，感觉十分有意思。</li><li>『升邪』，作者：豆子惹的祸。读起来感觉很轻松的一本小说。</li><li>『宠魅』，作者：鱼的天空。记得当时看这本小数是为了找一本类似于 驭兽斋 描写宠物的小说，于是就找到了这本，感觉结局还是有点虐心，现在想起来还是有点不好受。</li><li>『长生不死』，作者：观棋。里面的计谋还是很有意思，居然用传销之法颠覆一个国家的经济，好像是的吧。</li><li>『风姿物语』，作者：罗森。不愧是誉为“现代玄幻小说鼻祖”的网文，后面玄幻小说的模式或多或少都能在这里看到影子。作者也真是个人才，不仅正经的网文写的不错，而且小 h 书也写的很溜，像小黄书中的典范，「阿里布达年代祭」和「六朝」系列等。</li><li>『星空倒影』，作者：弦歌雅意。很有意思的写作角度，从旁观者的角度见证英雄的大起大落，虽说整个故事和其它的西幻套路差不多，但胜在短小精悍，角度新颖。</li><li>『仙路烟尘』，作者：管平潮。很有古典仙侠意味的一部的小说，作者的文采也是一流的，但对主角性格把控的不是很到位，导致有些章节读起来有点突兀，不是那么连贯。</li><li>『巫师之旅』，作者：一行白鹭上青天。作者的设定很厉害，很久没看过这么新奇的小说了。</li><li>『全球进化』，作者：咬狗。关于生命体进化层次的设定很有意思。</li><li>『雪中悍刀行』，作者：烽火戏诸侯。中间有些部分的设定很迷，应该是作者断更时间太长了，自己也记不清楚了，不过整体来说文笔还行，铺垫很长，至于收尾就不说了。</li></ul><h2 id="后记">后记</h2><p>　　以后有看过或回想起看过的作品再继续更新吧 （↖(^ ω ^)↗）。</p></div><div class="article-content-more"><button type="button" class="article-more--link"><i class="fa fa-angle-double-down fa-3x" aria-hidden="true"></i></button></div></section></article><article id="post-Hexo添加站内本地搜索" class="article div-border"><header class="article-header"><span class="article-date article-title--index"><i class="fa fa-calendar" aria-hidden="true"></i> <a href="/posts/4f6225b7.html"><time datetime="2017-09-01T08:23:39.000Z">2017-09-01</time></a></span><section class="article-title article-title--index"><a href="/posts/4f6225b7.html">Hexo添加站内本地搜索</a></section><div class="article-label"><div class="article-category label"><i class="fa fa-book" aria-hidden="true"></i> <a class="color4 article-category-link" href="/categories/建站小记/">建站小记</a></div><div class="article-tag label"><i class="fa fa-bookmark" aria-hidden="true"></i> <a class="color4 article-tag-link" href="/tags/hexo/">hexo</a></div></div></header><section class="article-content"><div class="article-content--excerpt"><h2 id="前言">前言</h2><p>　　虽然 Shaun 博客目前数量不多，质量也不高，但抱着搞事的心态，先弄它一个站内本地搜索再说。</p></div><div class="article-content--all"><h2 id="前言">前言</h2><p>　　虽然 Shaun 博客目前数量不多，质量也不高，但抱着搞事的心态，先弄它一个站内本地搜索再说。</p><a id="more"></a><h2 id="准备篇">准备篇</h2><p>　　要想使用本地搜索功能，首先需要安装相应的搜索插件 <code>hexo-generator-searchdb</code>，网上可能大多数用的是 hexo-generator-search 这个插件，也有都装的，但 Shaun 就只安装这一个了，好像 <code>hexo-generator-searchdb</code> 更完善一点，由于 Shaun 前端接触的极少，所以就没有一一对比了，网上也没查到具体对比情况，有兴趣的童靴可以试试 (╯▽╰)。至于具体安装如下，在站点根目录执行：</p><div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="false" data-lang="BASH"><figure class="highlight hljs bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install hexo-generator-searchdb --save</div></pre></td></tr></table></figure></div><p>　　安装完之后重新生成页面，将会发现 <strong>public文件夹</strong> 下多出一个 <code>search.xml</code> 文件。然后在配置文件 <code>_config.yml</code> 中添加：</p><div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="false" data-lang="YAML"><figure class="highlight hljs yaml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 站点本地搜索</span></div><div class="line"><span class="attr">search:</span></div><div class="line"><span class="attr">  path:</span> <span class="string">search.xml</span></div><div class="line"><span class="attr">  field:</span> <span class="string">all</span></div></pre></td></tr></table></figure></div><p>其中：</p><ul><li><strong>path</strong> - 指定生成的索引数据的文件名。默认为 search.xml 。</li><li><strong>field</strong> - 指定索引数据的生成范围。可选值包括：<ul><li><strong>post</strong> - 只生成博客文章（post）的索引（默认）；</li><li><strong>page</strong> - 只生成其他页面（page）的索引；</li><li><strong>all</strong> - 生成所有文章和页面的索引。</li></ul></li></ul><p>　　至于是在 <strong>主题配置文件</strong>，还是在 <strong>站点配置文件</strong> 中添加，个人觉得都没关系，附：Shaun 是在主题配置文件中添加的。</p><p>接下来就需要修改原主题的代码了。</p><h2 id="改码篇">改码篇</h2><p>　　由于 Shaun 博客主题是基于 <strong>SPFK</strong> 对照着 <strong>black-blue</strong> 进行修改的，而且因为 <strong>black-blue</strong> 是有搜索的（Shaun 不知道 <strong>black-blue</strong> 主题的作者是如何完成的，借助了什么技术），所以 Shaun 就看 <strong>black-blue</strong> 的搜索功能是修改了 <strong>SPFK</strong> 哪个地方，再将相应的代码添加至 <strong>SPFK</strong> 中（其中相应的代码来自<a href="http://moxfive.xyz/2016/05/31/hexo-local-search/" target="_blank" rel="external">让 Hexo 博客支持本地站内搜索</a>），从而逐渐完成本次搜索功能。</p><p>首先找到 spfk 主题下的 <code>left-col.ejs</code> 文件，对其修改如下：</p><div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="false" data-lang="PLAIN"><figure class="highlight hljs plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">&lt;% if (theme.search_box)&#123; %&gt;</div><div class="line">            &lt;!-- &lt;form&gt;</div><div class="line">                &lt;input type=&quot;text&quot; class=&quot;st-default-search-input search&quot; id=&quot;search&quot; placeholder=&quot; Search...&quot;&gt;</div><div class="line">            &lt;/form&gt; --&gt;</div><div class="line"></div><div class="line">            &lt;form id=&quot;search-form&quot;&gt; &lt;!-- 搜索框相关 --&gt;</div><div class="line">                &lt;input type=&quot;text&quot; id=&quot;local-search-input&quot; name=&quot;q&quot; results=&quot;0&quot; placeholder=&quot;Search...&quot; class=&quot;search form-control&quot; autocomplete=&quot;off&quot; autocorrect=&quot;off&quot;/&gt;</div><div class="line">                &lt;i class=&quot;fa fa-times&quot; onclick=&quot;resetSearch()&quot;&gt;&lt;/i&gt; &lt;!-- 清空/重置搜索框 --&gt;</div><div class="line">            &lt;/form&gt;</div><div class="line">            &lt;div id=&quot;local-search-result&quot;&gt;&lt;/div&gt; &lt;!-- 搜索结果区 --&gt;</div><div class="line">            &lt;p class=&apos;no-result&apos;&gt;No results found &lt;/p&gt; &lt;!-- 无匹配时显示，注意请在 CSS 中设置默认隐藏 --&gt;</div><div class="line">        &lt;%&#125;%&gt;</div></pre></td></tr></table></figure></div><p>其次找到 spfk 主题下的 <code>after-footer.ejs</code> 文件，将其修改如下：</p><div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="false" data-lang="PLAIN"><figure class="highlight hljs plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div></pre></td><td class="code"><pre><div class="line">&lt;% if (theme.search_box)&#123; %&gt;</div><div class="line">    &lt;!-- &lt;script type=&quot;text/javascript&quot;&gt;</div><div class="line">      window.onload = function()&#123;</div><div class="line">        document.getElementById(&quot;search&quot;).onclick = function()&#123;</div><div class="line">            console.log(&quot;search&quot;)</div><div class="line">            search();</div><div class="line">        &#125;</div><div class="line">      &#125;</div><div class="line">      function search()&#123;</div><div class="line">        (function(w,d,t,u,n,s,e)&#123;w[&apos;SwiftypeObject&apos;]=n;w[n]=w[n]||function()&#123;</div><div class="line">        (w[n].q=w[n].q||[]).push(arguments);&#125;;s=d.createElement(t);</div><div class="line">        e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);</div><div class="line">        &#125;)(window,document,&apos;script&apos;,&apos;//s.swiftypecdn.com/install/v2/st.js&apos;,&apos;_st&apos;);</div><div class="line"></div><div class="line">        _st(&apos;install&apos;,&apos;A1Pz-LKMXbrzcFg2FWi6&apos;,&apos;2.0.0&apos;);</div><div class="line">      &#125;</div><div class="line">    &lt;/script&gt; --&gt;</div><div class="line"></div><div class="line">    &lt;script type=&quot;text/javascript&quot;&gt;</div><div class="line">      // 激活搜索框时才搜索</div><div class="line">        var inputArea = document.querySelector(&quot;#local-search-input&quot;);</div><div class="line">        var getSearchFile = function()&#123;</div><div class="line">          // 调用搜索函数</div><div class="line">          var search_path = &quot;&lt;%- config.search.path %&gt;&quot;;</div><div class="line">          if (search_path.length == 0) &#123;</div><div class="line">             search_path = &quot;search.xml&quot;;</div><div class="line">          &#125;</div><div class="line">          var path = &quot;&lt;%- config.root %&gt;&quot; + search_path;</div><div class="line">          searchFunc(path, &apos;local-search-input&apos;, &apos;local-search-result&apos;);</div><div class="line">        &#125;</div><div class="line">        inputArea.onfocus = function()&#123; getSearchFile() &#125;</div><div class="line">  </div><div class="line">        // 搜索重置</div><div class="line">        var $resetButton = $(&quot;#search-form .fa-times&quot;);</div><div class="line">        var $resultArea = $(&quot;#local-search-result&quot;);</div><div class="line">        inputArea.oninput = function()&#123; $resetButton.show(); &#125;</div><div class="line">        resetSearch = function()&#123;</div><div class="line">          $resultArea.html(&quot;&quot;);</div><div class="line">          document.querySelector(&quot;#search-form&quot;).reset();</div><div class="line">          $resetButton.hide();</div><div class="line">          $(&quot;.no-result&quot;).hide();</div><div class="line">        &#125;</div><div class="line">  </div><div class="line">        // 屏蔽回车</div><div class="line">        inputArea.onkeydown = function()&#123; if(event.keyCode==13) return false&#125;</div><div class="line">  </div><div class="line">        // 无搜索结果</div><div class="line">        $resultArea.bind(&quot;DOMNodeRemoved DOMNodeInserted&quot;, function(e) &#123;</div><div class="line">          if (!$(e.target).text()) &#123;</div><div class="line">            $(&quot;.no-result&quot;).show(200); </div><div class="line">          &#125; else &#123;</div><div class="line">            $(&quot;.no-result&quot;).hide();</div><div class="line">          &#125;</div><div class="line">        &#125;)</div><div class="line">  </div><div class="line">        // 搜索函数</div><div class="line">        var searchFunc = function(path, search_id, content_id) &#123;</div><div class="line">          &apos;use strict&apos;;</div><div class="line">          $.ajax(&#123;</div><div class="line">            url: path,</div><div class="line">            dataType: &quot;xml&quot;,</div><div class="line">            success: function( xmlResponse ) &#123;</div><div class="line">                // get the contents from search data</div><div class="line">                var datas = $( &quot;entry&quot;, xmlResponse ).map(function() &#123;</div><div class="line">                    return &#123;</div><div class="line">                        title: $( &quot;title&quot;, this ).text(),</div><div class="line">                        content: $(&quot;content&quot;,this).text(),</div><div class="line">                        url: $( &quot;url&quot; , this).text()</div><div class="line">                    &#125;;</div><div class="line">                &#125;).get();</div><div class="line">                var $input = document.getElementById(search_id);</div><div class="line">                var $resultContent = document.getElementById(content_id);</div><div class="line">                $input.addEventListener(&apos;input&apos;, function()&#123;</div><div class="line">                    var str=&apos;&lt;ul class=\&quot;search-result-list\&quot;&gt;&apos;;                </div><div class="line">                    var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);</div><div class="line">                    $resultContent.innerHTML = &quot;&quot;;</div><div class="line">                    if (this.value.trim().length &lt;= 0) &#123;</div><div class="line">                        return;</div><div class="line">                    &#125;</div><div class="line">                    // perform local searching</div><div class="line">                    datas.forEach(function(data) &#123;</div><div class="line">                        var isMatch = true;</div><div class="line">                        var content_index = [];</div><div class="line">                        var data_title = data.title.trim().toLowerCase();</div><div class="line">                        var data_content = data.content.trim().replace(/&lt;[^&gt;]+&gt;/g,&quot;&quot;).toLowerCase();</div><div class="line">                        var data_url = data.url;</div><div class="line">                        var index_title = -1;</div><div class="line">                        var index_content = -1;</div><div class="line">                        var first_occur = -1;</div><div class="line">                        // only match artiles with not empty titles and contents</div><div class="line">                        if(data_title != &apos;&apos; &amp;&amp; data_content != &apos;&apos;) &#123;</div><div class="line">                            keywords.forEach(function(keyword, i) &#123;</div><div class="line">                                index_title = data_title.indexOf(keyword);</div><div class="line">                                index_content = data_content.indexOf(keyword);</div><div class="line">                                if( index_title &lt; 0 &amp;&amp; index_content &lt; 0 )&#123;</div><div class="line">                                    isMatch = false;</div><div class="line">                                &#125; else &#123;</div><div class="line">                                    if (index_content &lt; 0) &#123;</div><div class="line">                                        index_content = 0;</div><div class="line">                                    &#125;</div><div class="line">                                    if (i == 0) &#123;</div><div class="line">                                        first_occur = index_content;</div><div class="line">                                    &#125;</div><div class="line">                                &#125;</div><div class="line">                            &#125;);</div><div class="line">                        &#125;</div><div class="line">                        // show search results</div><div class="line">                        if (isMatch) &#123;</div><div class="line">                            str += &quot;&lt;li&gt;&lt;a href=&apos;/&quot;+ data_url +&quot;&apos; class=&apos;search-result-title&apos; target=&apos;_blank&apos;&gt;&quot;+ &quot;&gt; &quot; + data_title +&quot;&lt;/a&gt;&quot;;</div><div class="line">                            var content = data.content.trim().replace(/&lt;[^&gt;]+&gt;/g,&quot;&quot;);</div><div class="line">                            if (first_occur &gt;= 0) &#123;</div><div class="line">                                // cut out characters</div><div class="line">                                var start = first_occur - 6;</div><div class="line">                                var end = first_occur + 6;</div><div class="line">                                if(start &lt; 0)&#123;</div><div class="line">                                    start = 0;</div><div class="line">                                &#125;</div><div class="line">                                if(start == 0)&#123;</div><div class="line">                                    end = 10;</div><div class="line">                                &#125;</div><div class="line">                                if(end &gt; content.length)&#123;</div><div class="line">                                    end = content.length;</div><div class="line">                                &#125;</div><div class="line">                                var match_content = content.substr(start, end); </div><div class="line">                                // highlight all keywords</div><div class="line">                                keywords.forEach(function(keyword)&#123;</div><div class="line">                                    var regS = new RegExp(keyword, &quot;gi&quot;);</div><div class="line">                                    match_content = match_content.replace(regS, &quot;&lt;em class=\&quot;search-keyword\&quot;&gt;&quot;+keyword+&quot;&lt;/em&gt;&quot;);</div><div class="line">                                &#125;)</div><div class="line">                                str += &quot;&lt;p class=\&quot;search-result\&quot;&gt;&quot; + match_content +&quot;...&lt;/p&gt;&quot;</div><div class="line">                            &#125;</div><div class="line">                        &#125;</div><div class="line">                    &#125;)</div><div class="line">                    $resultContent.innerHTML = str;</div><div class="line">                &#125;)</div><div class="line">            &#125;</div><div class="line">          &#125;)</div><div class="line">        &#125;</div><div class="line">    &lt;/script&gt;</div><div class="line">&lt;%&#125;%&gt;</div></pre></td></tr></table></figure></div><p>最后找到 spfk 主题下的 <code>main.styl</code> 文件，在其末尾添加：</p><div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="false" data-lang="SCSS"><figure class="highlight hljs scss"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*搜索框*/</span></div><div class="line"><span class="selector-class">.search</span> &#123;</div><div class="line">  <span class="attribute">width</span>: <span class="number">68%</span>;</div><div class="line">  <span class="attribute">height</span>: <span class="number">18px</span>;</div><div class="line">  <span class="attribute">margin-top</span>: <span class="number">1px</span>;</div><div class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</div><div class="line">  <span class="attribute">font-family</span>: inherit;</div><div class="line">  <span class="attribute">border</span>: <span class="number">2px</span> solid transparent;</div><div class="line">  <span class="attribute">border-bottom</span>: <span class="number">2px</span> solid <span class="number">#d3d3d3</span>;</div><div class="line">  <span class="attribute">border-radius</span>: <span class="number">2px</span>;</div><div class="line">  <span class="attribute">opacity</span>: <span class="number">0.65</span>;</div><div class="line">  <span class="attribute">background</span>: none;</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.search</span>:hover &#123;</div><div class="line">  <span class="attribute">border</span>: <span class="number">2px</span> solid <span class="number">#d3d3d3</span>;</div><div class="line">  <span class="attribute">opacity</span>: <span class="number">1</span>;</div><div class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">10px</span> rgba(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0.3</span>);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/*搜索重置按钮*/</span></div><div class="line"><span class="selector-id">#search-form</span> <span class="selector-class">.fa-times</span> &#123;</div><div class="line">  <span class="attribute">display</span>: none;</div><div class="line">  <span class="attribute">padding</span>: <span class="number">1px</span> <span class="number">0.7em</span>;</div><div class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">3px</span> rgba(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0.15</span>);</div><div class="line">  <span class="attribute">cursor</span>: pointer;</div><div class="line">  <span class="attribute">color</span>: <span class="number">#4094c7</span>;</div><div class="line">&#125;</div><div class="line"><span class="selector-id">#search-form</span> <span class="selector-class">.fa-times</span>:active &#123;</div><div class="line">  <span class="attribute">background</span>: <span class="number">#d3d3d3</span>;</div><div class="line">&#125;</div><div class="line"><span class="selector-id">#search-form</span> <span class="selector-class">.fa-times</span>:hover &#123;</div><div class="line">  zoom: <span class="number">1.1</span>;</div><div class="line">  <span class="attribute">padding</span>: <span class="number">1px</span> <span class="number">0.6em</span>;</div><div class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#d3d3d3</span>;</div><div class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">6px</span> rgba(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0.25</span>);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/*搜索结果区*/</span></div><div class="line"><span class="selector-id">#local-search-result</span> &#123;</div><div class="line">  <span class="comment">//margin: auto -12% auto -6%;</span></div><div class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</div><div class="line">  <span class="attribute">font-size</span>: <span class="number">0.9em</span>;</div><div class="line">  <span class="attribute">text-align</span>: left;</div><div class="line">  <span class="attribute">word-break</span>: break-all;</div><div class="line"></div><div class="line">  <span class="attribute">box-shadow</span>: <span class="number">4px</span> <span class="number">4px</span> <span class="number">6px</span> rgba(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0.46</span>);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-id">#local-search-result</span> <span class="selector-tag">ul</span><span class="selector-class">.search-result-list</span> <span class="selector-tag">li</span>:hover &#123;</div><div class="line">  <span class="attribute">font-weight</span>: normal;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/*单条搜索结果*/</span></div><div class="line"><span class="selector-id">#local-search-result</span> <span class="selector-tag">li</span> &#123;</div><div class="line">  <span class="attribute">margin</span>: <span class="number">0.5em</span> auto;</div><div class="line">  <span class="attribute">border-bottom</span>: <span class="number">2px</span> solid <span class="number">#d3d3d3</span>;</div><div class="line">&#125;</div><div class="line"><span class="selector-id">#local-search-result</span> <span class="selector-class">.search-result-list</span> <span class="selector-tag">li</span>:hover &#123;</div><div class="line">  <span class="attribute">background</span>: rgba(<span class="number">47</span>,<span class="number">46</span>,<span class="number">46</span>,<span class="number">0.8</span>);</div><div class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span> rgba(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0.2</span>);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/*匹配的标题*/</span></div><div class="line"><span class="selector-id">#local-search-result</span> <span class="selector-tag">a</span><span class="selector-class">.search-result-title</span> &#123;</div><div class="line">  <span class="attribute">line-height</span>: <span class="number">1.2</span>;</div><div class="line">  <span class="attribute">font-weight</span>: bold;</div><div class="line">  <span class="attribute">color</span>: <span class="number">#4094c7</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/*搜索预览段落*/</span></div><div class="line"><span class="selector-id">#local-search-result</span> <span class="selector-tag">p</span><span class="selector-class">.search-result</span> &#123;</div><div class="line">  <span class="attribute">margin</span>: <span class="number">0.4em</span> auto;</div><div class="line">  <span class="attribute">line-height</span>: <span class="number">1.2em</span>;</div><div class="line">  <span class="attribute">max-height</span>: <span class="number">3.6em</span>;</div><div class="line">  <span class="attribute">overflow</span>: hidden;</div><div class="line">  <span class="attribute">font-size</span>: <span class="number">0.8em</span>;</div><div class="line">  <span class="attribute">text-align</span>: justify;</div><div class="line">  <span class="attribute">color</span>: <span class="number">#ffffffb3</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/*匹配的关键词*/</span></div><div class="line"><span class="selector-id">#local-search-result</span> <span class="selector-tag">em</span><span class="selector-class">.search-keyword</span> &#123;</div><div class="line">  <span class="attribute">color</span>: <span class="number">#f58e90</span>;</div><div class="line">  <span class="attribute">border-bottom</span>: <span class="number">1px</span> dashed <span class="number">#f58e90</span>;</div><div class="line">  <span class="attribute">font-weight</span>: bold;</div><div class="line">  <span class="attribute">font-size</span>: <span class="number">1em</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/*无匹配搜索结果时显示*/</span></div><div class="line"><span class="selector-tag">p</span><span class="selector-class">.no-result</span> &#123;</div><div class="line">  <span class="attribute">display</span>: none;</div><div class="line">  <span class="attribute">margin</span>: <span class="number">2em</span> <span class="number">0</span> <span class="number">2em</span> <span class="number">6%</span>;</div><div class="line">  <span class="attribute">padding-bottom</span>: <span class="number">0.5em</span>;</div><div class="line">  <span class="attribute">text-align</span>: left;</div><div class="line">  <span class="attribute">color</span>: <span class="number">#808080</span>;</div><div class="line">  <span class="attribute">font-family</span>: font-serif serif;</div><div class="line">  <span class="attribute">border-bottom</span>: <span class="number">2px</span> solid <span class="number">#d3d3d3</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></div><p>　　这里请注意，当对 <code>main.styl</code> 文件做以上修改时，可能会发现有两个 <code>.search</code> 样式，而且相差不大，这时，不要对其原有的 <code>.search</code> 进行修改，更不要去注释掉它，只做上述修改就不用管了，不然可能会发生一些奇怪的事 o(&gt;﹏&lt;)o。Shaun 当时做以上修改时，将其原有的 <code>.search</code> 样式注释掉之后，整个页面的 css 布局全部都乱了 (╯﹏╰)，不知道为什么 (⊙_⊙?)，这两个同名样式看起来明明差不多的，最后只能维持现状了，等以后有机会再看看吧，业余前端伤不起啊! ╮(╯_╰)╭。</p><p>　　至此整个站内本地搜索功能基本完成，勉强可以使用站内搜索功能了。</p><h2 id="问题篇">问题篇</h2><p>　　*注：以下问题于 2018-03-02 都已经解决 ╮(╯▽╰)╭。</p><p><font color="#FA8072">1、搜索函数返回的 url 地址有问题。</font></p><p>　　问题描述：当点击搜索结果时，新弹出的标签页地址栏中 url 地址会有部分乱码情况；当鼠标移到搜索的结果列表上时，浏览器左下角显示的 url 地址虽然没有乱码情况，但其中有一个重复的<code>/</code>符号。所幸这两个问题并没有造成浏览器解析错误，浏览器还是可以正常显示页面的。</p><p><strong><em>================= 修改日期：2018-03-02 =================</em></strong></p><p>　　<strong>解决办法：</strong>将 <code>\blog\node_modules\hexo-generator-searchdb\templates\xml.ejs</code> 文件中的 <code>&lt;url&gt;&lt;%- encodeURIComponent(config.root + post.path) %&gt;&lt;/url&gt;</code> 修改为 <code>&lt;url&gt;&lt;%- encodeURI(post.path) %&gt;&lt;/url&gt;</code> ，使其中一些 url 中常见的字符（如：&amp;, ?, /, =）<strong>不被</strong>十六进制的转义序列进行替换。</p><p><strong>参考：</strong><a href="https://www.zhihu.com/question/21861899" target="_blank" rel="external">escape,encodeURI,encodeURIComponent有什么区别?</a> 和 <a href="http://www.w3school.com.cn/jsref/jsref_encodeURIComponent.asp" target="_blank" rel="external">JavaScript encodeURIComponent() 函数</a> 。</p><p>=====================================================</p><p><font color="#FA8072">2、搜索结果区布局有问题。</font></p><p>　　问题描述：当显示搜索结果时，搜索结果区会上下扩张，从而将其上下本来存在的一些布局挤开，造成布局混乱。这其实不算是一个 spfk 主题或者新添加的搜索功能的问题，而是新添加的一个东西又没有相应的和原本布局结合的布局文件，那就极大可能会有布局混乱的问题，至于这个要和原本布局契合的搜索结果区布局文件就只有等 Shaun 以后有机会有时间再完善去喽 ╮(╯▽╰)╭。</p><p><font color="#FA8072">3、搜索框激活问题。</font></p><p>　　问题描述：搜索框激活延迟很大，有时过很久或者需要切换站内页面它才能激活，给人的感觉就是好像没有搜索功能似的。添加搜索框激活功能据作者 <a href="http://moxfive.xyz/" target="_blank" rel="external">MOxFIVE</a> 所说是为了不让索引文件影响页面加载速度，MOxFIVE 同时也在文末指出了一些不足之处，如果索引文件太大，可能还是会造成一些问题，但 Shaun 的博客数量又不多，所以估计还是 Shaun 的代码混合问题，而且 MOxFIVE 的博客搜索功能好像没这个问题（至少 Shaun 目前没发现）。这个问题同样只有等以后再说了 (*^__^*) 嘻嘻……。</p><h2 id="后记">后记</h2><p>　　本文添加的本地搜索还很粗糙，还有很多地方需要以后去完善。但这好歹是一个好的开始，搜索功能至少勉强能够正常使用，总比以前是个空壳要好，以后有机会再慢慢去去完善吧 ↖(^ω^)↗。</p><h2 id="参考资料">参考资料</h2><p>[1] <a href="http://www.hahack.com/codes/local-search-engine-for-hexo/" target="_blank" rel="external">jQuery-based Local Search Engine for Hexo</a>（<a href="http://www.hahack.com/categories/codes/" class="uri" target="_blank" rel="external">http://www.hahack.com/categories/codes/</a>）</p><p>[2] <a href="http://moxfive.xyz/2016/05/31/hexo-local-search/" target="_blank" rel="external">让 Hexo 博客支持本地站内搜索</a>（<a href="http://moxfive.xyz/tags/Hexo/" class="uri" target="_blank" rel="external">http://moxfive.xyz/tags/Hexo/</a>）</p><p>[3] <a href="https://www.ezlippi.com/blog/2017/02/hexo-search.html" target="_blank" rel="external">Hexo博客添加站内搜索</a>（<a href="https://www.ezlippi.com/categories/hexo/" class="uri" target="_blank" rel="external">https://www.ezlippi.com/categories/hexo/</a>）</p><p>[4] <a href="https://www.oyohyee.com/post/Note/LocalSearch.html" target="_blank" rel="external">Hexo本地搜索及部分SEO优化</a> （<a href="https://www.oyohyee.com/categories/Note/" class="uri" target="_blank" rel="external">https://www.oyohyee.com/categories/Note/</a>）</p></div><div class="article-content-more"><button type="button" class="article-more--link"><i class="fa fa-angle-double-down fa-3x" aria-hidden="true"></i></button></div></section></article><article id="post-用OpenCV显示OpenGL图形" class="article div-border"><header class="article-header"><span class="article-date article-title--index"><i class="fa fa-calendar" aria-hidden="true"></i> <a href="/posts/302a6244.html"><time datetime="2017-08-31T01:40:31.000Z">2017-08-31</time></a></span><section class="article-title article-title--index"><a href="/posts/302a6244.html">用OpenCV显示OpenGL图形</a></section><div class="article-label"><div class="article-category label"><i class="fa fa-book" aria-hidden="true"></i> <a class="color2 article-category-link" href="/categories/Study/">Study</a></div><div class="article-tag label"><i class="fa fa-bookmark" aria-hidden="true"></i> <a class="color2 article-tag-link" href="/tags/opencv/">opencv</a><a class="color2 article-tag-link" href="/tags/opengl/">opengl</a></div></div></header><section class="article-content"><div class="article-content--excerpt"><h2 id="前言">前言</h2><p>　　本文就是一个小实验，试验 OpenCV 到底能不能支持 OpenGL 图形显示。</p></div><div class="article-content--all"><h2 id="前言">前言</h2><p>　　本文就是一个小实验，试验 OpenCV 到底能不能支持 OpenGL 图形显示。</p><a id="more"></a><h2 id="正文">正文</h2><p>　　如果在 OpenCV 用 CMake 编译时勾选 <strong>WITH_OPENGL</strong> 且编译一切顺利的话，编译和配置的具体步骤和情况可以看 Shaun 写的一篇文档：<a href="https://cniter.github.io/posts/7df528b4.html">Win10＋VS2013＋CMake-gui编译和配置OpenCV-3.2.0</a> ，那么就可以用 OpenCV 窗口显示 OpenGL 图形。</p><p>　　在 VS 下使用 Windows 原有的 OpenGL 函数需要包含以下头文件和库文件：</p><div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="false" data-lang="C++"><figure class="highlight hljs c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;Windows.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;GL/gl.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;GL/glu.h&gt;</span></span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">pragma</span> comment(lib, <span class="meta-string">"OpenGL32.lib"</span>)</span></div><div class="line"><span class="meta">#<span class="meta-keyword">pragma</span> comment(lib, <span class="meta-string">"glu32.lib"</span>)</span></div></pre></td></tr></table></figure></div><p>　　在 OpenCV 中显示 OpenGL 图形需要 <code>cv::namedWindow(openGLWindowName, cv::WINDOW_OPENGL)</code>，在 namedWindow 函数中添加 cv::WINDOW_OPENGL 参数说明该窗口支持 OpenGL 图形。</p><p>附示例程序：</p><div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="false" data-lang="C++"><figure class="highlight hljs c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div><div class="line">189</div><div class="line">190</div><div class="line">191</div><div class="line">192</div><div class="line">193</div><div class="line">194</div><div class="line">195</div><div class="line">196</div><div class="line">197</div><div class="line">198</div><div class="line">199</div><div class="line">200</div><div class="line">201</div><div class="line">202</div><div class="line">203</div><div class="line">204</div><div class="line">205</div><div class="line">206</div><div class="line">207</div><div class="line">208</div><div class="line">209</div><div class="line">210</div><div class="line">211</div><div class="line">212</div><div class="line">213</div><div class="line">214</div><div class="line">215</div><div class="line">216</div><div class="line">217</div><div class="line">218</div><div class="line">219</div><div class="line">220</div><div class="line">221</div><div class="line">222</div><div class="line">223</div><div class="line">224</div><div class="line">225</div><div class="line">226</div><div class="line">227</div><div class="line">228</div><div class="line">229</div><div class="line">230</div><div class="line">231</div><div class="line">232</div><div class="line">233</div><div class="line">234</div><div class="line">235</div><div class="line">236</div><div class="line">237</div><div class="line">238</div><div class="line">239</div><div class="line">240</div><div class="line">241</div><div class="line">242</div><div class="line">243</div><div class="line">244</div><div class="line">245</div><div class="line">246</div><div class="line">247</div><div class="line">248</div><div class="line">249</div><div class="line">250</div><div class="line">251</div><div class="line">252</div><div class="line">253</div><div class="line">254</div><div class="line">255</div><div class="line">256</div><div class="line">257</div><div class="line">258</div><div class="line">259</div><div class="line">260</div><div class="line">261</div><div class="line">262</div><div class="line">263</div><div class="line">264</div><div class="line">265</div><div class="line">266</div><div class="line">267</div><div class="line">268</div><div class="line">269</div><div class="line">270</div><div class="line">271</div><div class="line">272</div><div class="line">273</div><div class="line">274</div><div class="line">275</div><div class="line">276</div><div class="line">277</div><div class="line">278</div><div class="line">279</div><div class="line">280</div><div class="line">281</div><div class="line">282</div><div class="line">283</div><div class="line">284</div><div class="line">285</div><div class="line">286</div><div class="line">287</div><div class="line">288</div><div class="line">289</div><div class="line">290</div><div class="line">291</div><div class="line">292</div><div class="line">293</div><div class="line">294</div><div class="line">295</div><div class="line">296</div><div class="line">297</div><div class="line">298</div><div class="line">299</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;opencv.hpp&gt;</span></span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;Windows.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;GL/gl.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;GL/glu.h&gt;</span></span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">pragma</span> comment(lib, <span class="meta-string">"OpenGL32.lib"</span>)</span></div><div class="line"><span class="meta">#<span class="meta-keyword">pragma</span> comment(lib, <span class="meta-string">"glu32.lib"</span>)</span></div><div class="line"></div><div class="line"><span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">float</span> vertex_list[][<span class="number">3</span>] =</div><div class="line">&#123;</div><div class="line">	<span class="number">-0.5f</span>, <span class="number">-0.5f</span>, <span class="number">-0.5f</span>,</div><div class="line">	<span class="number">0.5f</span>, <span class="number">-0.5f</span>, <span class="number">-0.5f</span>,</div><div class="line">	<span class="number">-0.5f</span>, <span class="number">0.5f</span>, <span class="number">-0.5f</span>,</div><div class="line">	<span class="number">0.5f</span>, <span class="number">0.5f</span>, <span class="number">-0.5f</span>,</div><div class="line">	<span class="number">-0.5f</span>, <span class="number">-0.5f</span>, <span class="number">0.5f</span>,</div><div class="line">	<span class="number">0.5f</span>, <span class="number">-0.5f</span>, <span class="number">0.5f</span>,</div><div class="line">	<span class="number">-0.5f</span>, <span class="number">0.5f</span>, <span class="number">0.5f</span>,</div><div class="line">	<span class="number">0.5f</span>, <span class="number">0.5f</span>, <span class="number">0.5f</span>,</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="comment">// 将要使用的顶点的序号保存到一个数组里面 </span></div><div class="line"></div><div class="line"><span class="keyword">static</span> <span class="keyword">const</span> GLint index_list[][<span class="number">2</span>] =</div><div class="line">&#123;</div><div class="line">	&#123; <span class="number">0</span>, <span class="number">1</span> &#125;,</div><div class="line">	&#123; <span class="number">2</span>, <span class="number">3</span> &#125;,</div><div class="line">	&#123; <span class="number">4</span>, <span class="number">5</span> &#125;,</div><div class="line">	&#123; <span class="number">6</span>, <span class="number">7</span> &#125;,</div><div class="line">	&#123; <span class="number">0</span>, <span class="number">2</span> &#125;,</div><div class="line">	&#123; <span class="number">1</span>, <span class="number">3</span> &#125;,</div><div class="line">	&#123; <span class="number">4</span>, <span class="number">6</span> &#125;,</div><div class="line">	&#123; <span class="number">5</span>, <span class="number">7</span> &#125;,</div><div class="line">	&#123; <span class="number">0</span>, <span class="number">4</span> &#125;,</div><div class="line">	&#123; <span class="number">1</span>, <span class="number">5</span> &#125;,</div><div class="line">	&#123; <span class="number">7</span>, <span class="number">3</span> &#125;,</div><div class="line">	&#123; <span class="number">2</span>, <span class="number">6</span> &#125;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="keyword">static</span> <span class="keyword">float</span> rotate = <span class="number">0</span>;</div><div class="line"><span class="keyword">static</span> <span class="keyword">int</span> times = <span class="number">0</span>;</div><div class="line"></div><div class="line">GLint windowWidth = <span class="number">800</span>;</div><div class="line">GLint windowHeight = <span class="number">800</span>;</div><div class="line"></div><div class="line">GLfloat xRotAngle = <span class="number">-75.0f</span>;</div><div class="line">GLfloat yRotAngle = <span class="number">0.0f</span>;</div><div class="line">GLfloat zRotAngle = <span class="number">-135.0f</span>;</div><div class="line"></div><div class="line"><span class="keyword">float</span> MIN_X = <span class="number">-200</span>;</div><div class="line"><span class="keyword">float</span> MAX_X = <span class="number">200</span>;</div><div class="line"></div><div class="line"><span class="keyword">float</span> MIN_Y = <span class="number">-200</span>;</div><div class="line"><span class="keyword">float</span> MAX_Y = <span class="number">200</span>;</div><div class="line"></div><div class="line"><span class="keyword">float</span> MIN_Z = <span class="number">-200</span>;</div><div class="line"><span class="keyword">float</span> MAX_Z = <span class="number">200</span>;</div><div class="line"></div><div class="line">GLfloat coordinatesize = <span class="number">200.0f</span>;</div><div class="line">GLfloat ratio = <span class="number">1</span>;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">drawLine</span><span class="params">(<span class="keyword">float</span> x1, <span class="keyword">float</span> y1, <span class="keyword">float</span> z1, <span class="keyword">float</span> x2, <span class="keyword">float</span> y2, <span class="keyword">float</span> z2)</span></span></div><div class="line"><span class="function"></span>&#123;</div><div class="line">	glBegin(GL_LINES);</div><div class="line">	glVertex3f(x1, y1, z1);</div><div class="line">	glVertex3f(x2, y2, z2);</div><div class="line">	glEnd();</div><div class="line">	glFlush();</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// 绘制立方体</span></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">DrawCube</span><span class="params">(<span class="keyword">void</span>)</span></span></div><div class="line"><span class="function"></span>&#123;</div><div class="line">	<span class="keyword">int</span> i, j;</div><div class="line">	glBegin(GL_LINES);</div><div class="line">	<span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">12</span>; ++i) <span class="comment">// 12 条线段</span></div><div class="line">	&#123;</div><div class="line">		<span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; <span class="number">2</span>; ++j) <span class="comment">// 每条线段 2个顶点</span></div><div class="line">		&#123;</div><div class="line">			glVertex3fv(vertex_list[index_list[i][j]]);</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	glEnd();</div><div class="line">	glFlush();</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">reshapeOperate</span><span class="params">()</span></span></div><div class="line"><span class="function"></span>&#123;</div><div class="line">	glMatrixMode(GL_PROJECTION);</div><div class="line">	glLoadIdentity();</div><div class="line">	<span class="keyword">if</span> (ratio &lt; <span class="number">1</span>)</div><div class="line">		glOrtho(-coordinatesize, coordinatesize, -coordinatesize / ratio, coordinatesize / ratio, -coordinatesize, coordinatesize);</div><div class="line">	<span class="keyword">else</span></div><div class="line">		glOrtho(-coordinatesize*ratio, coordinatesize*ratio, -coordinatesize, coordinatesize, -coordinatesize, coordinatesize);</div><div class="line"></div><div class="line">	glMatrixMode(GL_MODELVIEW);</div><div class="line">	glLoadIdentity();</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">reshape</span><span class="params">(<span class="keyword">int</span> w, <span class="keyword">int</span> h)</span> </span></div><div class="line"><span class="function"></span>&#123;</div><div class="line">	<span class="keyword">if</span> ((w == <span class="number">0</span>) || (h == <span class="number">0</span>))</div><div class="line">		<span class="keyword">return</span>;</div><div class="line"></div><div class="line">	glViewport(<span class="number">0</span>, <span class="number">0</span>, w, h);</div><div class="line"></div><div class="line">	ratio = (GLfloat)w / (GLfloat)h;</div><div class="line"></div><div class="line">	reshapeOperate();</div><div class="line">&#125;</div><div class="line"></div><div class="line">GLfloat AngleX = <span class="number">45.0f</span>;</div><div class="line">GLfloat AngleY = <span class="number">315.0f</span>;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">reshape1</span><span class="params">(<span class="keyword">int</span> w, <span class="keyword">int</span> h)</span></span></div><div class="line"><span class="function"></span>&#123;</div><div class="line">	GLfloat aspect = (GLfloat)w / (GLfloat)h;</div><div class="line">	GLfloat nRange = <span class="number">100.0f</span>;</div><div class="line"></div><div class="line">	glViewport(<span class="number">0</span>, <span class="number">0</span>, w, h);</div><div class="line"></div><div class="line">	glMatrixMode(GL_PROJECTION); <span class="comment">//将当前矩阵指定为投影模式  </span></div><div class="line">	glLoadIdentity();</div><div class="line"></div><div class="line">	<span class="comment">//设置三维投影区  </span></div><div class="line"></div><div class="line">	<span class="keyword">if</span> (w &lt;= h)</div><div class="line">	&#123;</div><div class="line">		glOrtho(-nRange, nRange, -nRange * aspect, nRange * aspect, -nRange, nRange);</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">else</span></div><div class="line">	&#123;</div><div class="line">		glOrtho(-nRange, nRange, -nRange / aspect, nRange / aspect, -nRange, nRange);</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">onDraw</span><span class="params">(<span class="keyword">void</span>*)</span></span></div><div class="line"><span class="function"></span>&#123;</div><div class="line">	<span class="comment">// Draw something using OpenGL here  </span></div><div class="line">	<span class="comment">//glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);	 //清除所有的像素</span></div><div class="line"></div><div class="line">	<span class="comment">//glMatrixMode(GL_MODELVIEW);</span></div><div class="line">	<span class="comment">//glLoadIdentity();</span></div><div class="line">	<span class="comment">//glPushMatrix();</span></div><div class="line"></div><div class="line">	<span class="comment">////glTranslatef(-0.2, 0, 0); // 平移</span></div><div class="line">	<span class="comment">////glScalef(2, 1, 1);    // 缩放</span></div><div class="line"></div><div class="line">	<span class="comment">//glRotatef(xRotAngle, 1.0f, 0.0f, 0.0f);</span></div><div class="line">	<span class="comment">//glRotatef(yRotAngle, 0.0f, 1.0f, 0.0f);</span></div><div class="line">	<span class="comment">//glRotatef(zRotAngle, 0.0f, 0.0f, 1.0f);</span></div><div class="line"></div><div class="line">	<span class="comment">//glColor3f(1, 0, 0);</span></div><div class="line">	<span class="comment">//drawLine(0, 0, 0, MAX_X, 0, 0); //x轴</span></div><div class="line"></div><div class="line">	<span class="comment">//glColor3f(0, 1, 0);</span></div><div class="line">	<span class="comment">//drawLine(0, 0, 0, 0, MAX_Y, 0); //y轴</span></div><div class="line"></div><div class="line">	<span class="comment">//glColor3f(0, 0, 1);</span></div><div class="line">	<span class="comment">//drawLine(0, 0, 0, 0, 0, MAX_Z); //z轴</span></div><div class="line"></div><div class="line">	<span class="comment">//times++;</span></div><div class="line">	<span class="comment">//if (times &gt; 1)</span></div><div class="line">	<span class="comment">//&#123;</span></div><div class="line">	<span class="comment">//	times = 0;</span></div><div class="line">	<span class="comment">//&#125;</span></div><div class="line"></div><div class="line">	<span class="comment">//if (times % 1 == 0)</span></div><div class="line">	<span class="comment">//&#123;</span></div><div class="line">	<span class="comment">//	rotate += 0.3;</span></div><div class="line">	<span class="comment">//&#125;</span></div><div class="line"></div><div class="line">	<span class="comment">//glRotatef(rotate, 0, 1, 0);</span></div><div class="line">	<span class="comment">//glRotatef(rotate, 1, 0, 0);</span></div><div class="line"></div><div class="line">	<span class="comment">//glColor3f(0, 1, 1);</span></div><div class="line"></div><div class="line">	<span class="comment">//DrawCube();</span></div><div class="line"></div><div class="line">	<span class="comment">//glPopMatrix();</span></div><div class="line"></div><div class="line">	reshape1(windowWidth, windowHeight);</div><div class="line">	glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);</div><div class="line">	glMatrixMode(GL_MODELVIEW);</div><div class="line">	glLoadIdentity();</div><div class="line">	AngleX++;</div><div class="line">	AngleY++;</div><div class="line">	glPushMatrix();</div><div class="line">	&#123;</div><div class="line">		glRotatef(AngleX, <span class="number">1.0f</span>, <span class="number">0.0f</span>, <span class="number">0.0f</span>);</div><div class="line">		glRotatef(AngleY, <span class="number">0.0f</span>, <span class="number">1.0f</span>, <span class="number">0.0f</span>);</div><div class="line"></div><div class="line">		glBegin(GL_POLYGON); <span class="comment">//前表面  </span></div><div class="line">		glColor3ub((GLubyte)<span class="number">255</span>, (GLubyte)<span class="number">255</span>, (GLubyte)<span class="number">255</span>);<span class="comment">//颜色设置为白色  </span></div><div class="line">		glVertex3f(<span class="number">50.0f</span>, <span class="number">50.0f</span>, <span class="number">50.0f</span>);</div><div class="line"></div><div class="line">		glColor3ub((GLubyte)<span class="number">255</span>, (GLubyte)<span class="number">255</span>, (GLubyte)<span class="number">0</span>);<span class="comment">//颜色设置为黄色  </span></div><div class="line">		glVertex3f(<span class="number">50.0f</span>, <span class="number">-50.0f</span>, <span class="number">50.0f</span>);</div><div class="line"></div><div class="line">		glColor3ub((GLubyte)<span class="number">255</span>, (GLubyte)<span class="number">0</span>, (GLubyte)<span class="number">0</span>);<span class="comment">//颜色设置为红色  </span></div><div class="line">		glVertex3f(<span class="number">-50.0f</span>, <span class="number">-50.0f</span>, <span class="number">50.0f</span>);</div><div class="line"></div><div class="line">		glColor3ub((GLubyte)<span class="number">255</span>, (GLubyte)<span class="number">0</span>, (GLubyte)<span class="number">255</span>);<span class="comment">//颜色设置为白色  </span></div><div class="line">		glVertex3f(<span class="number">-50.0f</span>, <span class="number">50.0f</span>, <span class="number">50.0f</span>);</div><div class="line">		glEnd();</div><div class="line"></div><div class="line">		glBegin(GL_POLYGON); <span class="comment">//后表面  </span></div><div class="line">		glColor3f(<span class="number">0.0f</span>, <span class="number">1.0f</span>, <span class="number">1.0f</span>);<span class="comment">//颜色设置为青色  </span></div><div class="line">		glVertex3f(<span class="number">50.0f</span>, <span class="number">50.0f</span>, <span class="number">-50.0f</span>);</div><div class="line"></div><div class="line">		glColor3f(<span class="number">0.0f</span>, <span class="number">1.0f</span>, <span class="number">0.0f</span>);<span class="comment">//颜色设置为绿色  </span></div><div class="line">		glVertex3f(<span class="number">50.0f</span>, <span class="number">-50.0f</span>, <span class="number">-50.0f</span>);</div><div class="line"></div><div class="line">		glColor3f(<span class="number">0.0f</span>, <span class="number">0.0f</span>, <span class="number">0.0f</span>);<span class="comment">//颜色设置为黑色  </span></div><div class="line">		glVertex3f(<span class="number">-50.0f</span>, <span class="number">-50.0f</span>, <span class="number">-50.0f</span>);</div><div class="line"></div><div class="line">		glColor3f(<span class="number">0.0f</span>, <span class="number">0.0f</span>, <span class="number">1.0f</span>);<span class="comment">//颜色设置为蓝色  </span></div><div class="line">		glVertex3f(<span class="number">-50.0f</span>, <span class="number">50.0f</span>, <span class="number">-50.0f</span>);</div><div class="line">		glEnd();</div><div class="line"></div><div class="line">		glBegin(GL_POLYGON); <span class="comment">//上表面  </span></div><div class="line">		glColor3d(<span class="number">0.0</span>, <span class="number">1.0</span>, <span class="number">1.0</span>);<span class="comment">//颜色设置为青色  </span></div><div class="line">		glVertex3f(<span class="number">50.0f</span>, <span class="number">50.0f</span>, <span class="number">-50.0f</span>);</div><div class="line"></div><div class="line">		glColor3d(<span class="number">1.0</span>, <span class="number">1.0</span>, <span class="number">1.0</span>);<span class="comment">//颜色设置为白色  </span></div><div class="line">		glVertex3f(<span class="number">50.0f</span>, <span class="number">50.0f</span>, <span class="number">50.0f</span>);</div><div class="line"></div><div class="line">		glColor3d(<span class="number">1.0</span>, <span class="number">0.0</span>, <span class="number">1.0</span>);<span class="comment">//颜色设置为品红色  </span></div><div class="line">		glVertex3f(<span class="number">-50.0f</span>, <span class="number">50.0f</span>, <span class="number">50.0f</span>);</div><div class="line"></div><div class="line">		glColor3d(<span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">1.0</span>);<span class="comment">//颜色设置为蓝色  </span></div><div class="line">		glVertex3f(<span class="number">-50.0f</span>, <span class="number">50.0f</span>, <span class="number">-50.0f</span>);</div><div class="line">		glEnd();</div><div class="line"></div><div class="line">		glBegin(GL_POLYGON); <span class="comment">//下表面  </span></div><div class="line">		glColor3ub(<span class="number">0u</span>, <span class="number">255u</span>, <span class="number">0u</span>);<span class="comment">//颜色设置为绿色  </span></div><div class="line">		glVertex3f(<span class="number">50.0f</span>, <span class="number">-50.0f</span>, <span class="number">-50.0f</span>);</div><div class="line"></div><div class="line">		glColor3ub(<span class="number">255u</span>, <span class="number">255u</span>, <span class="number">0u</span>);<span class="comment">//颜色设置为黄色  </span></div><div class="line">		glVertex3f(<span class="number">50.0f</span>, <span class="number">-50.0f</span>, <span class="number">50.0f</span>);</div><div class="line"></div><div class="line">		glColor3ub(<span class="number">255u</span>, <span class="number">0u</span>, <span class="number">0u</span>);<span class="comment">//颜色设置为红色  </span></div><div class="line">		glVertex3f(<span class="number">-50.0f</span>, <span class="number">-50.0f</span>, <span class="number">50.0f</span>);</div><div class="line"></div><div class="line">		glColor3ub(<span class="number">0u</span>, <span class="number">0u</span>, <span class="number">0u</span>);<span class="comment">//颜色设置为黑色  </span></div><div class="line">		glVertex3f(<span class="number">-50.0f</span>, <span class="number">-50.0f</span>, <span class="number">-50.0f</span>);</div><div class="line">		glEnd();</div><div class="line"></div><div class="line">		glBegin(GL_POLYGON); <span class="comment">//左表面  </span></div><div class="line">		glColor3ub((GLubyte)<span class="number">255</span>, (GLubyte)<span class="number">255</span>, (GLubyte)<span class="number">255</span>);<span class="comment">//颜色设置为白色  </span></div><div class="line">		glVertex3f(<span class="number">50.0f</span>, <span class="number">50.0f</span>, <span class="number">50.0f</span>);</div><div class="line"></div><div class="line">		glColor3ub((GLubyte)<span class="number">0</span>, (GLubyte)<span class="number">255</span>, (GLubyte)<span class="number">255</span>);<span class="comment">//颜色设置为青色  </span></div><div class="line">		glVertex3f(<span class="number">50.0f</span>, <span class="number">50.0f</span>, <span class="number">-50.0f</span>);</div><div class="line"></div><div class="line">		glColor3ub((GLubyte)<span class="number">0</span>, (GLubyte)<span class="number">255</span>, (GLubyte)<span class="number">0</span>);<span class="comment">//颜色设置为绿色  </span></div><div class="line">		glVertex3f(<span class="number">50.0f</span>, <span class="number">-50.0f</span>, <span class="number">-50.0f</span>);</div><div class="line"></div><div class="line">		glColor3ub((GLubyte)<span class="number">255</span>, (GLubyte)<span class="number">255</span>, (GLubyte)<span class="number">0</span>);<span class="comment">//颜色设置为黄色  </span></div><div class="line">		glVertex3f(<span class="number">50.0f</span>, <span class="number">-50.0f</span>, <span class="number">50.0f</span>);</div><div class="line">		glEnd();</div><div class="line"></div><div class="line">		glBegin(GL_POLYGON); <span class="comment">//右表面  </span></div><div class="line">		glColor3f(<span class="number">1.0f</span>, <span class="number">0.0f</span>, <span class="number">1.0f</span>);<span class="comment">//颜色设置为品红色  </span></div><div class="line">		glVertex3f(<span class="number">-50.0f</span>, <span class="number">50.0f</span>, <span class="number">50.0f</span>);</div><div class="line"></div><div class="line">		glColor3f(<span class="number">0.0f</span>, <span class="number">0.0f</span>, <span class="number">1.0f</span>);<span class="comment">//颜色设置为蓝色  </span></div><div class="line">		glVertex3f(<span class="number">-50.0f</span>, <span class="number">50.0f</span>, <span class="number">-50.0f</span>);</div><div class="line"></div><div class="line">		glColor3f(<span class="number">0.0f</span>, <span class="number">0.0f</span>, <span class="number">0.0f</span>);<span class="comment">//颜色设置为黑色  </span></div><div class="line">		glVertex3f(<span class="number">-50.0f</span>, <span class="number">-50.0f</span>, <span class="number">-50.0f</span>);</div><div class="line"></div><div class="line">		glColor3f(<span class="number">1.0f</span>, <span class="number">0.0f</span>, <span class="number">0.0f</span>);<span class="comment">//颜色设置为红色  </span></div><div class="line">		glVertex3f(<span class="number">-50.0f</span>, <span class="number">-50.0f</span>, <span class="number">50.0f</span>);</div><div class="line">		glEnd();</div><div class="line">	&#125;</div><div class="line">	glPopMatrix();</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">opencvWithOpenGLTest</span><span class="params">()</span></span></div><div class="line"><span class="function"></span>&#123;</div><div class="line">	<span class="built_in">std</span>::<span class="built_in">string</span> openGLWindowName = <span class="string">"OpenGL Test"</span>;</div><div class="line">	cv::namedWindow(openGLWindowName, cv::WINDOW_OPENGL);</div><div class="line">	cv::resizeWindow(openGLWindowName, windowWidth, windowHeight);</div><div class="line">	cv::setOpenGlContext(openGLWindowName);</div><div class="line">	cv::setOpenGlDrawCallback(openGLWindowName, onDraw, <span class="literal">NULL</span>);</div><div class="line"></div><div class="line">	<span class="keyword">while</span> (cv::waitKey(<span class="number">30</span>) != <span class="number">27</span>)</div><div class="line">	&#123;</div><div class="line">		cv::updateWindow(openGLWindowName);	<span class="comment">// when needed  </span></div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> *argv[])</span></span></div><div class="line"><span class="function"></span>&#123;</div><div class="line">	opencvWithOpenGLTest();</div><div class="line"></div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></div><p>运行成功后可看到一个旋转的彩色立方体。</p><h2 id="结论">结论</h2><p>　　从实验结果来看，OpenCV 确实能支持 OpenGL 图形的显示，但其不足之处也很明显：没有提供鼠标和键盘的交互操作（可能是 Shaun 还没发现，毕竟只是尝试一下看它能不能显示），仅仅只是提供一个显示窗口。如果真想用 OpenGL 做一些好玩的东西，还是用 glut 和 glew 吧，不过 glut 已经停止更新许久，glew 在调试时可能会出现一些莫名其妙的错误，所以网上有人用 freeglut 代替 glut，glee 代替 glew，具体的东西 Shaun 也没试过，Shaun 目前还没做过 OpenGL 相关的事，这次用 OpenCV 显示 OpenGL 图形纯粹是为了好玩 (*^__^ *) 嘻嘻……。</p><h2 id="后记">后记</h2><p>　　本篇文档也是上次编译配置完 OpenCV-3.2 后做的一次小实验，但当时并没有记录，所以还有一些参考资料也已经不知道了 :-(。</p><h2 id="参考资料">参考资料</h2><p>[1] <a href="http://blog.csdn.net/yang_xian521/article/details/8531058" target="_blank" rel="external">OpenCV学习笔记（六十一）——建立支持OpenGL的OpenCV工程“Master OpenCV”chp.3</a>（<a href="http://blog.csdn.net/yang_xian521/article/category/910716" class="uri" target="_blank" rel="external">http://blog.csdn.net/yang_xian521/article/category/910716</a>）</p><p>[2] <a href="http://blog.csdn.net/bcbobo21cn/article/details/51058836" target="_blank" rel="external">几个opengl立方体绘制案例</a>（<a href="http://blog.csdn.net/bcbobo21cn/article/category/3104565" class="uri" target="_blank" rel="external">http://blog.csdn.net/bcbobo21cn/article/category/3104565</a>）</p></div><div class="article-content-more"><button type="button" class="article-more--link"><i class="fa fa-angle-double-down fa-3x" aria-hidden="true"></i></button></div></section></article><article id="post-Win10＋VS2013＋CMake-gui编译和配置OpenCV-3-2-0" class="article div-border"><header class="article-header"><span class="article-date article-title--index"><i class="fa fa-calendar" aria-hidden="true"></i> <a href="/posts/7df528b4.html"><time datetime="2017-08-28T07:38:39.000Z">2017-08-28</time></a></span><section class="article-title article-title--index"><a href="/posts/7df528b4.html">Win10＋VS2013＋CMake-gui编译和配置OpenCV-3.2.0</a></section><div class="article-label"><div class="article-category label"><i class="fa fa-book" aria-hidden="true"></i> <a class="color5 article-category-link" href="/categories/Study/">Study</a></div><div class="article-tag label"><i class="fa fa-bookmark" aria-hidden="true"></i> <a class="color5 article-tag-link" href="/tags/opencv/">opencv</a></div></div></header><section class="article-content"><div class="article-content--excerpt"><p><font color="#FA8072">Shaun 的系统环境：Win10_x64 英文企业版；VS2013-update5 英文旗舰版；CMake-3.6.3-win64-x64 免安装版；Qt-opensource-windows-x86-msvc2013-5.6.2。</font></p><p>　　<strong>*注：</strong>Shaun 写的这篇文档主要用来编译 x86 版的动态 debug 库，想编译其它类型的库请自行参考其它资料，做相关改变。（ 其实如果想编译 x64 版的可以在用 VS2013 编译时将上方的 Win32 平台选择 x64 平台；想编译 release 版的可以在用 VS2013 编译时将上方的 Debug 模式选择 Release 模式；想编译静态库的可以在用 CMake 生成时取消勾选 <strong>BUILD_SHARED_LIBS</strong> 选项即可。:-P ）</p><h2 id="前言">前言</h2><p>　　因为 OpenCV-3.2 官方的 release 版只有支持 VS2015 的库，而且不包括扩展包（ opencv_contrib ）中的库，而由于某些历史原因，Shaun 目前使用的编译器还是 VS2013，又想用用扩展包中一些有趣的算法，在加上上个月 opencv-3.3 还没有正式 release，所以上个月 Shaun 就利用 VS2013 对 opencv-3.2 进行编译。具体编译过程如下：</p></div><div class="article-content--all"><p><font color="#FA8072">Shaun 的系统环境：Win10_x64 英文企业版；VS2013-update5 英文旗舰版；CMake-3.6.3-win64-x64 免安装版；Qt-opensource-windows-x86-msvc2013-5.6.2。</font></p><p>　　<strong>*注：</strong>Shaun 写的这篇文档主要用来编译 x86 版的动态 debug 库，想编译其它类型的库请自行参考其它资料，做相关改变。（ 其实如果想编译 x64 版的可以在用 VS2013 编译时将上方的 Win32 平台选择 x64 平台；想编译 release 版的可以在用 VS2013 编译时将上方的 Debug 模式选择 Release 模式；想编译静态库的可以在用 CMake 生成时取消勾选 <strong>BUILD_SHARED_LIBS</strong> 选项即可。:-P ）</p><h2 id="前言">前言</h2><p>　　因为 OpenCV-3.2 官方的 release 版只有支持 VS2015 的库，而且不包括扩展包（ opencv_contrib ）中的库，而由于某些历史原因，Shaun 目前使用的编译器还是 VS2013，又想用用扩展包中一些有趣的算法，在加上上个月 opencv-3.3 还没有正式 release，所以上个月 Shaun 就利用 VS2013 对 opencv-3.2 进行编译。具体编译过程如下：</p><a id="more"></a><h2 id="准备篇">准备篇</h2><p>　　先在 GitHub 上下载对应的 opencv 源码包：<a href="https://github.com/opencv/opencv/archive/3.2.0.zip" target="_blank" rel="external">opencv-3.2.0</a> 和 <a href="https://github.com/opencv/opencv_contrib/archive/3.2.0.zip" target="_blank" rel="external">opencv_contrib-3.2.0</a>（<a href="https://github.com/opencv" class="uri" target="_blank" rel="external">https://github.com/opencv</a>），扩展包版本一定要和 opencv 版本相同。Shaun 为了添加 Qt 后端显示支持（为了好看和方便 :-P），所以还下载安装了支持 VS2013 的 <a href="http://download.qt.io/archive/qt/5.6/5.6.2/qt-opensource-windows-x86-msvc2013-5.6.2.exe" target="_blank" rel="external">Qt-5.6.2</a>（<a href="http://download.qt.io/archive/qt/" class="uri" target="_blank" rel="external">http://download.qt.io/archive/qt/</a>）。再<a href="https://cmake.org/files/v3.6/cmake-3.6.3-win64-x64.zip" target="_blank" rel="external">下载 CMake-3.6.3-win64-x64 免安装版</a>（<a href="https://cmake.org/files/" class="uri" target="_blank" rel="external">https://cmake.org/files/</a>）。至于微软的东西，推荐直接去 <a href="https://msdn.itellyou.cn/" target="_blank" rel="external">MSDN 我告诉你</a>去下载。</p><p>　　由于网上有的资料（具体是哪篇文章 Shaun 忘记了 o(╯□╰)o）说编译时的文件结构可能会影响编译是否成功，再加上为了方便编译管理，Shaun 编译时的文件结构为：</p><blockquote><p>opencv-3.2.0_build<br>├── build<br>└── sources<br>​ 　　├── opencv-3.2.0<br>​ 　　└── opencv_contrib-3.2.0</p><p>4 directories, 0 files</p></blockquote><p>其中 opencv-3.2.0 用来装 opencv-3.2.0.zip 解压后的源码；opencv_contrib-3.2.0 用来装opencv_contrib-3.2.0.zip 解压后的源码；build 用来装 CMake 编译完成后的文件。</p><h2 id="编译篇">编译篇</h2><p>　　打开 /cmake-3.6.3-win64-x64/bin/cmake-gui.exe，在 <strong>Where is the source code</strong> 文本框中选择 /opencv-3.2.0_build/sources/opencv-3.2.0；在 <strong>Where to build the binaris</strong> 文本框中选择 /opencv-3.2.0_build/build，点击 <strong>Configure</strong>，在弹出的编译器选择框中选择 <strong>Visual Studio 12 2013</strong>，一直 <strong>Configure</strong> 直到红色的条变白。</p><p>　　网上有人在这一步可能会出现<code>ffmpeg not downloaded</code>和<code>“ippicv_windows_20151201.zip”not downloaded</code>这两个问题，Shaun 没出现这两个问题，所以没有机会验证 <a href="http://livezingy.com/compile-opencv-and-opencv_contrib/" target="_blank" rel="external">cmake-gui和vs2013编译opencv和opencv_contrib源码</a> 中的解决办法是否正确。</p><p>　　接下来就是添加扩展包，在白色条中找到 <strong>OPENCV_EXTRA_MODULES_PATH</strong> 文本框，在其中选择 opencv_contrib 源码中 modeles 所在路径：/opencv-3.2.0_build/sources/opencv_contrib-3.2.0/modules。</p><p>　　至于想要支持 OpenGL 和 Qt 就需要勾选 <strong>WITH_OPENGL</strong> 和 <strong>WITH_QT</strong> 并 <strong>Configure</strong> 后选择好 Qt 的安装目录，如果配置好 Qt 的环境变量 Cmake 将会自动选择好 Qt 所在路径。</p><p>　　随后再次反复 <strong>Configure</strong> 直到界面不再出现红色背景，之后单击 <strong>Generate</strong>。不出意外的话，你会看到 <strong>Configure done</strong> 和 <strong>Generate done</strong>。</p><p>　　Shaun 在这一步出现了 <a href="http://livezingy.com/build_shared_libs/" target="_blank" rel="external">VS2013_CMake_opencv3.1动态库与静态库的配置与编译</a> 中的问题，原因是同时勾选了同时勾选了 <strong>BUILD_opencv_world</strong> 和 <strong>BUILD_opencv_contirb_world</strong>，Shaun 的解决办法是将它们全部取消勾选，再次 <strong>Configure</strong> 和 <strong>Generate</strong>。</p><p>　　如果上面一切顺利的话就可以进行下一步了：使用 VS2013 编译 OpenCV。打开 /opencv-3.2.0_build/build 目录，将会看到一大堆文件和文件夹，双击 /opencv-3.2.0_build/build 目录下的 <strong>OpenCV.sln</strong>，用 VS2013 打开。找到 <strong>CMakeTargets</strong> 中的 <strong>INSTALL</strong> ，然后右键选择“Project Only”–&gt;“Build Only INSTALL”。</p><p>漫长的等待。。。。。。 (╯﹏╰)b</p><p>　　Shaun 在这一步出现了一个问题，具体问题和解决方法详见问题篇。</p><p>　　一切顺利的话，应该会比 Shaun 下面的库多两个，Shaun 最后生成的 Debug 库为：</p><blockquote><p>opencv_aruco320d.lib</p><p>opencv_bgsegm320d.lib</p><p>opencv_bioinspired320d.lib</p><p>opencv_calib3d320d.lib</p><p>opencv_ccalib320d.lib</p><p>opencv_core320d.lib</p><p>opencv_datasets320d.lib</p><p>opencv_dnn320d.lib</p><p>opencv_dpm320d.lib</p><p>opencv_face320d.lib</p><p>opencv_features2d320d.lib</p><p>opencv_flann320d.lib</p><p>opencv_fuzzy320d.lib</p><p>opencv_highgui320d.lib</p><p>opencv_imgcodecs320d.lib</p><p>opencv_imgproc320d.lib</p><p>opencv_line_descriptor320d.lib</p><p>opencv_ml320d.lib</p><p>opencv_objdetect320d.lib</p><p>opencv_optflow320d.lib</p><p>opencv_phase_unwrapping320d.lib</p><p>opencv_photo320d.lib</p><p>opencv_plot320d.lib</p><p>opencv_reg320d.lib</p><p>opencv_rgbd320d.lib</p><p>opencv_saliency320d.lib</p><p>opencv_shape320d.lib</p><p>opencv_stereo320d.lib</p><p>opencv_stitching320d.lib</p><p>opencv_structured_light320d.lib</p><p>opencv_superres320d.lib</p><p>opencv_surface_matching320d.lib</p><p>opencv_text320d.lib</p><p>opencv_tracking320d.lib</p><p>opencv_video320d.lib</p><p>opencv_videoio320d.lib</p><p>opencv_videostab320d.lib</p><p>opencv_xfeatures2d320d.lib</p><p>opencv_ximgproc320d.lib</p><p>opencv_xobjdetect320d.lib</p><p>opencv_xphoto320d.lib</p><p>共41个。</p></blockquote><h2 id="配置篇">配置篇</h2><p>　　因为 Shaun 只编译了 x86 版动态 debug 库，所以以下环境配置都只针对 x86 版动态 debug 库。（其实要配置 x64 的库就只需将 x86 换成 x64 即可；要配置 release 模式的库就只需在添加附加依赖项中的库文件选择 release 模式的库（即数字后没有 d的 lib）；若要配置静态库就需要选择静态库文件夹以及在附加依赖项中添加相应的静态库文件。:-P）</p><p>　　首先把 /opencv-3.2.0_build/build/install 中的文件都提取出来，这和 OpenCV 官方 release 的 opencv 文件结构差不多，具体两层结构如下</p><blockquote><p>.<br>├── bin<br>│　 └── opencv_waldboost_detectord.exe<br>├── etc<br>│　 ├── haarcascades<br>│　 └── lbpcascades<br>├── include<br>│　 ├── opencv<br>│　 └── opencv2<br>├── LICENSE<br>├── OpenCVConfig.cmake<br>├── OpenCVConfig-version.cmake<br>└── x86<br>​ 　　└── vc12</p><p>9 directories, 4 files</p></blockquote><p>x86 文件夹就是 VS2013 生成的对应 VS 版本 32位 的各种库，include 文件夹就是 opencv 的各项模块。Shaun 将其中提取出的文件全部放入了 C:\Program Files\OpenCV\3.2.0\build 文件夹中。</p><p>　　首先配置环境变量，系统（或用户）环境变量如下：</p><table><thead><tr class="header"><th style="text-align:center">变量名</th><th>变量值</th></tr></thead><tbody><tr class="odd"><td style="text-align:center">Path</td><td>C:\Program Files\OpenCV\3.2.0\build\x86\vc12\bin</td></tr><tr class="even"><td style="text-align:center">OPENCV</td><td>C:\Program Files\OpenCV\3.2.0\build</td></tr></tbody></table><p>不然可能会报错：<font color="#FA8072">程序“XXXXXX”已退出，返回值为 -1073741701 (0xc000007b)</font>。其中下面那行可以选择不要添加。</p><p>　　然后在 VS 中配置环境。新建工程，然后在“<strong>属性管理器</strong>”中对应项目下 <strong>Debug | Win32</strong> 文件夹右键“<strong>添加新项目属性表</strong>”。（方便一次配置，多次使用，以后再使用只要在相应项目下右键“<strong>添加现有属性表</strong>”即可），Shaun 新项目属性表取名为：opencv-3.2.0_msvc2013_x86d.props。</p><p>接下来就是真正的 VS 环境配置了：</p><p>　　双击打开刚才新建的属性表，选中“<strong>VC++目录</strong>”，<font color="#FA8072">注意在进行以下配置时建议都勾选左下角的“<strong>从父级或项目默认设置继承</strong>”</font></p><p>“<strong>可执行文件目录</strong>”中添加：</p><blockquote><p>C:\Program Files\OpenCV\3.2.0\build\x86\vc12\bin</p></blockquote><p>“<strong>包含目录</strong>”中添加：</p><blockquote><p>C:\Program Files\OpenCV\3.2.0\build\include</p><p>C:\Program Files\OpenCV\3.2.0\build\include\opencv</p><p>C:\Program Files\OpenCV\3.2.0\build\include\opencv2</p></blockquote><p>“<strong>库目录</strong>”中添加：</p><blockquote><p>C:\Program Files\OpenCV\3.2.0\build\x86\vc12\lib</p></blockquote><p>选中“<strong>链接器</strong>” –&gt; “<strong>常规</strong>”，“<strong>附加库目录</strong>”中添加：</p><blockquote><p>C:\Program Files\OpenCV\3.2.0\build\x86\vc12\lib</p></blockquote><p>“<strong>链接器</strong>” –&gt; “<strong>输入</strong>”，“<strong>附加依赖项</strong>”中添加 <code>C:\Program Files\OpenCV\3.2.0\build\x86\vc12\lib</code> 中数字后带 d 的库文件，即编译篇中 Shaun 最后生成的 41 个库文件。</p><p>　　<font color="#FA8072">配置完之后不要忘了右键该属性表进行保存处理</font>，以便下个项目直接使用，不需要再重复进行配置。</p><p>最后附示例程序：</p><div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="false" data-lang="C++"><figure class="highlight hljs c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;opencv2/opencv.hpp&gt;  </span></span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> *argv[])</span></span></div><div class="line"><span class="function"></span>&#123;</div><div class="line">	cv::Mat lena = cv::imread(<span class="string">"lena.jpg"</span>); <span class="comment">//载入图像到Mat，jpg文件和该cpp在同一文件夹</span></div><div class="line">	cv::namedWindow(<span class="string">"lena"</span>); <span class="comment">//创建一个名为 "lean"的窗口   </span></div><div class="line">	cv::imshow(<span class="string">"lena"</span>, lena);    <span class="comment">//显示名为 "lena"的窗口</span></div><div class="line">	cv::waitKey(<span class="number">5000</span>);  <span class="comment">// 只对窗口机制起作用（显示5000ms，随后返回-1，即窗口关闭），若在此期间有按键按下，则马上返回按键的ASCII码。</span></div><div class="line">	<span class="comment">//system("pause");</span></div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></div><p>这里必须在 imshow 后加入 waitkey，因为 WaitKey 不止是 Wait Key 而已，它其实还涉及到消息响应，有这个函数 cv 内部的 WndProc 函数才能起作用，才会更新窗口。</p><p>　　最后程序运行成功并显示 lena 图，则说明编译和配置没问题。</p><h2 id="问题篇">问题篇</h2><p><font color="#FA8072">1、用 VS2013 编译 OpenCV 在漫长的等待阶段出现的问题。</font></p><p>　　<strong>问题描述：</strong>CVV 模块报错，TS 模块编译不出来，好在这两个模块都不是很重要，可以忽略，Shaun 强迫症也没到这种程度 O(∩_∩)O~。</p><p>　　<strong>解决办法：</strong> 在 CVV 模块报错后可在 CMake（不知道具体是 <strong>INSTALL</strong> 下的 <strong>CMake Rules</strong> 中的 <strong>INSTALL_force.rule</strong>，还是 <strong>ALL_BUILD</strong> 下的 <strong>CMakeLists.txt</strong>，忘记了 o(╯□╰)o）中添加 <code>-DBUILD_opencv_cvv=OFF</code> 忽略 CVV 模块，从而正常编译其它模块。参考 <a href="https://github.com/opencv/opencv_contrib/issues/577" target="_blank" rel="external">errors on build opencv with cvv module and qt5 #577</a>。如果实在不行的话就在 CMake 生成的时候取消勾选出错模块，若是用 CMake 重新生成的话不要忘了先把 /opencv-3.2.0_build/build 目录下的文件全部删除干净。</p><h2 id="后记">后记</h2><p>　　这是以前写的两篇文档，现在再来整理成一篇。</p><h2 id="附录">附录</h2><p>　　既然能看到这里，说明是想在 VS 下使用 OpenCV，这里推荐一款 VS 下 OpenCV 开发调试神器：<a href="https://marketplace.visualstudio.com/items?itemName=WolfKienzle.ImageWatch" target="_blank" rel="external">Image Watch</a>，效果谁用谁知道。Image Watch 是 VS 的一个插件，不过它只支持 VS2012 及以上版本。使用方法为先设置断点（ F9 ），随后在调试（ F5 ）模式下，鼠标指针悬停在 <code>cv::Mat</code> 类型变量上，即可出现 <img src="http://img.blog.csdn.net/20161115134305655" alt="插件调试标签">，点击查看图标即可显示相应图像。</p><h2 id="参考资料">参考资料</h2><p>[1] <a href="http://livezingy.com/compile-opencv-and-opencv_contrib/" target="_blank" rel="external">cmake-gui和vs2013编译opencv和opencv_contrib源码</a>（<a href="http://livezingy.com/category/opencv/" class="uri" target="_blank" rel="external">http://livezingy.com/category/opencv/</a>）</p><p>[2] <a href="http://livezingy.com/build_shared_libs/" target="_blank" rel="external">VS2013_CMake_opencv3.1动态库与静态库的配置与编译</a>（<a href="http://livezingy.com/category/opencv/" class="uri" target="_blank" rel="external">http://livezingy.com/category/opencv/</a>）</p><p>[3] <a href="https://wenku.baidu.com/view/ef3081e3a5e9856a561260d1.html" target="_blank" rel="external">使用VS2015编译以及静态编译opencv3记录</a></p><p>[4] <a href="https://github.com/opencv/opencv_contrib/issues/577" target="_blank" rel="external">errors on build opencv with cvv module and qt5 #577</a></p><p>[5] <a href="http://blog.csdn.net/fengbingchun/article/details/46756373" target="_blank" rel="external">VS2013中Image Watch插件的使用(OpenCV)</a>（<a href="http://blog.csdn.net/fengbingchun/article/category/721609" class="uri" target="_blank" rel="external">http://blog.csdn.net/fengbingchun/article/category/721609</a>）</p></div><div class="article-content-more"><button type="button" class="article-more--link"><i class="fa fa-angle-double-down fa-3x" aria-hidden="true"></i></button></div></section></article><article id="post-MyThoughts" class="article div-border"><header class="article-header"><span class="article-date article-title--index"><i class="fa fa-calendar" aria-hidden="true"></i> <a href="/posts/17017530.html"><time datetime="2017-08-27T08:16:16.000Z">2017-08-27</time></a></span><section class="article-title article-title--index"><a href="/posts/17017530.html">MyThoughts</a></section><div class="article-label"><div class="article-category label"><i class="fa fa-book" aria-hidden="true"></i> <a class="color4 article-category-link" href="/categories/Life/">Life</a></div><div class="article-tag label"><i class="fa fa-bookmark" aria-hidden="true"></i> <a class="color1 article-tag-link" href="/tags/thought/">thought</a></div></div></header><section class="article-content"><div class="article-content--excerpt"><h2 id="前言">前言</h2><p>　　本篇主要用来记录 Shaun 的心路历程。</p></div><div class="article-content--all"><h2 id="前言">前言</h2><p>　　本篇主要用来记录 Shaun 的心路历程。</p><a id="more"></a><h2 id="thoughts">Thoughts</h2><table><colgroup><col style="width:14%"><col style="width:85%"></colgroup><thead><tr class="header"><th style="text-align:center">日期</th><th style="text-align:center">Thought</th></tr></thead><tbody><tr class="odd"><td style="text-align:center">2019-03-10</td><td style="text-align:center">学校是为了老师而不是学生存在的。——《李狗嗨》SP1<br>学生终究只是学校的过客而已，不过还是感觉教育的这种存在形式很有问题，不过目前好像也没有更好的解决方案，毕竟有人的地方就需要管理，有管理的地方就有利益和权力，而有利益和权力的地方必然存在纷争。</td></tr><tr class="even"><td style="text-align:center">2019-01-08</td><td style="text-align:center">不要抢话，适当保持沉默。</td></tr><tr class="odd"><td style="text-align:center">2018-06-09</td><td style="text-align:center">从维度的角度来解析信号，不愧是卡尔·萨根，或许有一天阻碍人类科技发展的事物就是维度吧。 ——观《超时空接触》</td></tr><tr class="even"><td style="text-align:center">2018-06-03</td><td style="text-align:center">1. 白色巨塔，尸骨成堆，在通往理想之路上，医者的信念并无对错；<br>2. 想改变什么，必先提升自己，但在提升自己之后，又很可能忘记自己的初心；<br>3. 能屈能伸终究还是对人来说的，阶级层次之间终究有别；<br>4. 呀吧哩钱和权才是永恒的话题，但只有生命才是最真实的。 ——观《白色巨塔》</td></tr><tr class="odd"><td style="text-align:center">2018-05-18</td><td style="text-align:center">「暴漫」死亡的原因应该是用户基数太大，而且又不合作。嗯，大概是这样吧 ╮(╯▽╰)╭ ，至于真相是。。。。。。</td></tr><tr class="even"><td style="text-align:center">2018-03-14</td><td style="text-align:center">曾看到一句类似这样的话：“死刑最可怕的不是它本身，而是其漫长的等待过程”。——观《大卫·戈尔的一生》</td></tr><tr class="odd"><td style="text-align:center">2018-03-06</td><td style="text-align:center">吃饭抢单，一如既往的高质量反转。——观《九号秘事》S03E03</td></tr><tr class="even"><td style="text-align:center">2018-02-06</td><td style="text-align:center">每件事都有其价值，做的事不同，得到的也不同，有些人辛劳一生，却穷困潦倒，有些人游手好闲，照样荣华富贵。这取决于你的爹和你做的事。</td></tr><tr class="odd"><td style="text-align:center">2018-01-30</td><td style="text-align:center">重复的事情总有一天都会被机器取代。</td></tr><tr class="even"><td style="text-align:center">2018-01-10</td><td style="text-align:center">真正的真相只掌握在少数人手里。</td></tr><tr class="odd"><td style="text-align:center">2018-01-06</td><td style="text-align:center">老师终究只是一种职业，而学校服务的对象以老师为主，学生明明是被约束自由的一方，却还要给学校支付相应的费用，这感觉有点不正常啊。仔细想想又挺正常的，毕竟学校本身没逼你去，是你自己去的，既然要去一个本身不属于你的地方，当然要先缴各种服务费，即使物非所值。那为啥要去呢？</td></tr><tr class="even"><td style="text-align:center">2017-12-24</td><td style="text-align:center">当隐私荡然无存，你又会如何 🤔。——观《 菲利普·K·迪克的电子梦》S01E01</td></tr><tr class="odd"><td style="text-align:center">2017-12-21</td><td style="text-align:center">世界很渺小，差的只是一个引路人。</td></tr><tr class="even"><td style="text-align:center">2017-12-20</td><td style="text-align:center">无知是福，不谈国是 :）。</td></tr><tr class="odd"><td style="text-align:center">2017-12-07</td><td style="text-align:center">社会工程学，有意思的领域。——观《我是谁：没有绝对安全的系统》</td></tr><tr class="even"><td style="text-align:center">2017-11-29</td><td style="text-align:center">知道的越多，不知道的也越多。</td></tr><tr class="odd"><td style="text-align:center">2017-11-15</td><td style="text-align:center">我所理解的编程就是用尽可能简单的方法得到想要的变量值。</td></tr><tr class="even"><td style="text-align:center">2017-10-24</td><td style="text-align:center">读研究生两个月，最大的改变就是对人对事都比以前有更大的耐心了 :）。</td></tr><tr class="odd"><td style="text-align:center">2017-10-21</td><td style="text-align:center">无论什么事，当ta成为一种任务的时候，都是一种负担。</td></tr><tr class="even"><td style="text-align:center">2017-10-20</td><td style="text-align:center">键盘侠就该看看《黑镜》S03E06，真看热闹不嫌事大啊 😒。</td></tr><tr class="odd"><td style="text-align:center">2017-10-19</td><td style="text-align:center">人类基因组计划，真不知道是好是坏，希望是好的吧 😶。——观《黑镜》S03E05</td></tr><tr class="even"><td style="text-align:center">2017-10-15</td><td style="text-align:center">镇定，面不改色；节奏很快，就一个晚上的事，音乐和光影也很赞 👍。——观《暗花》</td></tr><tr class="odd"><td style="text-align:center">2017-10-07</td><td style="text-align:center">国家意志啊，让人不由得想起那年春夏之交（5月35日）的一场风波╮(╯▽╰)╭。——观《出租车司机》</td></tr><tr class="even"><td style="text-align:center">2017-10-04</td><td style="text-align:center">什么时候能控制情绪了，什么时候就成熟了。——观《头脑特工队》</td></tr><tr class="odd"><td style="text-align:center">2017-10-03</td><td style="text-align:center">所谓的朋友（ta）只是在正确的时间正确的地点遇到的正确的人。</td></tr><tr class="even"><td style="text-align:center">2017-09-29</td><td style="text-align:center">1. 有些事不知道比知道要好，但真相总还是知道要好。<br>2. 不同层次的人心态不同，难以相互理解。</td></tr><tr class="odd"><td style="text-align:center">2017-09-28</td><td style="text-align:center">各大（网络）小说家的风格真的很难改变啊！ 😪</td></tr><tr class="even"><td style="text-align:center">2017-09-23</td><td style="text-align:center">1. 你想成为什么样的人，必须自己决定。——《虫师》<br>2. 情感是最不可控的。——观《宝莱坞机器人之恋》<br>3. 人或许只有善恶，没有好坏。</td></tr><tr class="odd"><td style="text-align:center">2017-08-29</td><td style="text-align:center">科研之上，如何能成为一个挖坑人（开创性的结果）？ 😕</td></tr><tr class="even"><td style="text-align:center">2017-08-11</td><td style="text-align:center">学生最重要的两种能力是学习能力和解决问题的能力。</td></tr><tr class="odd"><td style="text-align:center">2017-08-10</td><td style="text-align:center">爱情是需要理由的。</td></tr><tr class="even"><td style="text-align:center">2017-08-05</td><td style="text-align:center">无能是万恶之源。</td></tr><tr class="odd"><td style="text-align:center">2017-07-20</td><td style="text-align:center">有些话，自己心里明白就行，绝对不能说出来，否则可能存在某种未知的危险。</td></tr><tr class="even"><td style="text-align:center">2017-07-18</td><td style="text-align:center">很多东西是不能向别人推荐的，比如音乐，电影，小说等自己喜欢的东西。</td></tr><tr class="odd"><td style="text-align:center">2017-07-14</td><td style="text-align:center">有些事是交给别人判断的，自己心里知道就行；有些事是交给自己判断的，自己心里知道就行。</td></tr><tr class="even"><td style="text-align:center">2017-07-11</td><td style="text-align:center">走进一个学科之前，最先应该知道的是该学科的研究对象、研究方法，以及当前研究中的热点难点问题，而不应该被广告一样的花哨演示糊弄住。——《上海交通大学学生生存手册》</td></tr><tr class="odd"><td style="text-align:center">2017-04-09</td><td style="text-align:center">真正的独立，应该是离开任何人你都能活的好好的；真正的自由，应该是任何人都不能让你做违背你意志的事。</td></tr><tr class="even"><td style="text-align:center">2017-02-08</td><td style="text-align:center">小提琴，悠扬，忧伤。</td></tr><tr class="odd"><td style="text-align:center">2017-01-27</td><td style="text-align:center">唉！渐行渐远╮(╯▽╰)╭。</td></tr><tr class="even"><td style="text-align:center">2017-01-18</td><td style="text-align:center">不能飞的猪，就只是猪而已。——《红猪》</td></tr><tr class="odd"><td style="text-align:center">2016-12-30</td><td style="text-align:center">梦想还是要有的，万一实现了呢，试一下又不吃亏。——观《百日梦想家》</td></tr><tr class="even"><td style="text-align:center">2016-12-26</td><td style="text-align:center">过去的如果就这么过去了，那以后只会越来越糟。——《驴得水》</td></tr><tr class="odd"><td style="text-align:center">2016-12-25</td><td style="text-align:center">只有人才是最重要的。</td></tr><tr class="even"><td style="text-align:center">2016-12-10</td><td style="text-align:center">与人相处之道，不外乎尊重和坚强。</td></tr><tr class="odd"><td style="text-align:center">2016-11-06</td><td style="text-align:center">烈日灼心，片如其名。——观《烈日灼心》</td></tr><tr class="even"><td style="text-align:center">2016-11-04</td><td style="text-align:center">后来我发现，教授们貌似不喜欢有自己想法的学生，他们更希望找到愿意“打下手”的学生，帮助实现他们自己的想法。——《王垠：我和权威的故事》</td></tr><tr class="odd"><td style="text-align:center">2016-10-31</td><td style="text-align:center">为何总要责怪自己？为何要为没必要的人改变自己？不需要做老好人，做好自己，随便别人。——观《被嫌弃的松子的一生》</td></tr><tr class="even"><td style="text-align:center">2016-10-30</td><td style="text-align:center">3~7的小孩的自主谎言最可怕，撒谎乃人之天性，远离无脑之人。——观《狩猎》</td></tr><tr class="odd"><td style="text-align:center">2016-10-27</td><td style="text-align:center">世界上有三种人，一种是人渣，一种愚漠的人，还有一种是所谓的好人。第二种人最多，参考正态分布。——观《熔炉》</td></tr><tr class="even"><td style="text-align:center">2016-10-22</td><td style="text-align:center">面对长者（诸如领导，老师等），要多听他们说，自己尽量少说，绝对不要找理由，要多说嗯，是的，对的，没错，明白，可以等肯定语句，绝对不要说由于，因为等原因语句。更重要的是尽量少说自己不知道，忘记了，了解一点等否定语句，不要把自己差的一面表现出来；要说自己会，行，知道等肯定语句，一定要把自己好的一面表现120%出来。（※附：以 Shaun 2017-12-21的眼光来看这段话还是不妥）</td></tr><tr class="odd"><td style="text-align:center">2016-10-02</td><td style="text-align:center">平静中的悲和喜，最悲痛。——观《那年夏天，宁静的海》</td></tr><tr class="even"><td style="text-align:center">2016-09-22</td><td style="text-align:center">韩国好的电影对人性的把握比较到位，但有时为了突出人性好的一面，而做的有点婊了，为了剧情而剧情。——观《摩天楼》《流感》《铁线虫入侵》《釜山行》</td></tr><tr class="odd"><td style="text-align:center">2016-09-13</td><td style="text-align:center">这世上有很多事，不试一下永远不会知道结果。</td></tr><tr class="even"><td style="text-align:center">2016-09-05</td><td style="text-align:center">公式本就存在，就等有天赋的人去感知并发现它。——观《知无涯者》</td></tr><tr class="odd"><td style="text-align:center">2016-09-03</td><td style="text-align:center">管理者需要心平气和，更要沉得住气，有耐心。</td></tr><tr class="even"><td style="text-align:center">2016-08-12</td><td style="text-align:center">自紧力，自紧扳手，和初中做的物理实验：把两本书夹在一起后，无论怎么用力向两边拉都拉不开，估计有点类似吧。（※附：以 Shaun 2017-12-21的眼光来看这个事感觉有点玄学）</td></tr><tr class="odd"><td style="text-align:center">2016-08-10</td><td style="text-align:center">为什么人们总认为小孩（弱者）说的是对的？有没有想过，有时候小孩并不小，弱者并不弱。</td></tr><tr class="even"><td style="text-align:center">2016-08-09</td><td style="text-align:center">《人工智能》，好可怖的一个世界。——观《人工智能》</td></tr><tr class="odd"><td style="text-align:center">2016-08-06</td><td style="text-align:center">一起做一件事能很好的增进感情。（※附：以 Shaun 2017-12-21的眼光来看也有可能增加矛盾╮(╯▽╰)╭）</td></tr><tr class="even"><td style="text-align:center">2016-08-04</td><td style="text-align:center">尽量不要去接手别人已经做了一部分的事物。（※附：以 Shaun 2017-12-21的眼光来看如果别人做的很好理解的话接手也可以）</td></tr><tr class="odd"><td style="text-align:center">2016-08-02</td><td style="text-align:center">1. 有时候很难理解他人，只是因为没有和他人类似的经历而已。<br>2. 让人的本性被改变咋就这么难？读大学是掉噶果？（※附：以 Shaun 2017-12-21的眼光来看ta确实老了，也变了，或许时间能改变一切吧）</td></tr><tr class="even"><td style="text-align:center">2016-07-29</td><td style="text-align:center">《计算机：一部历史》，很有意思的一本计算机史。</td></tr><tr class="odd"><td style="text-align:center">2016-07-26</td><td style="text-align:center">人们总是习惯于用固有的标准看待新事物。</td></tr><tr class="even"><td style="text-align:center">2016-07-24</td><td style="text-align:center">《妖尾》的世界观简直不敢苟同，世界上真有那种人，杀了或要杀自己朋友的人还能做伙伴？每遇到boss第一次总被秒杀，第二次才能完胜？这尼玛是什么逻辑。</td></tr><tr class="odd"><td style="text-align:center">2016-07-17</td><td style="text-align:center">1. 不要嘲笑别人的梦想，也不要轻易说出自己的梦想。<br>2. 看完《活着》，心情有点沉重，难道生命的意义就在于为活着而活着？或者还是太年轻了。</td></tr><tr class="even"><td style="text-align:center">2016-07-16</td><td style="text-align:center">1. 是待人以诚，人待以诚，还是人待以诚，待人以诚？不好说。<br>2. 游戏能代表计算机应用技术的最高水平。</td></tr><tr class="odd"><td style="text-align:center">2016-07-13</td><td style="text-align:center">情景不同，分类不同。</td></tr><tr class="even"><td style="text-align:center">2016-07-12</td><td style="text-align:center">下属（泛指），多看，多听，多想，多做，少说话。</td></tr><tr class="odd"><td style="text-align:center">2016-07-10</td><td style="text-align:center">1. 世上最痛苦的事莫过于对着自己不想看到的人谄媚。<br>2. 不同的时刻，不同的场景，不同的心情，喜好不一样。</td></tr><tr class="even"><td style="text-align:center">2016-06-29</td><td style="text-align:center">口吃可能不是遗传的，也可能是婴儿学习过程中的一种畸形。</td></tr><tr class="odd"><td style="text-align:center">2016-06-23</td><td style="text-align:center">1. 何不让自己的人生多些经历。<br>2. 世上大多数的猜忌、争论，都是由于每个人总是认为自己是对的。</td></tr><tr class="even"><td style="text-align:center">2016-06-16</td><td style="text-align:center">1. 多媒体识别的关键在于提取图像、视频和音频的“特征”（即向量）。<br>2. 我们周围的人是否在演戏？我们是否在戏中？人生入戏，戏如人生。——观《楚门的世界》</td></tr><tr class="odd"><td style="text-align:center">2016-06-13</td><td style="text-align:center">1. 不管变成什么样，问心无愧就好。<br>2. 人越成熟就藏得越深。<br>3. 完全不需要和别人比，只需和昨天的自己比。</td></tr><tr class="even"><td style="text-align:center">2016-06-09</td><td style="text-align:center">1. 在公共环境（贴吧，评论区等）下发言，首先要做好被喷的准备，网络上从来不缺少键盘侠。<br>2. 眼中世界不同的人，终究会分开。</td></tr><tr class="odd"><td style="text-align:center">2016-05-27</td><td style="text-align:center">有些东西是让人看到会产生反感的，而有些东西明明被人讨厌，却因为它没有那么张扬的外面，所以很容易被人忽视的。——七月寒风《幻灵》</td></tr><tr class="even"><td style="text-align:center">2016-05-20</td><td style="text-align:center">1. 不要随便对别人说出你的想法和理解，因为可能在别人看来，你的想法和理解完全就是个笑话和讽点。最后，最重要的是看清他人是不是和你是一个世界的，世界不同，观念，观点很难相同。<br>2. 绝大部分老师只看结课论文的排版如何。</td></tr><tr class="odd"><td style="text-align:center">2016-05-18</td><td style="text-align:center">儒家治国，道家处事。（※附：以 Shaun 2017-12-22的眼光来看有点不敢苟同）</td></tr><tr class="even"><td style="text-align:center">2016-05-16</td><td style="text-align:center">人们或多或少都有一种同情弱者的心态，所以有时候适当的处于弱势并不是一件坏事。</td></tr><tr class="odd"><td style="text-align:center">2016-05-09</td><td style="text-align:center">大学里的成绩更多的是取决于你了不了解老师，你知不知道老师真正想要你写什么，讲什么。</td></tr><tr class="even"><td style="text-align:center">2016-05-02</td><td style="text-align:center">看完《浪潮之巅》才明白“软件即服务”，软件提供的实际上是某种功能，某种作用，而这种功能是软件所在平台没有的，但是却是人们使用时不可或缺的，那么企业提供这个软件，就是在提供一种服务。就像饭店里的服务员一样，上菜时饭店提供的一种服务，但不是饭店本身就有的，饭店真正提供的只是一个场所和食物。<br>使用的人数决定市场，不管是付费还是免费，只要能抓住更多的用户，就是胜者。</td></tr><tr class="odd"><td style="text-align:center">2016-04-29</td><td style="text-align:center">世界上有两种程序员，一种是写技术的，另一种是用技术的。（※附：以 Shaun 2017-12-22的眼光来看写者和用者并没有很明确的界线，更像是一种心态吧）</td></tr><tr class="even"><td style="text-align:center">2016-04-24</td><td style="text-align:center">真没想到，最近看到“人生若只如初见”才知道是什么意思，高中老师曾出了个作文题就叫这个，当时傻傻的不知道什么意思，呵呵，当年的阅历实在太浅。</td></tr><tr class="odd"><td style="text-align:center">2016-04-07</td><td style="text-align:center">你强ta越怕，你弱ta越欺。</td></tr><tr class="even"><td style="text-align:center">2016-04-02</td><td style="text-align:center">黑色幽默，挺有意思的！比较推荐的有：《黑镜》、《蛮荒故事》。</td></tr><tr class="odd"><td style="text-align:center">2016-03-31</td><td style="text-align:center">1. 两个公司在技术上的竞争，除了人的竞争，就是执行力的竞争。——吴军《浪潮之巅》雅虎、惠普精兵简政<br>2. 托尔斯泰讲，幸福的家庭都是相似的，不幸的家庭都是各有各的不幸。在信息工业中，这句话要反过来讲，成功的公司各有各的绝招，失败的公司到是有不少的共同之处。——吴军《浪潮之巅》思科 留住早期员工</td></tr><tr class="even"><td style="text-align:center">2016-03-24</td><td style="text-align:center">有时候，我们想要的东西就在我们面前，我们却因年代久远可能不认得，反而可能亲手毁了ta。——观《SINTEL》</td></tr><tr class="odd"><td style="text-align:center">2016-03-21</td><td style="text-align:center">每次去以前贾里尼克都要确认我们报告的每一页内容都是已经公开发表过的。原因很简单，IBM有世界最好的科学家和工程师，他们可以用比你还快的速度将你还没发表的想法实现、申请专利并发表。<br>盖茨意识到只要垄断了操作系统，就间接垄断了整个行业。——吴军《浪潮之巅》Microsoft<br>在商业领域，保密性是十分重要的，尤其是一个新颖的想法。<br>在积累了一定的用户量之后，商业化也是很简单的。商业的前提是用户。</td></tr><tr class="even"><td style="text-align:center">2016-03-20</td><td style="text-align:center">整个信息技术（Information Technologies，简称IT）产业包括很多领域、很多环节，这些环节之间都是互相关联的。和世界上任何事物同样，IT产业也是不断变化和发展并且有着它自身发展规律的。——吴军《浪潮之巅》IT Law<br>万物发展自有其规律，但这个规律只是一种趋势，趋势总有其临界点，到临界点时将呈现另一种趋势，比如Moore’s Law，功耗就是其临界点。</td></tr><tr class="odd"><td style="text-align:center">2016-03-20</td><td style="text-align:center">英特尔公司做事情非常专注，直到今天，它一直集中精力于个人微机的处理器，每一代产品的研发都是集中大量的人力和资金，每一次都是只能成功不能失败。——吴军《浪潮之巅》Intel<br>专一，虽然能保证做好，但面太窄，一旦市场发生变化，讲很难应对。</td></tr><tr class="even"><td style="text-align:center">2016-03-19</td><td style="text-align:center">时不时调整内部结构，将一些非核心的、长期效益不好的部门卖掉，同时扩大核心的利润高的生意。——吴军《浪潮之巅》IBM<br>认清自己的定位，抓牢自己的核心业务，同时开拓创新。</td></tr><tr class="odd"><td style="text-align:center">2016-03-19</td><td style="text-align:center">当一个公司没有人对它有完全控制时，它的长期发展就会有问题。——吴军《浪潮之巅》AT&amp;T<br>合则生，分则死。</td></tr><tr class="even"><td style="text-align:center">2016-03-19</td><td style="text-align:center">社会在发展，人也在发展，社会的发展体现在人周围事物的变化，而人的发展体现在人自身的变化，这种变化是好是坏，每个人的观点可能不同，没人能预料变化将带来什么，我们唯一所能判断的就是变化给我们现在带来了什么，以此判断以前的变化是好是坏，此时的变化将由未来的人判断。</td></tr><tr class="odd"><td style="text-align:center">2016-03-19</td><td style="text-align:center">大学生和高中生的本质区别在于大学生更会思考，更加注重自学能力，遇到问题是主动去寻找解决方案，而不是像高中生那样被动的等老师来讲解。</td></tr><tr class="even"><td style="text-align:center">2016-03-11</td><td style="text-align:center">时间使人安稳，失去时间将使人迷失，疯狂。</td></tr><tr class="odd"><td style="text-align:center">2016-02-17</td><td style="text-align:center">别人肯不肯帮忙主要取决于你自身的实力基础。</td></tr><tr class="even"><td style="text-align:center">2016-02-03</td><td style="text-align:center">生而不养，养而不教，不如不生。</td></tr><tr class="odd"><td style="text-align:center">2016-01-26</td><td style="text-align:center">为人子女，与父母相处的机会，其实都是见一次少一次的。——罗森《万界天王》</td></tr><tr class="even"><td style="text-align:center">2016-01-24</td><td style="text-align:center">四十多岁的父母是最能包容你的人。（※附：以 Shaun 2017-12-22的眼光来看这里有点欠妥）</td></tr><tr class="odd"><td style="text-align:center">2016-01-23</td><td style="text-align:center">以己度人，更多的是指包容别人的缺点，而不是抱怨别人没有的缺点。</td></tr><tr class="even"><td style="text-align:center">2016-01-16</td><td style="text-align:center">人之为人，在于自制。</td></tr><tr class="odd"><td style="text-align:center">2016-01-08</td><td style="text-align:center">读高中时，我接触到靠自己；读大学时，我逐渐学会靠自己；步入社会时，我将真正靠自己。（※附：以 Shaun 2017-12-22的眼光来看是不可能真正靠自己的，总要与外界交互）</td></tr><tr class="even"><td style="text-align:center">2015-12-30</td><td style="text-align:center">读大学，选择不同的专业，就是选择不同的圈子，而圈子决定话题。</td></tr><tr class="odd"><td style="text-align:center">2015-12-28</td><td style="text-align:center">1. 很多时候，我们买一件东西只是因为心血来潮，而不是真正需要它。<br>2. 贯彻落实“尽量学习”理念。尽量学习有两个方面：尽量多学和尽量精学。</td></tr><tr class="even"><td style="text-align:center">2015-12-07</td><td style="text-align:center">人生充满太多的偶然性。</td></tr><tr class="odd"><td style="text-align:center">2015-11-09</td><td style="text-align:center">所谓杀心，就是去除仇恨。恨一个人也常常意味着怕这个人，只有克服了“怕”之后，“恨”才能转化为杀心，化为力量。—— 冰临神下《死人经》</td></tr><tr class="even"><td style="text-align:center">2015-11-08</td><td style="text-align:center">每天都学一点小知识</td></tr><tr class="odd"><td style="text-align:center">2015-11-05</td><td style="text-align:center">有没有想过，人类也是一种寄生虫，寄生在地球，依靠于太阳，而太阳和地球也只是宇宙里的一粒微尘。——观《宇宙的奇迹》</td></tr><tr class="even"><td style="text-align:center">2015-09-15</td><td style="text-align:center">虽然这不是你理想中的大学，但你可以选择过理想的大学生活。</td></tr><tr class="odd"><td style="text-align:center">2015-09-05</td><td style="text-align:center">没有对生明的敬畏，就永远无法体会到生命的可怕。</td></tr><tr class="even"><td style="text-align:center">2015-09-01</td><td style="text-align:center">因为在乎，所以在意。</td></tr><tr class="odd"><td style="text-align:center">2015-05-16</td><td style="text-align:center">我虽然现在不知道，但我可以学。（※附：以 Shaun 2017-12-22的眼光来看这句话在大部分情况下行不通）</td></tr><tr class="even"><td style="text-align:center">2015-05-15</td><td style="text-align:center">唉！这次回去，已是物是人非，院子不再是院子。</td></tr><tr class="odd"><td style="text-align:center">2015-05-15</td><td style="text-align:center">自杀乃傻之至极。</td></tr><tr class="even"><td style="text-align:center">2015-05-15</td><td style="text-align:center">1. 不抱怨，不找理由。（面对教、训之终极奥义）<br>2. 一本书，读过之后如果没有思考，相当于没读。<br>3. 前人的言行是我们的指路明灯。</td></tr><tr class="odd"><td style="text-align:center">2015-05-15</td><td style="text-align:center">鹿角杀死了冰原狼预示着拜拉席恩将导致史塔克的死亡。<br>不会玩的游戏不要硬去玩，否则终将害人害己。<br>当大雪降下，冷风吹起，独行狼死，群聚狼生。夏天时可以争吵，但一到冬天，我们必须保卫彼此，相互温暖，共享力量。——《冰与火之歌：权利的游戏》</td></tr><tr class="even"><td style="text-align:center">2015-05-15</td><td style="text-align:center">1. 海贼王的海军每个人都有自己坚守的正义。<br>2. 尊重不是别人施舍的，而是自己争取的。<br>3. 环境决定年龄。<br>4. 和平利于知识传播交流，战争利于知识创新突破。</td></tr><tr class="odd"><td style="text-align:center">2015-05-15</td><td style="text-align:center">1. 不要等到老师教，尽量去学自己想学的，要学的。<br>2. 介绍和学习是两码事，介绍可以用PPT，而学习用板书更好。<br>3. 电给人方便，也使人孤独，人与人的联系似存而亡。</td></tr><tr class="even"><td style="text-align:center">2015-04-15</td><td style="text-align:center">是为自己而活？还是为他人而活？</td></tr><tr class="odd"><td style="text-align:center">2015-04-03</td><td style="text-align:center">有时候，人对自己的东西会突然莫名其妙的产生一种厌烦感，从而不想要，从而做错事，但其实这种厌烦感只是暂时的，过一段时间又会恢复成以前那样。</td></tr><tr class="even"><td style="text-align:center">2015-03-10</td><td style="text-align:center">人当想人之不能。</td></tr><tr class="odd"><td style="text-align:center">2014-10-04</td><td style="text-align:center">1. 人之成长，取决于见。<br>2. 世风日下，好人难做。<br>3. 在社会这个大染缸里，我只想做我自己。<br>4. 有些雷区是不能碰的，碰，就会惹火上身。<br>5. 每个人的注重点不一样，带出来的人也不一样。</td></tr><tr class="even"><td style="text-align:center">2014-09-20</td><td style="text-align:center">How did we escape from the prison? It was the work of generations of searchers who took five simple rules to heart . Question authority. No idea is true just because someone says so. Think for yourself . Question yourself. Don’t believe anything just because you want to. Believing something doesn’t make it so. Test ideas by the evidence gained from observation and experiment. If a favorite idea fails a well-desidned test, it’s wrong! Get over it. Follow the evidence, wherever it leads. If you have no evidence , reserve judgment. And perhaps the most important rule of all…… Rember, you could be wrong. Even the best scientists have been wrong about somethings. Newton, Einstein, and every other great scientist in history, they all made mistakes. of course they did – they were human, Science is a way to keep from fooling ourselves and each other. Have scientists known sin? of course. We have misused science, just as we have every other tool at our disposal, and that’s why we can’t afford to leave it in the hands of a powerful few. The more science belongs to all of us, the less likely it is to be misused. These values undermine the appeals of fanaticism and ignorance. ——《Cosmos: A Spacetime Odyssey》<br>我们如何逃出囚笼？是因为世世代代探索者的不懈努力，并且他们发自内心地遵从这5条简单规则。质疑权威。不轻信人言。独立思考。自我质疑。不因自己想要相信，而相信任何事。相信不代表能成为现实。以依靠观察和实验得来的证据来检验想法。如果自己喜欢的想法没有通过全面的检验，它就是错的！ 乐观一点。遵循证据，无论它指向哪里。如果没有证据，不妄下结论。也许最重要的规则就是，要记住，你也会犯错。牛顿、爱因斯坦，还有历史上每一位伟大的科学家，他们都犯过错，这很正常，是人都会犯错。科学让我们不再欺骗别人和自己。科学家们有罪吗？有的。我们曾滥用科学就像手边的工具一样随意使用，因此我们不能把科学放在少数的掌权者手中。当科学更多的属于全人类时，它就越不会被乱用。科学的价值在于能阻止狂热和无知。 ——纪录片《宇宙时空之旅》</td></tr><tr class="odd"><td style="text-align:center">2014-09-20</td><td style="text-align:center">Telling someone your goal makes it less likely to happen.<br>告诉别人你的目标反而使目标不能实现。 ——网易公开课《不要公开宣布个人目标》</td></tr><tr class="even"><td style="text-align:center">2014-09-14</td><td style="text-align:center">每一个客户都是一群客户。</td></tr><tr class="odd"><td style="text-align:center">2014-08-22</td><td style="text-align:center">快做眼前事，未来不可知。</td></tr><tr class="even"><td style="text-align:center">2014-08-13</td><td style="text-align:center">既然扎根于此，何不刻苦努力！</td></tr><tr class="odd"><td style="text-align:center">2014-07-31</td><td style="text-align:center">这个世界很大，你总能找到你的伙伴。<br>既然出生到这个世上，你绝不会总是孤身一人的。 ——《One Piece》</td></tr><tr class="even"><td style="text-align:center">2014-07-26</td><td style="text-align:center">There’s a time when a man needs to fight and a time when he needs to accept that his destiny’s lost. 人有必须奋战的时刻，也有必须接受现实的时刻。 ——《Big Fish》</td></tr><tr class="odd"><td style="text-align:center">2014-07-23</td><td style="text-align:center">每个人的一生都是一部独有的长篇小说。</td></tr><tr class="even"><td style="text-align:center">2014-07-11</td><td style="text-align:center">就算你讨厌ta，也不要在背后议论ta的是非，毕竟议论是非之事必是是非之人。</td></tr><tr class="odd"><td style="text-align:center">2014-06-29</td><td style="text-align:center">世事无常，计划赶不上变化，无须太过伤感。</td></tr><tr class="even"><td style="text-align:center">2014-06-27</td><td style="text-align:center">大 极，小 极，差，和，无大无小。</td></tr><tr class="odd"><td style="text-align:center">2014-06-25</td><td style="text-align:center">荣耀只属于特定的时空。</td></tr><tr class="even"><td style="text-align:center">2014-06-16</td><td style="text-align:center">1. 一个秘密有两个人知道，也便不是秘密。<br>2. 没有做好准备就准备失败。<br>3. 初学计算机语言，多敲代码。<br>4. 不要太在乎别人对你的看法（不管是好是坏），不然你会活的很累。</td></tr><tr class="odd"><td style="text-align:center">2014-06-11</td><td style="text-align:center">分数是老师给的，东西才是自己学的。</td></tr><tr class="even"><td style="text-align:center">2014-06-06</td><td style="text-align:center">参数——来自另一维度的手（上帝之手）（二维中的蚂蚁、三维中的蚂蚁、轻易逃脱囚笼）</td></tr><tr class="odd"><td style="text-align:center">2014-05-30</td><td style="text-align:center">1. 有些话（事）能说（做），有些话（事）不能说（做）。（要会判断）<br>2. 不要在心情极端时做出让自己后悔的事。<br>3. 相比于自律自觉能力，考上一个好大学显得并不是那么重要。<br>4. 在这个人人都装逼的社会，对不对需要自己判断！</td></tr><tr class="even"><td style="text-align:center">2014-05-26</td><td style="text-align:center">“取法乎下，得乎下下；取法乎中，得乎其下；取法乎上，得乎其中；取法上上，得乎其上。” —— 《读大学怎么读》</td></tr><tr class="odd"><td style="text-align:center">2014-05-21</td><td style="text-align:center">1. 其实学校是第一个教会我们说谎的地方。<br>2. 成绩只是老师给的，更重要地是在于你自己有没有学到东西，大学注重的不应是分数，而应是你真正学到的东西！</td></tr><tr class="even"><td style="text-align:center">2014-05-12</td><td style="text-align:center">每个人都是自己生活的主角。</td></tr><tr class="odd"><td style="text-align:center">2014-04-21</td><td style="text-align:center">1. 闲事为何事，何事为闲事！<br>2. 距离！ 适度！<br>3. 人生总有种种不如意之事，但也会有种种如意之事！<br>4. 一般而言，抄不如乱写，乱写不如不写！</td></tr><tr class="even"><td style="text-align:center">2014-04-21</td><td style="text-align:center">1. 世上的事很多，只是看你去不去做，所以何来无聊之说！<br>2. 上大学易，读大学难，且读且珍惜！</td></tr><tr class="odd"><td style="text-align:center">2014-04-19</td><td style="text-align:center">浑浑噩噩的一天，糊糊涂涂的人。</td></tr><tr class="even"><td style="text-align:center">2014-04-01</td><td style="text-align:center">1. 不去争的话就什么都不会有！<br>2. 因为在意，所以紧张！<br>3. 人生就是一个奋斗的过程，人生也因奋斗而精彩！</td></tr><tr class="odd"><td style="text-align:center">2014-04-01</td><td style="text-align:center">1. 永远都不要以为你的时间很多！<br>2. 深沉一点！<br>3. 真搞不懂为什么这么多人喜欢听假话，假话比真话真的管用吗？也难怪现在有这么多假冒伪劣产品，连个话都是假的好。（※附：以 Shaun 2017-12-23的眼光来看在多数情况下假话确实比真话管用，说话也是一门学问啊）</td></tr><tr class="even"><td style="text-align:center">2014-04-01</td><td style="text-align:center">1. 有些路还是自己走得好！<br>2. 天下哪里有白吃的午餐，只有白痴的人。<br>3. 做人可以懒，但不能傻！</td></tr></tbody></table><p>以上均为 Shaun 当时感想，也算是记录一下 Shaun 的心智成长过程吧，有不同意见请保持理智 (๑•̀ㅁ•́ฅ)。</p><h2 id="后记">后记</h2><p>　　哪来的后记，Shaun 的这一生还没过完呢 (╯°□°）╯︵ ┻━┻，（#-_-)┯━┯ 。</p></div><div class="article-content-more"><button type="button" class="article-more--link"><i class="fa fa-angle-double-down fa-3x" aria-hidden="true"></i></button></div></section></article><article id="post-解决写上篇文档“Hexo-GitHub搭建个人博客”遇到的问题" class="article div-border"><header class="article-header"><span class="article-date article-title--index"><i class="fa fa-calendar" aria-hidden="true"></i> <a href="/posts/7d5bc07b.html"><time datetime="2017-08-26T12:20:51.000Z">2017-08-26</time></a></span><section class="article-title article-title--index"><a href="/posts/7d5bc07b.html">解决写上篇文档“Hexo+GitHub搭建个人博客”遇到的问题</a></section><div class="article-label"><div class="article-category label"><i class="fa fa-book" aria-hidden="true"></i> <a class="color1 article-category-link" href="/categories/Problems/">Problems</a></div><div class="article-tag label"><i class="fa fa-bookmark" aria-hidden="true"></i> <a class="color3 article-tag-link" href="/tags/hexo/">hexo</a><a class="color3 article-tag-link" href="/tags/markdown/">markdown</a></div></div></header><section class="article-content"><div class="article-content--excerpt"><h2 id="超链接网址问题">超链接网址问题</h2><p>　　<strong>问题描述：</strong>使用正常的 markdown 超链接格式<code>[]()</code>没问题，然而当直接将一个网址链接放入该文档时，它会将该链接后面的文字也当成是该链接的一部分，直接点击链接时，会将后面的文字也放入浏览器地址栏，从而出现网页 404 错误：<em>404: Page could not be found</em>。</p><p>　　<strong>解决办法：</strong>在网址链接后输入一个空格以隔开网址链接和后面的文字或用<code>&lt;url&gt;</code>将网址括起来。</p></div><div class="article-content--all"><h2 id="超链接网址问题">超链接网址问题</h2><p>　　<strong>问题描述：</strong>使用正常的 markdown 超链接格式<code>[]()</code>没问题，然而当直接将一个网址链接放入该文档时，它会将该链接后面的文字也当成是该链接的一部分，直接点击链接时，会将后面的文字也放入浏览器地址栏，从而出现网页 404 错误：<em>404: Page could not be found</em>。</p><p>　　<strong>解决办法：</strong>在网址链接后输入一个空格以隔开网址链接和后面的文字或用<code>&lt;url&gt;</code>将网址括起来。</p><a id="more"></a><h2 id="超链接样式问题">超链接样式问题</h2><p>　　<strong>问题描述：</strong>Shaun 使用的 hexo 主题是基于 spfk 主题稍微修改过的，spfk 主题能自动修改超链接原有的样式，挺好看的 :D，但是当 Shaun 在 markdown 中数字编号列表，即有序列表中添加超链接时，其样式并没有修改，还是普通的超链接样式。</p><p>　　<strong>解决办法：</strong>没有解决。最后只是跳过了这个问题，就用中文的序号表示列表。</p><h2 id="文本段落问题">文本段落问题</h2><p>　　<strong>问题描述：</strong>为了使文本有段落感，一般都会在段落首字前空两格，但是在 markdown 中空两格，用 hexo 发布后并没有空两格，这使得文档没有段落感，阅读体验有点差。</p><p>　　<strong>解决办法：</strong>将中文输入法由半角切换至全角，在段落首字前输入两个空格即可。</p><h2 id="显示英文尖括号问题">显示英文尖括号问题</h2><p>　　<strong>问题描述：</strong>由于上篇文档需要在文档中显示<code>&lt;youname&gt;</code>，但由于 Hexo 可能将其当做一个 xml 标签处理了，所以发布之后的文档没有显示该文字。</p><p>　　<strong>解决办法：</strong>首先 Shaun 尝试了转义字符<code>\</code>，谁曾想它只出现了一个转义字符，该文字还是没显示，Shaun 差点又要跳过这个问题，将其用另一种表示法了。后来 Shaun 想到这最后不是会转为 html 吗，Shaun 就直接用 html 中尖括号的表示法不就行啦 :p，于是参考<a href="http://liuxufei.com/weblog/jishu/71.html" target="_blank" rel="external">HTML语言中括号(尖括号)的字符编码</a>，用<code>&amp;lt;</code>代替<code>&lt;</code>，用<code>&amp;gt;</code>代替<code>&gt;</code>，最后该文字终于出来了。</p><h2 id="给文字添加颜色问题">给文字添加颜色问题</h2><p>　　<strong>问题描述：</strong>Shaun 想给注意事项上的需要注意的问题添加醒目的颜色，但 markdown 本身不支持给文字添加颜色。</p><p>　　<strong>解决办法：</strong>由于 Hexo 最后会将 markdown 文档转换为 html 文档发布，所以直接将 html 标签写进 markdown 文档，最后自然会出现 html 样式，Shaun 这里参考<a href="http://blog.csdn.net/testcs_dn/article/details/45719357/" target="_blank" rel="external">CSDN-markdown编辑器语法——字体、字号与颜色</a>，给想要变色的文字添加<code>&lt;font color=#FA8072&gt;&lt;/font&gt;</code>标签。</p><h2 id="参考资料">参考资料</h2><p>[1] <a href="http://liuxufei.com/weblog/jishu/71.html" target="_blank" rel="external">HTML语言中括号(尖括号)的字符编码</a>（<a href="http://liuxufei.com/weblog/jishu" class="uri" target="_blank" rel="external">http://liuxufei.com/weblog/jishu</a>）</p><p>[2] <a href="http://blog.csdn.net/testcs_dn/article/details/45719357/" target="_blank" rel="external">CSDN-markdown编辑器语法——字体、字号与颜色</a>（<a href="http://blog.csdn.net/testcs_dn" class="uri" target="_blank" rel="external">http://blog.csdn.net/testcs_dn</a>）</p></div><div class="article-content-more"><button type="button" class="article-more--link"><i class="fa fa-angle-double-down fa-3x" aria-hidden="true"></i></button></div></section></article><nav id="pagination--nav" class="text-center"><a class="extend prev" rel="prev" href="/page/3/">&laquo; Prev</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" href="/page/5/">Next &raquo;</a></nav></main><div id="site-tool"><div class="scroll"><a href="#header"><i class="fa fa-arrow-up"></i></a> <a href="#footer"><i class="fa fa-arrow-down"></i></a></div><div></div></div><aside id="right-col" class="col"><div id="sidebar-sticky--bottom"></div><div id="sidebar"><header class="author-info div-border"><a href="/"><img class="header-avatar" src="/img/avatar.jpg"></a><h1 class="header-author"><a href="/" title="Hi Mate" data-toggle="tooltip">Shaun</a></h1><p class="header-slogan">求知！ 视界！ 未来！ ↖(^ω^)↗</p><div class="social-info"><a class="social-icon" target="_blank" href="http://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&email=qNvAyd3G0d3JxujOx9DFycHEhsvHxQ" title="envelope" data-toggle="tooltip"><i class="fa fa-envelope" aria-hidden="true"></i> </a><a class="social-icon" target="_blank" href="https://github.com/cniter" title="github" data-toggle="tooltip"><i class="fa fa-github" aria-hidden="true"></i> </a><a class="social-icon" target="_blank" href="/atom.xml" title="rss" data-toggle="tooltip"><i class="fa fa-rss" aria-hidden="true"></i> </a><a class="social-icon" target="_blank" href="http://sighttp.qq.com/authd?IDKEY=4faf682653b3b7f5f47b9cb6d2bb8b81de8fa7a8fb8cee12" title="qq" data-toggle="tooltip"><i class="fa fa-qq" aria-hidden="true"></i></a></div></header><div class="search div-border" title="搜索" data-toggle="tooltip"><form id="search-form"><input type="text" id="local-search--input" name="q" results="0" placeholder=" Search..." autocomplete="off" autocorrect="off"> <i class="fa fa-times" onclick="resetSearch()"></i></form><div id="local-search--result"></div><p class="no-result">No results found</p></div><div id="tagcloud" class="tagcanvas div-border" title="标签" data-toggle="tooltip"><canvas width="200" height="200" id="tagcloud-canvas"><p>Anything in here will be replaced on browsers that support the canvas element</p><ul><li><a href="/tags/android/" data-weight="2">android</a></li><li><a href="/tags/c-cpp/" data-weight="6">c/cpp</a></li><li><a href="/tags/clustering/" data-weight="1">clustering</a></li><li><a href="/tags/cv/" data-weight="1">cv</a></li><li><a href="/tags/ffmpeg/" data-weight="1">ffmpeg</a></li><li><a href="/tags/gfw/" data-weight="1">gfw</a></li><li><a href="/tags/git/" data-weight="0">git</a></li><li><a href="/tags/github/" data-weight="1">github</a></li><li><a href="/tags/hexo/" data-weight="8">hexo</a></li><li><a href="/tags/java/" data-weight="2">java</a></li><li><a href="/tags/latex/" data-weight="0">latex</a></li><li><a href="/tags/markdown/" data-weight="1">markdown</a></li><li><a href="/tags/matlab/" data-weight="2">matlab</a></li><li><a href="/tags/network/" data-weight="1">network</a></li><li><a href="/tags/note/" data-weight="2">note</a></li><li><a href="/tags/opencv/" data-weight="10">opencv</a></li><li><a href="/tags/opengl/" data-weight="1">opengl</a></li><li><a href="/tags/python/" data-weight="1">python</a></li><li><a href="/tags/qt/" data-weight="2">qt</a></li><li><a href="/tags/record/" data-weight="3">record</a></li><li><a href="/tags/search/" data-weight="1">search</a></li><li><a href="/tags/segmentation/" data-weight="2">segmentation</a></li><li><a href="/tags/tensorflow/" data-weight="1">tensorflow</a></li><li><a href="/tags/thought/" data-weight="3">thought</a></li><li><a href="/tags/unix-like/" data-weight="1">unix-like</a></li><li><a href="/tags/vscode/" data-weight="1">vscode</a></li></ul></canvas><script src="/plugins/TagCanvas/jquery.tagcanvas.min.js" type="text/javascript"></script><script type="text/javascript">$(document).ready(function(){$("#tagcloud-canvas").tagcanvas({initial:[.1,-.1],activeCursor:'url("/img/cursor/link.cur"), auto',reverse:!0,depth:.75,weight:!0,weightFrom:"data-weight",weightMode:"both",weightSizeMin:15,weightSizeMax:50})||$("#tagcloud").hide()})</script></div><div class="friends div-border" title="友链" data-toggle="tooltip"><a target="_blank" class="friends-link" href="https://cniter.github.io">Shaun&#39;s Space</a></div><div class="revolvermaps div-border" title="访客" data-toggle="tooltip"><script type="text/javascript" src="//rf.revolvermaps.com/0/0/8.js?i=50om5cdoa3h&amp;m=7&amp;c=ff0000&amp;cr1=ffffff&amp;f=arial&amp;l=49" defer></script></div></div><div class="toc-card"><div class="toc-card--head"><i class="fa fa-angle-up" aria-hidden="true"></i></div><div id="toc" class="toc-card--content"><strong class="toc-title">文章列表</strong><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/posts/abe58f8c.html">个人游记</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/26d437be.html">hexo-theme-chi主题更新小记</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/3578e309.html">［译］为什么深度学习没有取代传统的计算机视觉</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/ac4679b5.html">hexo-theme-chi主题开发小记</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/64889158.html">Matlab和OpenCV混合编程小结</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/be7949e4.html">Android实践小结</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/fc1165b7.html">C++数组中的坑</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/cafdd60d.html">Android开发环境配置</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/27a4c8b6.html">Windows实用技巧</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/6315717b.html">FFmpeg剪切与合并命令使用小结</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/fd823bf9.html">解决VSCode使用Cmder作为默认终端问题</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/fddd1e17.html">图割算法之NCuts浅见</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/c42ff8d4.html">图割算法之Graph Cuts浅见</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/b93d943b.html">C++中static用法小结</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/8fb9f004.html">斐波那契数列的三种写法</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/982ff584.html">搜索技巧</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/7cebf0ee.html">17年走了，18年来了</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/e124baa1.html">矩阵的应用之图像仿射变换</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/aef52be2.html">本人常用小工具安利</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/376168c6.html">解决无法打开某个网页问题</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/5f54aa2c.html">PyQt5使用小结</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/82d3b275.html">TensorFlow Object Detection API使用小结</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/2a3d46b0.html">C语言中整型提升问题</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/dece8eba.html">TXT数据转OpenCV中的Mat数据</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/e8b35736.html">OpenCV中滑动条和鼠标事件响应操作的使用小结</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/b6fb6109.html">利用回调函数计算函数运行时间</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/df943c4f.html">论如何科学的上网</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/b1e9411b.html">Hexo的SPFK主题修改小记</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/22c3daf1.html">解决Qt中Qlabel显示OpenCV的Mat数据图像产生扭曲现象问题</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/509ee93b.html">解决OpenCV-2.4.11调用摄像头显示拍摄视频出错问题</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/3bc0decc.html">Hexo添加各种小部件</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/fd0f8195.html">OpenCV中显著性检测算法的使用</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/35132cb7.html">OpenCV中Selective Search算法的使用</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/c3f26b1.html">Win10以树形结构显示文件目录结构</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/68065b99.html">ACGN作品个人印象简评</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/4f6225b7.html">Hexo添加站内本地搜索</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/302a6244.html">用OpenCV显示OpenGL图形</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/7df528b4.html">Win10＋VS2013＋CMake-gui编译和配置OpenCV-3.2.0</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/17017530.html">MyThoughts</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/7d5bc07b.html">解决写上篇文档“Hexo+GitHub搭建个人博客”遇到的问题</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/d7965b48.html">Hexo+GitHub搭建个人博客</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/4a17b156.html">Hello World</a></li></ul></div></div></aside></div></div><span id="cursor-trail"></span> <span class="click-halo"></span><footer id="footer" class="text-center"><div class="copyright-info">&copy; 2017 - 2019 <a href="/">Shaun</a></div><span class="site-visitor"><i class="fa fa-user-o" aria-hidden="true"></i> <span id="busuanzi_value_site_uv"><i class="fa fa-spinner fa-spin"></i></span> &nbsp;|&nbsp; <i class="fa fa-eye" aria-hidden="true"></i> <span id="busuanzi_value_site_pv"><i class="fa fa-spinner fa-spin"></i></span> &nbsp;|&nbsp; <i class="fa fa-hand-o-up" aria-hidden="true"></i> <span id="busuanzi_value_page_pv"><i class="fa fa-spinner fa-spin"></i></span></span><div class="site-info"><a href="http://hexo.io/" target="_blank">Hexo </a>theme <a href="https://github.com/cniter/hexo-theme-chi" target="_blank">Chi </a>by <a href="https://github.com/cniter" target="_blank">Shaun</a></div></footer><script type="text/javascript" async src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML" integrity="sha256-WUED7NFzpsmHtLO7bswSz4JSfkhE+cD4ncKeOznwFSY=" crossorigin="anonymous"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
            processEscapes: true,
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }

        , TeX: {
            extensions: ["extpfeil.js"]
        }
    });
    
    MathJax.Hub.Queue(function() {
        let all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';                 
        }       
    });</script><script type="text/javascript">// 监听搜索结果是否发生变化
    const MutationObserver = window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver;  // Firefox和Chrome早期版本中带有前缀
    const config = { attributes: true, childList: true, characterData: true }; // 配置观察选项
    let target = document.querySelector('#local-search--result');
    let $local_search_result = $("#local-search--result");
    let $no_result = $(".no-result");
    let observer = new MutationObserver(function (mutations) {  // 创建观察者对象
        mutations.forEach(function (mutation) {
            // console.log(mutation.type);
            if (!$local_search_result.text() && $local_search_result.html() != '') {    // 无搜索结果
                $no_result.show(200);
            } else {
                $no_result.hide();
            }
        });
    });
    

    // 激活搜索框时才搜索
    let inputArea = document.querySelector("#local-search--input");
    let getSearchFile = function () {
        // 调用搜索函数
        let search_path = "search.xml";
        if (search_path.length == 0) {
            search_path = "search.xml";
        }
        let path = "/" + search_path;
        searchFunc(path, 'local-search--input', 'local-search--result');
        observer.observe(target, config);   // 传入目标节点和观察选项
    }
    inputArea.onfocus = function () { getSearchFile() }

    // 搜索重置
    let $resetButton = $("#search-form .fa-times");
    let $resultArea = $("#local-search--result");
    inputArea.oninput = function () { $resetButton.show(); }
    let resetSearch = function () {
        $resultArea.html("");
        document.querySelector("#search-form").reset();
        $resetButton.hide();
        $no_result.hide();
        observer.disconnect();  // 停止观察
    }

    // 屏蔽回车
    inputArea.onkeydown = function (event) { if (event.keyCode == 13) return false }

    // 搜索函数
    let searchFunc = function (path, search_id, content_id) {
        'use strict';
        $.ajax({
            url: path,
            dataType: "xml",
            success: function (xmlResponse) {
                // get the contents from search data
                let datas = $("entry", xmlResponse).map(function () {
                    return {
                        title: $("title", this).text(),
                        content: $("content", this).text(),
                        url: $("url", this).text()
                    };
                }).get();
                let $input = document.getElementById(search_id);
                let $resultContent = document.getElementById(content_id);
                $input.addEventListener('input', function () {
                    let str = '<ul class=\"search-result--list\">';
                    let keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                    $resultContent.innerHTML = "";
                    if (this.value.trim().length <= 0) {
                        return;
                    }
                    // perform local searching
                    datas.forEach(function (data) {
                        let isMatch = true;
                        let content_index = [];
                        let data_title = data.title.trim().toLowerCase();
                        let data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                        let data_url = data.url;
                        let index_title = -1;
                        let index_content = -1;
                        let first_occur = -1;
                        // only match artiles with not empty titles and contents
                        if (data_title != '' && data_content != '') {
                            keywords.forEach(function (keyword, i) {
                                index_title = data_title.indexOf(keyword);
                                index_content = data_content.indexOf(keyword);
                                if (index_title < 0 && index_content < 0) {
                                    isMatch = false;
                                } else {
                                    if (index_content < 0) {
                                        index_content = 0;
                                    }
                                    if (i == 0) {
                                        first_occur = index_content;
                                    }
                                }
                            });
                        }
                        // show search results
                        if (isMatch) {
                            str += "<li><a href='/" + data_url + "' class='search-result--title' target='_blank'>" + "> " + data_title + "</a>";
                            let content = data.content.trim().replace(/<[^>]+>/g, "");
                            if (first_occur >= 0) {
                                // cut out characters
                                let start = first_occur - 6;
                                let end = first_occur + 6;
                                if (start < 0) {
                                    start = 0;
                                }
                                if (start == 0) {
                                    end = 10;
                                }
                                if (end > content.length) {
                                    end = content.length;
                                }
                                let match_content = content.substr(start, end);
                                // highlight all keywords
                                keywords.forEach(function (keyword) {
                                    let regS = new RegExp(keyword, "gi");
                                    match_content = match_content.replace(regS, "<em class=\"search-keyword\">" + keyword + "</em>");
                                })
                                str += "<p class=\"search-result\">" + match_content + "...</p>"
                            }
                        }
                    })
                    $resultContent.innerHTML = str;
                })
            }
        })
    }</script><script type="module" src="/js/main.js"></script><script>$(document).ready(function() {
            $("del").attr("title","你知道的太多了ヾ(▼ﾍ▼；) (#｀皿´メ)");
            $('.toc-card').width($('#right-col').width());  // 使目录栏与右侧栏宽度一致            
            
            // 添加脚注提示
            $('a.footnote-ref').each(function (index, elem) {
                let post_id = $(this).parents('article').attr('id');
                let fn_href = $(this).attr('href');
                elem.setAttribute('data-toggle', 'tooltip');
                elem.setAttribute('data-html', 'true');
                elem.setAttribute('title', $("#" + post_id + " " + fn_href).html());
            });
        });
        $(window).on('load', function () {
            $('#sidebar-sticky--bottom').height($('#right-col').height() - $('#sidebar').height() - $('#footer').height());  // 完全填充#right-col高度
        });
        $(function () { $("[data-toggle='tooltip']").tooltip(); });</script><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"Tia/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/Tia/Tia.model.json"},"display":{"position":"left","width":150,"height":300,"hOffset":0,"vOffset":-76},"mobile":{"show":false},"react":{"opacity":0.7},"log":false});</script></body></html>