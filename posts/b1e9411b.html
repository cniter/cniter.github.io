<!DOCTYPE html><html><head><meta charset="utf-8"><title>Hexo的SPFK主题修改小记 | Shaun Yuan&#39;s Blog</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="description" content="前言　　本人一直在对Hexo的SPFK主题进行持续修改以符合本人自己的需求，在修改当中也会遇到一些小问题，以防遇到重复问题，特此记录所遇小问题，至于大问题可能会另外开篇。"><meta name="keywords" content="hexo"><meta property="og:type" content="article"><meta property="og:title" content="Hexo的SPFK主题修改小记"><meta property="og:url" content="http://cniter.github.io/posts/b1e9411b.html"><meta property="og:site_name" content="Shaun Yuan&#39;s Blog"><meta property="og:description" content="前言　　本人一直在对Hexo的SPFK主题进行持续修改以符合本人自己的需求，在修改当中也会遇到一些小问题，以防遇到重复问题，特此记录所遇小问题，至于大问题可能会另外开篇。"><meta property="og:locale" content="zh-Hans"><meta property="og:updated_time" content="2017-12-23T11:12:47.559Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Hexo的SPFK主题修改小记"><meta name="twitter:description" content="前言　　本人一直在对Hexo的SPFK主题进行持续修改以符合本人自己的需求，在修改当中也会遇到一些小问题，以防遇到重复问题，特此记录所遇小问题，至于大问题可能会另外开篇。"><link rel="alternative" href="/atom.xml" title="Shaun Yuan&#39;s Blog" type="application/atom+xml"><link rel="icon" href="/img/favicon.png"><link rel="stylesheet" href="//cdn.bootcss.com/animate.css/3.5.0/animate.min.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="stylesheet" href="/fancybox/jquery.fancybox.css"><script src="/js/pace.js"></script><link href="/css/pace/pace-theme-flash.css" rel="stylesheet"><script>var yiliaConfig={rootUrl:"/",fancybox:!0,animate:!0,isHome:!1,isPost:!0,isArchive:!1,isTag:!1,isCategory:!1,open_in_new:!1}</script></head></html><body><div id="container"><div class="right-col"><div class="intrude-less"><header id="header" class="inner"><a href="/" class="profilepic"><img lazy-src="/img/head.jpg" class="js-avatar"></a><hgroup><h1 class="header-author"><a href="/" title="Hi Mate">Shaun Yuan</a></h1></hgroup><p class="header-subtitle">世界上有两种程序员：一种是创造者，一种是使用者！</p><form id="search-form"><input type="text" id="local-search-input" name="q" results="0" placeholder=" Search..." class="search form-control" autocomplete="off" autocorrect="off"> <i class="fa fa-times" onclick="resetSearch()"></i></form><div id="local-search-result"></div><p class="no-result">No results found</p><div id="switch-btn" class="switch-btn"><div class="icon"><div class="icon-ctn"><div class="icon-wrap icon-house" data-idx="0"><div class="birdhouse"></div><div class="birdhouse_holes"></div></div><div class="icon-wrap icon-ribbon hide" data-idx="1"><div class="ribbon"></div></div><div class="icon-wrap icon-link hide" data-idx="2"><div class="loopback_l"></div><div class="loopback_r"></div></div><div class="icon-wrap icon-me hide" data-idx="3"><div class="user"></div><div class="shoulder"></div></div><div class="icon-wrap icon-globe hide" data-idx="4"><i class="fa fa-globe fa-spin fa-2x" aria-hidden="true"></i></div></div></div><div class="tips-box hide"><div class="tips-arrow"></div><ul class="tips-inner"><li>菜单</li><li>标签</li><li>友情链接</li><li>关于我</li><li>访问情况</li></ul></div></div><div id="switch-area" class="switch-area"><div class="switch-wrap"><section class="switch-part switch-part1"><nav class="header-menu"><ul><li><a href="/archives/">所有文章</a></li></ul></nav><nav class="header-nav"><ul class="social"><a class="fl mail" target="_blank" href="http://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&email=qNvAyd3G0d3JxujOx9DFycHEhsvHxQ" title="mail">mail</a> <a class="fl github" target="_blank" href="https://github.com/cniter" title="github">github</a> <a class="fl rss" target="_blank" href="/atom.xml" title="rss">rss</a> <a class="fl QQ" target="_blank" href="http://sighttp.qq.com/authd?IDKEY=4faf682653b3b7f5f47b9cb6d2bb8b81de8fa7a8fb8cee12" title="QQ">QQ</a></ul></nav></section><section class="switch-part switch-part2"><div class="widget tagcloud" id="js-tagcloud"><a href="/tags/c-cpp/" style="font-size:14px">c/cpp</a> <a href="/tags/gfw/" style="font-size:10px">gfw</a> <a href="/tags/github/" style="font-size:10px">github</a> <a href="/tags/hexo/" style="font-size:18px">hexo</a> <a href="/tags/markdown/" style="font-size:10px">markdown</a> <a href="/tags/opencv/" style="font-size:20px">opencv</a> <a href="/tags/opengl/" style="font-size:10px">opengl</a> <a href="/tags/python/" style="font-size:10px">python</a> <a href="/tags/qt/" style="font-size:12px">qt</a> <a href="/tags/record/" style="font-size:16px">record</a> <a href="/tags/tensorflow/" style="font-size:10px">tensorflow</a> <a href="/tags/thought/" style="font-size:10px">thought</a> <a href="/tags/unix-like/" style="font-size:10px">unix-like</a></div></section><section class="switch-part switch-part3"><div id="js-friends"><a target="_blank" class="main-nav-link switch-friends-link" href="https://657122411.github.io">Tao&#39;s Site</a></div></section><section class="switch-part switch-part4"><div id="js-aboutme">姓名：袁旭<br>CS小硕一名，学以致用，学习使我快乐！<br>Do the Right Thing, Wait to get fired.</div></section><section class="switch-part switch-part5"><div><script type="text/javascript" src="//rf.revolvermaps.com/0/0/8.js?i=50om5cdoa3h&amp;m=7&amp;c=ff0000&amp;cr1=ffffff&amp;f=arial&amp;l=49" defer></script></div></section></div></div></header></div></div><div class="mid-col"><nav id="mobile-nav"><div class="overlay"><div class="slider-trigger"></div><h1 class="header-author js-mobile-header hide"><a href="/" title="Me">Shaun Yuan</a></h1></div><div class="intrude-less"><header id="header" class="inner"><a href="/" class="profilepic"><img lazy-src="/img/head.jpg" class="js-avatar"></a><hgroup><h1 class="header-author"><a href="/" title="Me">Shaun Yuan</a></h1></hgroup><p class="header-subtitle">世界上有两种程序员：一种是创造者，一种是使用者！</p><nav class="header-menu"><ul><li><a href="/archives/">所有文章</a></li><div class="clearfix"></div></ul></nav><nav class="header-nav"><div class="social"><a class="mail" target="_blank" href="http://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&email=qNvAyd3G0d3JxujOx9DFycHEhsvHxQ" title="mail">mail</a> <a class="github" target="_blank" href="https://github.com/cniter" title="github">github</a> <a class="rss" target="_blank" href="/atom.xml" title="rss">rss</a> <a class="QQ" target="_blank" href="http://sighttp.qq.com/authd?IDKEY=4faf682653b3b7f5f47b9cb6d2bb8b81de8fa7a8fb8cee12" title="QQ">QQ</a></div></nav></header></div></nav><div class="body-wrap"><article id="post-Hexo的SPFK主题修改小记" class="article article-type-post" itemscope itemprop="blogPost"><div class="article-meta"><a href="/posts/b1e9411b.html" class="article-date"><time datetime="2017-09-16T10:26:23.000Z" itemprop="datePublished">2017-09-16</time></a></div><div class="article-inner"><input type="hidden" class="isFancy"><header class="article-header"><h1 class="article-title" itemprop="name"><a class="article-title" href="/posts/b1e9411b.html">Hexo的SPFK主题修改小记</a></h1></header><div class="article-info article-info-post"><div class="article-category tagcloud"><a class="article-category-link" href="/categories/建站小记/">建站小记</a></div><div class="article-tag tagcloud"><ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/hexo/">hexo</a></li></ul></div><div class="clearfix"></div></div><div class="article-entry" itemprop="articleBody"><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>　　本人一直在对Hexo的SPFK主题进行持续修改以符合本人自己的需求，在修改当中也会遇到一些小问题，以防遇到重复问题，特此记录所遇小问题，至于大问题可能会另外开篇。</p><a id="more"></a><h2 id="修改篇"><a href="#修改篇" class="headerlink" title="修改篇"></a>修改篇</h2><h3 id="1、修改aboutme排版问题"><a href="#1、修改aboutme排版问题" class="headerlink" title="1、修改aboutme排版问题"></a><font color="#FA8072">1、修改<strong>aboutme</strong>排版问题</font></h3><p><strong><em>修改日期：2017-09-16</em></strong></p><p><strong>需求描述：</strong>本人为了使<strong>aboutme</strong>排版好看一点，使“<strong>关于我</strong>”的内容更有段落感，本人尝试在主题配置文件中aboutme对象的内容添加各种换行转义符号均于事无补，如<code>\n</code>、<code>\r\n</code>、<code>&amp;#13;</code>、<code>&amp;#10;</code>、<code>&lt;br /&gt;</code>等，站点不仅不会换行，还会直接将转义符号都显示出来(╯﹏╰）。</p><p><strong>解决办法：</strong>既然本人基本把所有的换行方法都试过了，还没有任何作用，那就只能是问题出在其它地方了。本人首先找到显示aboutme内容的地方，其位于主题文件夹下<code>\layout\_partial\left-col.ejs</code>，显示aboutme内容的代码为<code>&lt;div id=&quot;js-aboutme&quot;&gt;&lt;%=theme.aboutme%&gt;&lt;/div&gt;</code>，查阅相关资料，具体为<a href="https://cnodejs.org/topic/5711aec2238ae0ac1e3a6a26" target="_blank" rel="external">与大家分享ejs源码阅读心得</a>，其中有这样一段话：</p><blockquote><h><strong>关于ejs模板的五种模式对应几种指令</strong></h><p><code>ejs</code>主要提供了如下几种指令:</p><ul><li><code>&lt;%</code>, 该指令主要通过js中的<code>eval</code>来执行js代码, 如上模板代码<code>&lt;% [1,2].forEach(function(v){ %&gt;</code>将通过<code>eval</code>编译成<code>; [1,2].forEach(function(v){</code>即直接可执行的js代码, 并且不会存放到<code>__output</code>函数中输出.</li><li><strong><code>&lt;%=</code>, 该指令主要用于输出变量内容, 如上模板代码<code>&lt;%= v %&gt;</code>将通过<code>escape</code>函数编译成<code>__append(escape(v))</code>, 可以看到该指令用于输出变量内容, 最后将通过<code>__output</code>输出内容.</strong></li><li><strong><code>&lt;%-</code>, 该指令与<code>&lt;%=</code>区别是, <code>&lt;%=</code>指令使用<code>escape</code>函数来对特殊字符进行编码, 如将<code>&gt;</code>转为<code>%3E</code>, <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/escape" target="_blank" rel="external">查看关于escape函数</a>.</strong></li><li><code>&lt;%#</code>, 该指令主要用于模板内注释, 既不会执行也不会输出.</li><li><code>&lt;%%</code>, 主要用于输出字面值<code>%</code>.</li></ul><p>关于以上各个指令对应的解析, 可参考<code>ejs</code>源码根目录<code>lib/ejs.js</code>文件中的<code>scanLine</code>函数.</p></blockquote><p>从中可得知<code>&lt;%=</code>指令会将变量内容中一些特殊字符先转义，再原封不动的输出，所以本人无论怎么修改主题配置文件中aboutme对象的值，其输出内容都会是原封不动的aboutme对象的值。为了让其输出内容可以有相应的特殊格式，就不能让其转义，只能用<code>&lt;%-</code>指令，将其修改为<code>&lt;div id=&quot;js-aboutme&quot;&gt;&lt;%-theme.aboutme%&gt;&lt;/div&gt;</code>，这样就能使输出内容可以自定义特殊格式，本人最后在aboutme对象的内容中需要换行的地方添加了<code>&lt;br /&gt;</code>，实测如此修改后可以换行。</p><h3 id="2、给左栏添加滚动条"><a href="#2、给左栏添加滚动条" class="headerlink" title="2、给左栏添加滚动条"></a><font color="#FA8072">2、给左栏添加滚动条</font></h3><p><strong><em>修改日期：2017-09-18</em></strong></p><p><strong>需求描述：</strong>SPFK主题是双栏的主题。因为左栏主要是用来显示一些菜单和头像等内容，这些内容也不多，所以原作者就没有添加滚动条。但是由于本人添加了个本地搜索功能，在刚开始文章少的时候还不受影响，但是随着文章的增多，搜索功能就会影响左栏的布局，这是就必须添加一个滚动条了。本以为添加滚动条很简单，就是添加一个<code>overflow: auto;</code>，谁知道还没这么简单╮(╯﹏╰）╭。</p><p><strong>解决办法：</strong>本人对问题的定位没问题，就是修改主题文件夹下的<code>\source\css\_partial\main.styl</code>文件中<em>.left-col</em>样式，问题在于怎么修改，本想直接在其中加入<code>overflow: auto;</code>，按道理说问题就能解决的，但是本人去搜索试试，发现搜索框上方的头像，文字等全部消失了，滚动条没起到作用，而下方的菜单可以通过滚动条看到。于是本人觉得可能是div上界没撑开，而超出的地方却隐藏了，但下界为什么能撑开，本人这里还是很不明白?_?。既然是这里隐藏了，本人就去看相关标签有没有<code>overflow: hidden;</code>属性，谁知道要么是没有，要么是即是关闭了也没有作用，那问题应该不是出在这里。就只能是这些元素所在的子div里了，本人找到其子div属性<em>.intrude-less</em>，其中虽有overflow: auto;但没设置height属性，所以就不能发挥其作用，本人于是给它加上height属性，搜索后发现有两个滚动条，这显然不简约，于是本人把<em>.intrude-less</em>的overflow: auto;属性注释掉，没想到居然能完美解决问题，可能是因为加上高度属性之后就能撑大父元素div了吧（来自某业余前端的猜测(⊙_⊙)）。后面为了更美观，本人把下方菜单区域的div样式<em>.switch-area</em>高度min-height改小了一点，顺便也把主题文件夹下的<code>\layout\_partial\left-col.ejs</code>文件中首行注释掉<code>&lt;!-- &lt;div class=&quot;overlay&quot;&gt;&lt;/div&gt; --&gt;</code>。本人也曾想把height改为min-height，谁知道又出现相同的问题，不得不又改回去。虽然这次已经解决了问题，但有些细节问题还是不太明白，只有等以后前端水平上去了再去想了，如有大佬知道还望不吝赐教(&#94;人&#94;)。</p><h3 id="3、更换鼠标指针"><a href="#3、更换鼠标指针" class="headerlink" title="3、更换鼠标指针"></a><font color="#FA8072">3、更换鼠标指针</font></h3><p><strong><em>修改日期：2017-9-26 ~ 2017-9-27</em></strong></p><p><strong>需求描述：</strong>本人在玩《<strong>Ori and the Blind Forest</strong>》这款游戏的时候觉得其鼠标指针很酷炫，于是想把其鼠标指针放在本人的博客站点中(๑´ڡ`๑) 。</p><p><strong>解决办法：</strong>要想更改指针，首先需要找到对应的指针文件，最终在万能的贴吧得到指引，在<a href="http://www.rw-designer.com/" target="_blank" rel="external">RealWorld Graphics</a>上找到两个ori指针文件，一个是<a href="http://www.rw-designer.com/cursor-detail/100439" target="_blank" rel="external">动态的</a>ani指针文件，还有一个是<a href="http://www.rw-designer.com/cursor-detail/82454" target="_blank" rel="external">静态的</a>cur指针文件（好像该游戏的作者也在steam上的评论中提供了游戏中的指针文件）。既然已经找到了指针文件，就可以开始更换炫酷的鼠标指针(•̀ᴗ•́)。具体更改方法如下：将下好的指针文件放在主题文件下的\source\img文件夹中，在主题配置文件中添加cursor属性：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># set cursor | 设置鼠标指针图标</span></div><div class="line"><span class="attr">cursor:</span> </div><div class="line"><span class="attr">  on:</span> <span class="literal">true</span></div><div class="line"><span class="attr">  cursor_0:</span> <span class="string">img/cursor.ani</span>  <span class="comment"># 首选指针 </span></div><div class="line"><span class="attr">  cursor_1:</span> <span class="string">img/cursor.cur</span>  <span class="comment"># 备选指针</span></div></pre></td></tr></table></figure><p>其中cursor_0和cursor_1代表使用哪个指针，因为firefox和chrome不支持ani文件的指针（好像是ani文件有很大的漏洞），所以ani动态指针是用不了的，只能用cur格式的静态指针，而IE是可以加载ani格式的动态指针，所以本人这里就将两个指针文件全放上去了，首选加载动态指针；最后增加相应的代码调用cursor属性，加载指针文件，在主题文件夹下/layout/_partial/background.ejs文件末尾添加：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">&lt;% if (theme.cursor.on)&#123; %&gt;</div><div class="line">    &lt;style&gt;</div><div class="line">        body&#123;</div><div class="line">            background: #3f3f3f;</div><div class="line">            cursor: url(&lt;%- config.root %&gt;&lt;%- theme.cursor.cursor_0 %&gt;), url(&quot;&lt;%- config.root %&gt;&lt;%- theme.cursor.cursor_1 %&gt;&quot;), auto;</div><div class="line">        &#125;</div><div class="line">    &lt;/style&gt;</div><div class="line">&lt;% &#125; %&gt;</div></pre></td></tr></table></figure><p>如此更新站点之后即可使用新鼠标指针样式，可能需要先进行<code>hexo clean</code>再发布。</p><p><strong>BTW：</strong>这次修改是一个月之前的了，当时不知怎么的忘记记录了，还好本人的git提交记录比较详细，对应的提交记录为：<a href="https://github.com/cniter/cniter.github.io/commit/6c4fb2ddb930f739e2040a2b440106d21aebff04" target="_blank" rel="external">add a function – change cursor</a>和<a href="https://github.com/cniter/cniter.github.io/commit/d24d6d4f3292d7719f292599e6eebd54761c15e5" target="_blank" rel="external">update set cursor function</a> 。</p><h3 id="4、修改打赏问题"><a href="#4、修改打赏问题" class="headerlink" title="4、修改打赏问题"></a><font color="#FA8072">4、修改打赏问题</font></h3><p><strong><em>修改日期：2017-10-13</em></strong></p><p><strong>问题描述：</strong>本人突然想玩一下那个打赏小东西，但照配置文件中指示的那样在文章开头ymal格式中加入<code>reward: true</code>属性，没有任何作用，于是去主题文件夹搜索reward属性相应的代码，结果是“找不到结果”（坑爹了这是，摔！（╯‵□′）╯︵┴─┴ ）。</p><p><strong>解决办法：</strong>既然reward属性找不到就只有搜索reward_type属性，最终在主题文件夹下<code>\spfk_c\layout\_partial\article.ejs</code>文件中找到这样一条语句<code>&lt;% if ((theme.reward_type === 2 || (theme.reward_type === 1 &amp;&amp; post.toc)) &amp;&amp; !index){ %&gt;</code>，其下面就是打赏相关的代码，查看SPFK主题原作者介绍信息（<a href="https://luuman.github.io/2015/12/27/Hexo/HexoTheme/" target="_blank" rel="external">Hexo 主题：SPFK</a>）发现toc属性是用来显示目录的（一个用来打赏的代码怎么与文章目录相关了-_-#），所以上面的toc应该改成reward，修改后的代码为<code>&lt;% if ((theme.reward_type === 2 || (theme.reward_type === 1 &amp;&amp; post.reward)) &amp;&amp; !index){ %&gt;</code>，这时照配置文件中指示的那样在文章开头ymal格式中加入<code>reward: true</code>属性就能在相应的文章后面看到一个大大的“<strong>赏</strong>”字。</p><p>本来写到这里应该打赏这玩意应该完结了，但本人无意中在该文件的下面发现这样一段代码：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;% if (!index &amp;&amp; post.toc != false &amp;&amp; !is_page())&#123; %&gt;</div><div class="line">    &lt;%- partial(&apos;_partial/toc&apos;) %&gt;</div><div class="line">&lt;% &#125; %&gt;</div></pre></td></tr></table></figure><p>这是和toc（即文章目录）真正相关的代码，功能大概就是判断是否加载文章目录相关的代码，如果在文章开头设置<code>toc: false</code>，则该文章不会显示目录，但是如果在文章中不加toc属性，也会显示文章目录，但上面的打赏却不会显示，看起来<code>post.toc != false</code>和<code>post.toc</code>应该逻辑差不多，这里是本人感到十分奇怪的一个地方？后面查阅相关资料（<a href="http://www.w3school.com.cn/jsref/jsref_undefined.asp" target="_blank" rel="external">JavaScript undefined 属性</a>）得知:</p><blockquote><p>注释：null 表示无值，而 undefined 表示一个未声明的变量，或已声明但没有赋值的变量，或一个并不存在的对象属性。</p></blockquote><p>而本文这里因为没有在文章开头设置toc属性，所以其为<code>undefined</code>，其既不为false也不为true，只为undefined，当在<code>if</code>语句中做判断，会执行<code>else</code>分支，作<code>!</code>运算，结果则为：<code>true</code>。所以<code>if(post.toc)</code>不能执行其下代码，因为<code>post.toc</code>为undefined，不为true也不为false，而<code>if(post.toc != false)</code>能执行其下代码，因为<code>post.toc != false</code>为真。至于javascript中<code>if(a == ture)</code>和<code>if(a)</code>的区别具体为：前一种是a必须为1或者true才执行；而后一种只要a不为<code>false undefined null 0 -0 NaN &quot;&quot;</code>这7个中的其中任何一个都能执行。</p><h3 id="5、交换内容栏和左侧栏位置"><a href="#5、交换内容栏和左侧栏位置" class="headerlink" title="5、交换内容栏和左侧栏位置"></a><font color="#FA8072">5、交换内容栏和左侧栏位置</font></h3><p><strong><em>修改日期：2017-11-22 ~ 2017-11-23</em></strong></p><p><strong>需求描述：</strong>本人最近逛网站时发现，好像一些博客网站基本都是把内容放在左侧，百度和google的搜索结果也是在左侧，可能是内容在左侧要好一点吧，于是本人略微修改之后，将内容放在左侧，而原来的左侧栏放到最右侧，好像是顺眼了一点（不排除是心理作用(ಡωಡ)），如果以后还觉得不错的话，再把相关的变量名换掉吧（此次修改仅仅是将CSS相关的值改变，div类名没变）。</p><p><strong>解决办法：</strong>首先当然是定位左侧栏<code>.left-col</code>，它在主题文件夹下source/css/_partial/main.styl文件中，为其添加<code>right: 0px;</code>属性，使左侧栏靠右侧停放；在定位内容栏<code>.mid-col</code> ，将<code>right:0;</code>改成<code>left:0;</code>，将<code>left: 300px;</code>改成<code>right: left-col-width;</code>，使内容栏靠左侧停放，同时使其距离右侧有左侧栏的宽度。最后就是再修改其他一些小东西（比如目录按钮和目录内容div等）的css值，关于这个本人就细述了，反正也就是更改left、right、bottom以及top属性及其值，具体修改了哪些内容可以见本人github提交记录。</p><p><strong>BTW：</strong>诶呀呀！昨天忘记测试手机端，今天用手机打开一看，手机端页面也距右边left-col-width宽度，这使得内容全挤在一起了，完全没法看ರ_ರ …。所以不得不添加手机端样式，定位手机端.mid-col，它在主题文件夹下/source/css/_partial/mobile.styl文件中，为其添加<code>right: 0;</code>属性值；后面看见回到顶部、回到底部的导航栏也有点问题，就在该文件中<code>/*导航*/</code>下面<code>.scroll</code>上面添加：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="selector-id">#scroll</span>&#123;</div><div class="line">    <span class="attribute">right</span>: <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>使得该导航栏靠右停靠。</p><h3 id="6、更新站点部分CSS文件和代码结构"><a href="#6、更新站点部分CSS文件和代码结构" class="headerlink" title="6、更新站点部分CSS文件和代码结构"></a><font color="#FA8072">6、更新站点部分CSS文件和代码结构</font></h3><p><strong><em>修改日期：2017-12-04 ~ 2017-12-06</em></strong></p><p><strong>更新日志：</strong></p><ol><li><p>本人将left-col相关的东西（比如css样式和ejs文件）全部重名为right-col，毕竟经过几天的适应，感觉放在右侧还不错，就干脆也将其重命名算了，所以原左侧栏left-col从现在开始就完全变成右侧栏right-col了；</p></li><li><p>原来的本地搜索框有两个.search样式，本次修改将两个.search样式合并了，删除重复的样式，只留下一个合并后的.search样式；本人同时还优化了一下本地搜索功能的结构，将原来主题配置文件中的search_box属性删掉，给search属性添加一个on的属性来代替search_box属性，这样让结构不那么混乱，只由一个search属性决定本地搜索功能的开启和关闭及功能的实现，而不是像以前那样由search_box属性决定右侧栏搜索框的显示，而search属性决定本地搜索功能的实现；</p></li><li><p>更改右侧栏right-col的overflow样式，原来是右侧栏right-col垂直超出滚动，水平超出隐藏，这样在屏幕比较窄的情况在右侧会出现两条滚动条，很不美观。现在本人将overflow样式改成<code>&amp;:hover {overflow-y: auto; overflow-x: hidden;}</code>，这样只有在鼠标指针悬浮在右侧栏right-col上时才会再右侧栏出现滚动条，这样虽然不能从根本上解决问题，但稍微缓解了一下，等以后再看能不能彻底解决滚动条的问题ರ_ರ …；</p></li><li><p>本人以前添加RevolverMaps这个小部件的时候只是简单粗暴的添加div及对应的样式，完全没考虑到主题的扩展性和易修改性。于是本人将其改成配置文件的形式，在主题配置文件中添加<code>visual_visitor</code>属性，只要将其值设置为<a href="http://www.revolvermaps.com/" target="_blank" rel="external">RevolverMaps官网</a>获取的那串script code，eg：</p><p><code>&lt;script type=&quot;text/javascript&quot; src=&quot;//ra.revolvermaps.com/0/0/8.js?i=0lpycb5p234&amp;amp;m=7&amp;amp;c=ff0000&amp;amp;cr1=ffffff&amp;amp;f=arial&amp;amp;l=49&quot; async=&quot;async&quot;&gt;&lt;/script&gt;</code>，即可在右侧栏菜单下的访问情况中看到一个3D地球实时显示访客的位置信息，本人为了优化异步访问信息，将其中的<code>async=&quot;async&quot;</code>改成<code>defer=&quot;defer&quot;</code>，这样好像能优化加载次序。这两者的区别可参考<a href="https://segmentfault.com/q/1010000000640869" target="_blank" rel="external">defer和async的区别</a>，好像是都能异步加载，只是async是该script加载完立即执行，而defer是该script加载完之后在整个页面结束加载之前执行，也就是最后执行的；</p></li><li><p>最后还修改了MathJax的CDN地址及配置属性。MathJax的配置属性可参考<a href="http://mathjax-chinese-doc.readthedocs.io/en/latest/configuration.html#id3" target="_blank" rel="external">加载和配置MathJax</a>，具体如下：</p><blockquote><p>第一种配置Mahtjax的方法就是使用配置文件。MathJax附带了很多种预制配置文件。它们存储在<code>MathJax/config</code> 目录。主要有其中以下几个：</p><ul><li><code>default.js</code>：这个文件包含了所有MathJax可用的配置选项，并附有注释和说明，你可以编辑它们来满足你的需要。</li><li><code>TeX-AMS-MML_HTMLorMML.js</code>：允许使用 <a href="http://mathjax-chinese-doc.readthedocs.io/en/latest/glossary.html#term-tex" target="_blank" rel="external"><em>TeX</em></a>, <a href="http://mathjax-chinese-doc.readthedocs.io/en/latest/glossary.html#term-latex" target="_blank" rel="external"><em>LaTeX</em></a>, 或者<a href="http://mathjax-chinese-doc.readthedocs.io/en/latest/glossary.html#term-mathml" target="_blank" rel="external"><em>MathML</em></a> 符号书写公式。如果浏览器支持就处理为MathML，否则就使用Html和Css渲染。</li><li><code>TeX-AMS_HTML.js</code>：允许使用 <a href="http://mathjax-chinese-doc.readthedocs.io/en/latest/glossary.html#term-tex" target="_blank" rel="external"><em>TeX</em></a> 或者 <a href="http://mathjax-chinese-doc.readthedocs.io/en/latest/glossary.html#term-latex" target="_blank" rel="external"><em>LaTeX</em></a> 符号书写公式。使用Html和Css渲染。</li><li><code>MML_HTMLorMML.js</code>：允许使用 <a href="http://mathjax-chinese-doc.readthedocs.io/en/latest/glossary.html#term-mathml" target="_blank" rel="external"><em>MathML</em></a> 符号书写公式。如果浏览器支持就处理为MathML，否则就使用Html和Css渲染。</li><li><code>AM_HTMLorMML.js</code>：允许使用 <a href="http://mathjax-chinese-doc.readthedocs.io/en/latest/glossary.html#term-asciimath" target="_blank" rel="external"><em>AsciiMath</em></a> 符号书写。如果浏览器支持就处理为MathML，否则就使用Html和Css渲染。</li><li><code>TeX-AMS-MML_SVG.js</code>：允许使用 <a href="http://mathjax-chinese-doc.readthedocs.io/en/latest/glossary.html#term-tex" target="_blank" rel="external"><em>TeX</em></a>, <a href="http://mathjax-chinese-doc.readthedocs.io/en/latest/glossary.html#term-latex" target="_blank" rel="external"><em>LaTeX</em></a>, 或者<a href="http://mathjax-chinese-doc.readthedocs.io/en/latest/glossary.html#term-mathml" target="_blank" rel="external"><em>MathML</em></a> 符号书写公式。使用SVG产生输出。</li><li><code>TeX-MML-AM_HTMLorMML.js</code>：允许使用 <a href="http://mathjax-chinese-doc.readthedocs.io/en/latest/glossary.html#term-tex" target="_blank" rel="external"><em>TeX</em></a>, <a href="http://mathjax-chinese-doc.readthedocs.io/en/latest/glossary.html#term-latex" target="_blank" rel="external"><em>LaTeX</em></a>,<a href="http://mathjax-chinese-doc.readthedocs.io/en/latest/glossary.html#term-mathml" target="_blank" rel="external"><em>MathML</em></a>,或者 <a href="http://mathjax-chinese-doc.readthedocs.io/en/latest/glossary.html#term-asciimath" target="_blank" rel="external"><em>AsciiMath</em></a> 符号书写公式。如果浏览器支持就处理为MathML，否则就使用Html和Css渲染。</li></ul><p>第一个文件是提供给你修改的。它基本上包含了MathJax的所有配置选项，同时有注释解释。其他的文件就是我们联合配置文件。它们不仅仅配置Mathjax,还预加载了一些配置所需的文件。这些文件内容在 <a href="http://mathjax-chinese-doc.readthedocs.io/en/latest/common-configurations" target="_blank" rel="external">联合配置</a> 中有详细的解释。</p></blockquote><p>原来的CDN地址<strong><em>cdn.mathjax.org</em></strong>已经在2017-04-30日关闭，所以必须更新CDN地址，其推荐的CDN地址为<strong><em>cdnjs.cloudflare.com/ajax/libs/mathjax</em></strong>，而新的MathJax也提供一种一种新的配置文件<code>TeX-MML-AM_CHTML</code>（允许使用 <a href="http://mathjax-chinese-doc.readthedocs.io/en/latest/glossary.html#term-tex" target="_blank" rel="external"><em>TeX</em></a>, <a href="http://mathjax-chinese-doc.readthedocs.io/en/latest/glossary.html#term-latex" target="_blank" rel="external"><em>LaTeX</em></a>,<a href="http://mathjax-chinese-doc.readthedocs.io/en/latest/glossary.html#term-mathml" target="_blank" rel="external"><em>MathML</em></a>或者 <a href="http://mathjax-chinese-doc.readthedocs.io/en/latest/glossary.html#term-asciimath" target="_blank" rel="external"><em>AsciiMath</em></a> 符号书写公式，使用CommonHTML产生输出），新的MathJax推荐使用的就是这种配置文件，因为它计划在V3.0将HTML-CSS输出格式丢弃，只留下CommonHTML和SVG这两种输出格式。而且新的CDN地址不支持<code>/latest/MathJax.js</code>这种格式，必须指定一个确定的版本，截止本人此次修改日期之前，最新的版本为2.7.2，所以比较推荐的一种加载格式为：</p><p><code>&lt;script type=&quot;text/javascript&quot; async src=&quot;https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_CHTML&quot;&gt;&lt;/script&gt;</code> 。</p></li></ol><h3 id="7、添加404页面和一些插件等"><a href="#7、添加404页面和一些插件等" class="headerlink" title="7、添加404页面和一些插件等"></a><font color="#FA8072">7、添加404页面和一些插件等</font></h3><p><strong><em>修改日期：2017-12-09 ~ 2017-12-10</em></strong></p><p><strong>更新日志：</strong></p><ol><li><p>修改文章内a标签的高度，即.article-entry p a中padding的上下边距。文章内的a标签在外面加个虚线框本来就很突出了，还设置上下padding为8px，这就显得有点浮夸了 :) 。最后将其上下边距设为0px；</p></li><li><p>添加404页面，具体参考自：<a href="http://moxfive.xyz/2015/10/16/hexo-404-page/" target="_blank" rel="external">在 Hexo 中创建匹配主题的404页面</a>，</p><blockquote><blockquote><ol><li>启动 Git Bash，进入 Hexo 所在文件夹，输入 <code>hexo new page 404</code> ；</li><li>打开刚新建的页面文件，默认在 Hexo 文件夹根目录下 <code>/source/404/index.md</code>；</li><li>在顶部插入一行，写上<code>permalink: /404</code>，这表示指定该页固定链接为 <code>http://&quot;主页&quot;/404.html</code></li></ol></blockquote><figure class="highlight yaml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="attr">title:</span> <span class="number">404</span> <span class="string">Not</span> <span class="string">Found：该页面无法显示</span></div><div class="line"><span class="attr">toc:</span> <span class="literal">false</span></div><div class="line"><span class="attr">comments:</span> <span class="literal">false</span></div><div class="line"><span class="attr">permalink:</span> <span class="string">/404</span></div><div class="line"><span class="meta">---</span></div></pre></td></tr></table></figure></blockquote></li><li><p>添加hexo-abbrlink插件，使文章生成唯一永久链接。这个插件最好是在建站之初就加上，不然写了很多文章之后又都得重新生成链接，搜索引擎需要再次抓取新链接，不利于SEO，本人这里也就只有等Google慢慢抓取更新，还好写的不多，不算太迟。安装完之后本人在站点配置文件中添加：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="attr">permalink:</span> <span class="string">posts/:abbrlink.html</span> <span class="comment"># 需安装hexo-abbrlink插件</span></div><div class="line"><span class="attr">abbrlink:</span></div><div class="line"><span class="attr">  alg:</span> <span class="string">crc32</span>  <span class="comment"># 算法：crc16(default) and crc32</span></div><div class="line"><span class="attr">  rep:</span> <span class="string">hex</span>    <span class="comment"># 进制：dec(default) and hex</span></div></pre></td></tr></table></figure><p><strong><em>※BTW：</em></strong>需要将原来的permalink注释掉或直接删除。</p><p>更多设置可参考<a href="https://github.com/rozbo/hexo-abbrlink" target="_blank" rel="external"><strong>hexo-abbrlink</strong></a> 。</p></li><li><p>添加hexo-all-minifier插件，快速压缩代码，分别对html、css、js、images进行优化。本人这里就直接使用推荐的配置了，直接在站点配置文件中添加：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attr">all_minifier:</span> <span class="literal">true</span>  <span class="comment"># 需安装hexo-all-minifier插件</span></div></pre></td></tr></table></figure><p>更多设置可参考<a href="https://github.com/chenzhutian/hexo-all-minifier" target="_blank" rel="external"><strong>hexo-all-minifier</strong></a> 。</p></li><li><p>原来文章标题不可点击，反而日期可点击，这有点奇怪◔ ‸◔?。本次修改之后，点击文章标题即为刷新页面。</p></li></ol><h4 id="更新日期：2017-12-19-2017-12-19"><a href="#更新日期：2017-12-19-2017-12-19" class="headerlink" title="更新日期：2017-12-19 ~ 2017-12-19"></a><strong><em>更新日期：2017-12-19 ~ 2017-12-19</em></strong></h4><p><strong>具体修改内容：</strong>主要更新了404页面上面的动图，个人偏好喜欢一些星系漩涡之内的动图，偶然发现这个东西（<a href="http://www.jb51.net/jiaoben/576717.html" target="_blank" rel="external">HTML5+Three.js实现的3D可拖拽银河星系旋转动画特效源码</a>），于是将它的源码略作修改放进本人的404页面，将相关的js文件放入主题文件夹中<code>\source\js</code>文件夹里，最初时是将相关js文件引入路径当成相对路径引入，没想到这样造成有的404页面会显示旋转动图，而有的404页面则不会显示，后面参考网上资料（<a href="https://segmentfault.com/a/1190000007491687" target="_blank" rel="external">解惑页面中的相对路径和绝对路径</a>）了解到：</p><blockquote><ol><li><code>html</code> 中引入的资源（包括<code>js</code>、<code>css</code>、<code>img</code>）<ul><li>相对路径：相对的是 <strong>网页本身的 URL</strong> ；</li><li>绝对路径：相对的是 <strong>网页 URL 的根路径</strong> ；</li></ul></li><li><code>css</code> 中引入的资源<ul><li>相对路径：相对的是 <strong>css 文件本身的 URL</strong> ；</li><li>绝对路径：相对的是 <strong>网页 URL 的根路径</strong>；</li></ul></li></ol><p><strong>结论：</strong><br><code>html</code> 中引入资源的相对路径与 <strong>网页的 URL </strong>有关，而<code>css</code>中则与 <strong>css 资源本身 URL </strong>有关。但使用绝对路径时，不管是在 <code>html</code>中，还是<code>css</code>中，都只与 <strong>网页 URL的根路径</strong>有关。</p></blockquote><p>将相对路径改为绝对路径，即可在本人博客域名下所有404页面正常显示旋转动图。</p><h3 id="8、添加Gitalk评论系统"><a href="#8、添加Gitalk评论系统" class="headerlink" title="8、添加Gitalk评论系统"></a><font color="#FA8072">8、添加Gitalk评论系统</font></h3><p><strong><em>修改日期：2017-12-16</em></strong></p><p>　　Gitalk是一款类似gitment的评论系统，本人先是照着它提供的配置添加之后，发现居然与spfk主题中的require-2.1.6,jquery-1.9.1.min.js冲突，显示不了Gitalk，本人以为是bug，所以就去提了个<a href="https://github.com/gitalk/gitalk/issues/80" target="_blank" rel="external">issue</a>，作者<strong>booxood</strong>还是挺认真负责的（°Д°）Ъ，耐心的解决本人的问题，原来是本人的引用方式有问题，需要用require方式引用，大佬就是大佬<strong>○|￣|_</strong>，小白还是小白，萌新完全没见过还有这种操作，也算是开眼界了✪ω✪。由于大佬解决完问题之后就直接把issue关闭了，所以本人就只有在这里表示感谢了/つ∇T)。本人最后添加gitalk的ejs代码如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">&lt;div id=&quot;comments&quot; class=&quot;gitalk&quot;&gt;</div><div class="line">    &lt;div id=&quot;gitalk-container&quot; class=&quot;article article-inner article-entry&quot;&gt;&lt;/div&gt;</div><div class="line">    &lt;script type=&quot;text/javascript&quot;&gt;</div><div class="line">        require([&apos;https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js&apos;], function (Gitalk) &#123;</div><div class="line">            var gitalk = new Gitalk(&#123;</div><div class="line">                clientID: &apos;&lt;%= theme.gitalk.client_id%&gt;&apos;,</div><div class="line">                clientSecret: &apos;&lt;%= theme.gitalk.client_secret%&gt;&apos;,</div><div class="line">                id: window.location.pathname,</div><div class="line">                repo: &apos;&lt;%= theme.gitalk.repo%&gt;&apos;,</div><div class="line">                owner: &apos;&lt;%= theme.gitalk.owner%&gt;&apos;,</div><div class="line">                admin: &apos;&lt;%= theme.gitalk.admin%&gt;&apos;,</div><div class="line">                // facebook-like distraction free mode</div><div class="line">                distractionFreeMode: true</div><div class="line">            &#125;)</div><div class="line">            gitalk.render(&apos;gitalk-container&apos;)</div><div class="line">        &#125;) </div><div class="line">    &lt;/script&gt;</div><div class="line">&lt;/div&gt;</div></pre></td></tr></table></figure><p>还有其它的一些修改也是仿照gitment的代码添加的，我这上面没有添加css文件是因为gitalk原有的css文件与本人的主题不相符，所以就稍微修改了一下。</p><p><strong>※BTW：</strong>上次修改文章内a标签的高度后突然发现打赏的“<strong>赏</strong>”字背景圆形变成椭圆了o(╯□╰)o，后面发现原来它也继承文章内a标签的属性，没有自己的padding，后面只有给<code>.dashang</code>添加个独立的<code>padding: 8px;</code>。</p><h3 id="9、Fix-Bugs"><a href="#9、Fix-Bugs" class="headerlink" title="9、Fix Bugs"></a><font color="#FA8072">9、Fix Bugs</font></h3><h4 id="修改日期：2017-12-20"><a href="#修改日期：2017-12-20" class="headerlink" title="修改日期：2017-12-20"></a><strong><em>修改日期：2017-12-20</em></strong></h4><p><strong>修复bug：</strong>鼠标悬浮a标签之上会出现显示a标签title内容的气泡，当title内容过多时，会造成气泡位置下调，从而遮住相应a标签内容的bug。</p><p><strong>解决方案为：</strong>定位气泡文件为主题文件夹下<code>\layout\_partial\post\TipTitle.ejs</code>文件，将其中气泡出现的位置改变，原来气泡的位置确定由top和left决定，现改为bottom和left，毕竟气泡是出现在a标签上方，如果将top确定，则title内容过多时，其只能向下扩张，造成气泡位置下移现象，从而遮住原来的a标签内容，改为bottom确定之后，气泡只会向上扩张，气泡位置相对稳定，不会遮住原来的a标签内容。具体修改内容为，将<code>top: offset.top - a.outerHeight() - 15</code>替换为<code>bottom: window.innerHeight - offset.top + 10</code> ，其它内容保持不变。</p><hr><p>待续。。。</p><h2 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h2><p>　　先就写到这里，如后续修改中发现问题再继续记录吧↖(&#94;ω&#94;)↗。</p></div></div><div class="copyright"><p><span>本文标题:</span><a href="/posts/b1e9411b.html">Hexo的SPFK主题修改小记</a></p><p><span>文章作者:</span><a href="/" title="访问 Shaun Yuan 的个人博客">Shaun Yuan</a></p><p><span>发布时间:</span>2017年09月16日 - 18时26分</p><p><span>最后更新:</span>2017年12月23日 - 19时12分</p><p><span>原始链接:</span><a class="post-url" href="/posts/b1e9411b.html" title="Hexo的SPFK主题修改小记">http://cniter.github.io/posts/b1e9411b.html</a> <span class="copy-path" data-clipboard-text="原文: http://cniter.github.io/posts/b1e9411b.html　　作者: Shaun Yuan" title="点击复制文章链接"><i class="fa fa-clipboard"></i></span><script src="/js/clipboard.min.js"></script><script>var clipboard=new Clipboard(".copy-path")</script></p><p><span>许可协议:</span><i class="fa fa-creative-commons"></i> <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/cn/" title="中国大陆 (CC BY-NC-SA 3.0 CN)" target="_blank">"署名-非商用-相同方式共享 3.0"</a> 转载请保留原文链接及作者。</p></div><nav id="article-nav"><a href="/posts/df943c4f.html" id="article-nav-newer" class="article-nav-link-wrap"><strong class="article-nav-caption">&lt;</strong><div class="article-nav-title">论如何科学的上网</div></a><a href="/posts/22c3daf1.html" id="article-nav-older" class="article-nav-link-wrap"><div class="article-nav-title">解决Qt中Qlabel显示OpenCV的Mat数据图像产生扭曲现象问题</div><strong class="article-nav-caption">&gt;</strong></a></nav></article><div id="toc" class="toc-article"><strong class="toc-title">文章目录</strong><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#前言"><span class="toc-number">1.</span> <span class="toc-text">前言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#修改篇"><span class="toc-number">2.</span> <span class="toc-text">修改篇</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1、修改aboutme排版问题"><span class="toc-number">2.1.</span> <span class="toc-text">1、修改aboutme排版问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2、给左栏添加滚动条"><span class="toc-number">2.2.</span> <span class="toc-text">2、给左栏添加滚动条</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3、更换鼠标指针"><span class="toc-number">2.3.</span> <span class="toc-text">3、更换鼠标指针</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4、修改打赏问题"><span class="toc-number">2.4.</span> <span class="toc-text">4、修改打赏问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5、交换内容栏和左侧栏位置"><span class="toc-number">2.5.</span> <span class="toc-text">5、交换内容栏和左侧栏位置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6、更新站点部分CSS文件和代码结构"><span class="toc-number">2.6.</span> <span class="toc-text">6、更新站点部分CSS文件和代码结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7、添加404页面和一些插件等"><span class="toc-number">2.7.</span> <span class="toc-text">7、添加404页面和一些插件等</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#更新日期：2017-12-19-2017-12-19"><span class="toc-number">2.7.1.</span> <span class="toc-text">更新日期：2017-12-19 ~ 2017-12-19</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8、添加Gitalk评论系统"><span class="toc-number">2.8.</span> <span class="toc-text">8、添加Gitalk评论系统</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9、Fix-Bugs"><span class="toc-number">2.9.</span> <span class="toc-text">9、Fix Bugs</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#修改日期：2017-12-20"><span class="toc-number">2.9.1.</span> <span class="toc-text">修改日期：2017-12-20</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#后记"><span class="toc-number">3.</span> <span class="toc-text">后记</span></a></li></ol></div><input type="button" id="tocButton" value="隐藏目录" title="点击按钮隐藏或者显示文章目录"><script src="https://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script><script>var valueHide="隐藏目录",valueShow="显示目录";$(".right-col").is(":hidden")&&$("#tocButton").attr("value",valueShow),$("#tocButton").click(function(){$("#toc").is(":hidden")?($("#tocButton").attr("value",valueHide),$("#toc").slideDown(320)):($("#tocButton").attr("value",valueShow),$("#toc").slideUp(350))}),$(".toc").length<1&&$("#toc, #tocButton").hide()</script><div class="bdsharebuttonbox"><a href="#" class="fx fa-weibo bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a> <a href="#" class="fx fa-weixin bds_weixin" data-cmd="weixin" title="分享到微信"></a> <a href="#" class="fx fa-qq bds_sqq" data-cmd="sqq" title="分享到QQ好友"></a> <a href="#" class="fx fa-facebook-official bds_fbook" data-cmd="fbook" title="分享到Facebook"></a> <a href="#" class="fx fa-twitter bds_twi" data-cmd="twi" title="分享到Twitter"></a> <a href="#" class="fx fa-linkedin bds_linkedin" data-cmd="linkedin" title="分享到linkedin"></a> <a href="#" class="fx fa-files-o bds_copy" data-cmd="copy" title="分享到复制网址"></a></div><script>with(window._bd_share_config={common:{bdSnsKey:{},bdText:"",bdMini:"2",bdMiniList:!1,bdPic:"",bdStyle:"2",bdSize:"24"},share:{}},document)(getElementsByTagName("head")[0]||body).appendChild(createElement("script")).src="/static/api/js/share.js?v=89860593.js?cdnversion="+~(-new Date/36e5)</script><div id="comments" class="gitalk"><div id="gitalk-container" class="article article-inner article-entry"></div><script type="text/javascript">require(["https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"],function(i){new i({clientID:"76d001d82d863f78c669",clientSecret:"7d58a8616d460c3fa945cf04ddaa5f07ff1db458",id:window.location.pathname,repo:"cniter.github.io",owner:"cniter",admin:"cniter",distractionFreeMode:!0}).render("gitalk-container")})</script></div><div class="scroll" id="post-nav-button"><a href="/posts/df943c4f.html" title="后一篇: 论如何科学的上网"><i class="fa fa-angle-left"></i> </a><a title="文章列表"><i class="fa fa-bars"></i><i class="fa fa-times"></i></a> <a href="/posts/22c3daf1.html" title="前一篇: 解决Qt中Qlabel显示OpenCV的Mat数据图像产生扭曲现象问题"><i class="fa fa-angle-right"></i></a></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/posts/aef52be2.html">本人常用小工具安利</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/376168c6.html">解决无法打开某个网页问题</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/5f54aa2c.html">PyQt5使用小结</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/82d3b275.html">TensorFlow Object Detection API使用小结</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/2a3d46b0.html">C语言中整型提升问题</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/dece8eba.html">TXT数据转OpenCV中的Mat数据</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/e8b35736.html">OpenCV中滑动条和鼠标事件响应操作的使用小结</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/b6fb6109.html">利用回调函数计算函数运行时间</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/df943c4f.html">论如何科学的上网</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/b1e9411b.html">Hexo的SPFK主题修改小记</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/22c3daf1.html">解决Qt中Qlabel显示OpenCV的Mat数据图像产生扭曲现象问题</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/509ee93b.html">解决OpenCV-2.4.11调用摄像头显示拍摄视频出错问题</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/3bc0decc.html">Hexo添加各种小部件</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/fd0f8195.html">OpenCV中显著性检测算法的使用</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/35132cb7.html">OpenCV中Selective Search算法的使用</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/c3f26b1.html">Win10以树形结构显示文件目录结构</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/4f6225b7.html">Hexo添加站内本地搜索</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/302a6244.html">用OpenCV显示OpenGL图形</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/7df528b4.html">Win10＋VS2013＋CMake-gui编译和配置OpenCV-3.2.0</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/17017530.html">MyThoughts</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/7d5bc07b.html">解决写上篇文档“Hexo+GitHub搭建个人博客”遇到的问题</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/d7965b48.html">Hexo+GitHub搭建个人博客</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/4a17b156.html">Hello World</a></li></ul><script src="https://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script><script>$(".post-list").addClass("toc-article"),$(".post-list-item a").attr("target","_blank"),$("#post-nav-button > a:nth-child(2)").click(function(){$(".fa-bars, .fa-times").toggle(),$(".post-list").toggle(300),$(".toc").length>0&&$("#toc, #tocButton").toggle(200,function(){$(".switch-area").is(":visible")&&$("#tocButton").attr("value",valueHide)})})</script><script></script></div><footer id="footer"><div class="outer"><div id="footer-info"><div class="footer-left">&copy; 2017 Shaun Yuan</div><div class="footer-right"><a href="http://hexo.io/" target="_blank">Hexo</a> <a href="https://cniter.github.io" target="_blank">Blog</a> by Shaun Yuan</div></div><div class="visit"><span id="busuanzi_container_site_pv" style="display:none"><span id="site-visit">极客到访数: <span id="busuanzi_value_site_uv"></span> </span></span><span>, </span><span id="busuanzi_container_page_pv" style="display:none"><span id="page-visit">本页阅读量: <span id="busuanzi_value_page_pv"></span></span></span></div></div></footer></div><script src="https://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script><script src="/js/main.js"></script><script>$(document).ready(function(){var c="url(/background/bg-x.jpg)".replace(/x/gi,Math.ceil(5*Math.random()));$("#mobile-nav").css({"background-image":c,"background-size":"cover","background-position":"center"}),$(".right-col").css({"background-image":c,"background-size":"cover","background-position":"center"})})</script><style>body{background:#3f3f3f;cursor:url(/img/cursor.ani),url(/img/cursor.cur),auto}</style><script type="text/x-mathjax-config">MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});</script><script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_HTMLorMML"></script><div class="scroll" id="scroll"><a href="#"><i class="fa fa-arrow-up"></i></a> <a href="#comments"><i class="fa fa-comments-o"></i></a> <a href="#footer"><i class="fa fa-arrow-down"></i></a></div><script>$(document).ready(function(){$("#comments").length<1&&$("#scroll > a:nth-child(2)").hide()})</script><script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script><script language="javascript">$(function(){$("a[title]").each(function(){var t=$(this),e=t.attr("title");void 0!=e&&""!=e&&t.data("title",e).removeAttr("title").hover(function(){var i=t.offset();$('<div id="anchortitlecontainer"></div>').appendTo($("body")).html(e).css({bottom:window.innerHeight-i.top+10,left:i.left+t.outerWidth()/2+1}).fadeIn(function(){var t=$(this);setTimeout(function(){t.remove()},800*t.text().length)})},function(){$("#anchortitlecontainer").remove()})})})</script><script type="text/javascript">var inputArea=document.querySelector("#local-search-input"),getSearchFile=function(){var e="search.xml";0==e.length&&(e="search.xml"),searchFunc("/"+e,"local-search-input","local-search-result")};inputArea.onfocus=function(){getSearchFile()};var $resetButton=$("#search-form .fa-times"),$resultArea=$("#local-search-result");inputArea.oninput=function(){$resetButton.show()},resetSearch=function(){$resultArea.html(""),document.querySelector("#search-form").reset(),$resetButton.hide(),$(".no-result").hide()},inputArea.onkeydown=function(){if(13==event.keyCode)return!1},$resultArea.bind("DOMNodeRemoved DOMNodeInserted",function(e){$(e.target).text()?$(".no-result").hide():$(".no-result").show(200)});var searchFunc=function(e,t,r){"use strict";$.ajax({url:e,dataType:"xml",success:function(e){var n=$("entry",e).map(function(){return{title:$("title",this).text(),content:$("content",this).text(),url:$("url",this).text()}}).get(),a=document.getElementById(t),s=document.getElementById(r);a.addEventListener("input",function(){var e='<ul class="search-result-list">',t=this.value.trim().toLowerCase().split(/[\s\-]+/);s.innerHTML="",this.value.trim().length<=0||(n.forEach(function(r){var n=!0,a=r.title.trim().toLowerCase(),s=r.content.trim().replace(/<[^>]+>/g,"").toLowerCase(),c=r.url,o=-1,u=-1,i=-1;if(""!=a&&""!=s&&t.forEach(function(e,t){o=a.indexOf(e),u=s.indexOf(e),o<0&&u<0?n=!1:(u<0&&(u=0),0==t&&(i=u))}),n){e+="<li><a href='/"+c+"' class='search-result-title' target='_blank'>> "+a+"</a>";var l=r.content.trim().replace(/<[^>]+>/g,"");if(i>=0){var h=i-6,f=i+6;h<0&&(h=0),0==h&&(f=10),f>l.length&&(f=l.length);var d=l.substr(h,f);t.forEach(function(e){var t=new RegExp(e,"gi");d=d.replace(t,'<em class="search-keyword">'+e+"</em>")}),e+='<p class="search-result">'+d+"...</p>"}}}),s.innerHTML=e)})}})}</script></div></body>